import{F as w,K as n,J as e,aq as v,ap as b}from"./index-23602d79.js";import{u as E,r as P}from"./react-bc846394.js";import{u as R}from"./index.esm-11ba4214.js";import{N as S,a0 as q,a9 as i,aa as y,B as N}from"./@illa-design-df878cb8.js";import"./@emotion-28b7fe46.js";const B=()=>{const c=S(),{t:d}=w(),m=E(),{register:s,handleSubmit:g,watch:u,formState:{errors:r}}=R(),[h,o]=P.useState(!1),p=async a=>{o(!0);try{const t=(await v(a)).headers["illa-token"];if(!t)return;b(t),c.success({content:d("page.user.sign_up.tips.success")}),m("/login")}catch(l){console.error(l)}finally{o(!1)}},f=u("password");return n("div",{className:"signup-page-container",children:[e("h1",{className:"signup-title",children:"Sign Up"}),e("div",{className:"signup-form-container",children:e("form",{onSubmit:g(p),children:n(q,{direction:"vertical",size:"large",children:[n("div",{children:[e("label",{children:"Nickname"}),e(i,{...s("nickname",{required:"Nickname required"}),onChange:a=>s("nickname").onChange({target:{value:a}})}),r.nickname&&e("span",{style:{color:"red"},children:r.nickname.message})]}),n("div",{children:[e("label",{children:"e-mail"}),e(i,{type:"email",...s("email",{required:"e-mail required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid e-mail"}}),onChange:a=>s("email").onChange({target:{value:a}})}),r.email&&e("span",{style:{color:"red"},children:r.email.message})]}),n("div",{children:[e("label",{children:"Password"}),e(i,{type:"password",...s("password",{required:"Password required",minLength:{value:6,message:"Password minimum length of six characters required"}}),onChange:a=>s("password").onChange({target:{value:a}})}),r.password&&e("span",{style:{color:"red"},children:r.password.message})]}),n("div",{children:[e("label",{children:"Password confirmation"}),e(i,{type:"password",...s("confirmPassword",{required:"Password confirmation required",validate:a=>a===f||"Password and Password confirmation does not match"}),onChange:a=>s("confirmPassword").onChange({target:{value:a}})}),r.confirmPassword&&e("span",{style:{color:"red"},children:r.confirmPassword.message})]}),n("div",{children:[e("label",{children:"Role"}),e(y,{options:[{label:"OWNER",value:"OWNER"},{label:"ADMIN",value:"ADMIN"},{label:"EDITOR",value:"EDITOR"},{label:"VIEWER",value:"VIEWER"},{label:"OBSERVER",value:"OBSERVER"}],...s("role",{required:"Role required"}),onChange:a=>s("role").onChange({target:{value:a}})}),r.role&&e("span",{style:{color:"red"},children:r.role.message})]}),e("div",{className:"button-container",children:e(N,{type:"submit",loading:h,children:"Register"})})]})})})]})};export{B as default};
//# sourceMappingURL=signup-140cd2b7.js.map
