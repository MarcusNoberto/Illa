import{F as R,K as n,J as a,aq as f,ap as b}from"./index-55e29bd9.js";import{u as v,r as N}from"./react-bc846394.js";import{u as S}from"./index.esm-11ba4214.js";import{N as I,a0 as O,a9 as r,aa as w,B as C}from"./@illa-design-df878cb8.js";import"./@emotion-28b7fe46.js";const B=()=>{const l=I(),{t:c}=R(),u=v(),{register:s,handleSubmit:d,setValue:g}=S(),[h,o]=N.useState(!1),m=e=>{switch(e){case"OWNER":return 1;case"ADMIN":return 2;case"EDITOR":return 3;case"VIEWER":return 4;case"OBSERVER":return 5;default:return 0}},p=async e=>{o(!0);try{console.log(e);const t={...e,role:m(e.role)},i=(await f(t)).headers["illa-token"];if(!i)return;b(i),l.success({content:c("page.user.sign_up.tips.success")}),u("/login")}catch(t){console.error(t)}finally{o(!1)}},E=e=>{e&&g("role",e)};return n("div",{className:"signup-page-container",children:[a("h1",{className:"signup-title",children:"Sign Up"}),a("div",{className:"signup-form-container",children:a("form",{onSubmit:d(p),children:n(O,{direction:"vertical",size:"large",children:[n("div",{children:[a("label",{children:"Nickname"}),a(r,{...s("nickname"),onChange:e=>s("nickname").onChange({target:{value:e}})})]}),n("div",{children:[a("label",{children:"e-mail"}),a(r,{type:"email",...s("email"),onChange:e=>s("email").onChange({target:{value:e}})})]}),n("div",{children:[a("label",{children:"Password"}),a(r,{type:"password",...s("password"),onChange:e=>({target:{value:e}})})]}),n("div",{children:[a("label",{children:"Password confirmation"}),a(r,{type:"password",...s("confirmPassword"),onChange:e=>({target:{value:e}})})]}),n("div",{children:[a("label",{children:"Role"}),a(w,{options:[{label:"OWNER",value:"OWNER"},{label:"ADMIN",value:"ADMIN"},{label:"EDITOR",value:"EDITOR"},{label:"VIEWER",value:"VIEWER"},{label:"OBSERVER",value:"OBSERVER"}],onChange:e=>E(e)})]}),a("div",{className:"button-container",children:a(C,{type:"submit",loading:h,children:"Register"})})]})})})]})};export{B as default};
//# sourceMappingURL=signup-cc9f3e96.js.map
