{"version":3,"file":"index-bf613987.js","sources":["../../src/assets/page/setting/team.svg?react","../../src/router/loader/accessUtils.ts","../../src/page/setting/landing/style.ts","../../src/page/setting/landing/landingMenu/items.tsx","../../src/page/setting/landing/landingMenu/index.tsx","../../src/page/setting/landing/mobileEntrance.tsx","../../src/page/setting/landing/index.tsx"],"sourcesContent":["import * as React from \"react\";\nconst SvgTeam = (props) => /* @__PURE__ */ React.createElement(\"svg\", { width: 16, height: 16, viewBox: \"0 0 16 16\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", ...props }, /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M9.32735 5.45706C9.32735 7.04331 8.02931 8.3145 6.40954 8.3145C4.79036 8.3145 3.49172 7.04331 3.49172 5.45706C3.49172 3.8708 4.79036 2.59961 6.40954 2.59961C8.02931 2.59961 9.32735 3.8708 9.32735 5.45706ZM2 11.5501C2 10.0817 4.03132 9.71435 6.4096 9.71435C8.8008 9.71435 10.8192 10.0944 10.8192 11.5639C10.8192 13.0323 8.78788 13.3997 6.4096 13.3997C4.0184 13.3997 2 13.0197 2 11.5501ZM10.504 5.50885C10.504 6.31664 10.2563 7.07038 9.82181 7.69649C9.77661 7.76088 9.81653 7.8477 9.8952 7.8615C10.0044 7.87932 10.1165 7.89024 10.231 7.89254C11.37 7.92187 12.3921 7.20377 12.6745 6.12231C13.0931 4.51765 11.8649 3.07686 10.3003 3.07686C10.1306 3.07686 9.968 3.0941 9.80948 3.12573C9.78776 3.13032 9.76428 3.14067 9.75254 3.15907C9.73727 3.18264 9.74843 3.21312 9.76369 3.23324C10.2339 3.8789 10.504 4.66484 10.504 5.50885ZM12.3903 9.02151C13.1559 9.16812 13.659 9.46652 13.8674 9.90175C14.0442 10.2582 14.0442 10.6722 13.8674 11.0286C13.5487 11.7025 12.5201 11.9192 12.1203 11.975C12.0375 11.9865 11.9712 11.9175 11.98 11.8358C12.1843 9.96844 10.5598 9.08303 10.1395 8.8795C10.1218 8.86973 10.1177 8.85593 10.1195 8.84673C10.1207 8.84098 10.1283 8.83178 10.1418 8.83006C11.0512 8.81281 12.0293 8.93527 12.3903 9.02151Z\", fill: \"#787E85\" }));\nexport default SvgTeam;\n","import { TeamInfo, USER_ROLE } from \"@illa-public/public-types\"\nimport { isBiggerThanTargetRole } from \"@illa-public/user-role-utils\"\n\nexport const canMemberAccess = (teamInfo?: TeamInfo) => {\n  if (!teamInfo) return false\n  const currentUserRole = teamInfo?.myRole\n  const allowEditorManageTeamMember =\n    teamInfo?.permission?.allowEditorManageTeamMember\n  const allowViewerManageTeamMember =\n    teamInfo?.permission?.allowViewerManageTeamMember\n  if (allowViewerManageTeamMember && allowEditorManageTeamMember) {\n    return isBiggerThanTargetRole(USER_ROLE.VIEWER, currentUserRole)\n  } else {\n    return [USER_ROLE.OWNER, USER_ROLE.ADMIN].includes(currentUserRole)\n  }\n}\n","import { css } from \"@emotion/react\"\nimport { getColor } from \"@illa-design/react\"\n\nexport const landingTitleStyle = css`\n  width: 100%;\n  padding: 4px 16px 20px 16px;\n  color: ${getColor(\"grayBlue\", \"02\")};\n  font-size: 24px;\n  font-weight: 600;\n`\nexport const landingMenuItemsStyle = css`\n  background-color: #f7f8fa;\n  width: 100%;\n  height: 12px;\n`\nexport const landingMenuTitleStyle = css`\n  display: flex;\n  padding: 9px 16px;\n  align-items: center;\n  gap: 8px;\n  color: ${getColor(\"grayBlue\", \"04\")};\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 22px;\n`\n\nexport const menuItemStyle = css`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 11px 16px;\n  color: ${getColor(\"grayBlue\", \"02\")};\n  font-size: 15px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 22px;\n  &:hover {\n    background-color: ${getColor(\"grayBlue\", \"09\")};\n  }\n`\n\nexport const rightIconStyle = css`\n  color: #a9aeb8;\n`\n\n// mobile\nexport const landingWrapperStyle = css`\n  position: relative;\n  margin: 16px;\n  min-height: 500px;\n`\nexport const avatarStyle = css`\n  margin: 0 auto 48px;\n  width: 100px;\n  height: 100px;\n`\n\nexport const cameraIconStyle = css`\n  width: 28px;\n  height: 28px;\n  position: absolute;\n  top: 72px;\n  right: 113px;\n`\n","import { FC } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\nimport { NextIcon } from \"@illa-design/react\"\nimport { menuItemStyle, rightIconStyle } from \"../style\"\nimport { LandingMenuItemProps } from \"./interface\"\n\nexport const Item: FC<LandingMenuItemProps> = ({ item }) => {\n  const navigate = useNavigate()\n\n  const handleClick = (key: string) => {\n    navigate(key)\n  }\n  return (\n    <div\n      css={menuItemStyle}\n      onClick={() => (item.onClick ? item.onClick() : handleClick(item.path))}\n    >\n      <div>{item.label}</div>\n      <NextIcon css={rightIconStyle} />\n    </div>\n  )\n}\n","import { FC } from \"react\"\nimport { LandingMenuItems } from \"../interface\"\nimport { Item } from \"./items\"\n\nexport const MobileMenuItems: FC<{\n  itemList: LandingMenuItems[]\n}> = ({ itemList }) => {\n  return (\n    <div>\n      {itemList.map((item) =>\n        item.hidden ? null : <Item key={item.path} item={item} />,\n      )}\n    </div>\n  )\n}\n","import { getCurrentTeamInfo } from \"@illa-public/user-data\"\nimport { FC } from \"react\"\nimport { useTranslation } from \"react-i18next\"\nimport { useSelector } from \"react-redux\"\nimport ProfileIcon from \"@/assets/page/setting/profile.svg?react\"\nimport TeamIcon from \"@/assets/page/setting/team.svg?react\"\nimport { canMemberAccess } from \"@/router/loader/accessUtils\"\nimport { onClickLogout } from \"@/utils/auth\"\nimport { MobileMenuItems } from \"./landingMenu\"\nimport {\n  landingMenuItemsStyle,\n  landingMenuTitleStyle,\n  landingTitleStyle,\n} from \"./style\"\n\nconst MobileEntrance: FC = () => {\n  const { t } = useTranslation()\n  const currentTeamInfo = useSelector(getCurrentTeamInfo)\n\n  const notCanAccessMember = !canMemberAccess(currentTeamInfo)\n\n  const accountOptions = [\n    {\n      path: \"/setting/account\",\n      label: t(\"profile.setting.personal_info\"),\n    },\n    {\n      path: \"/setting/password\",\n      label: t(\"profile.setting.password.title\"),\n    },\n    {\n      path: \"/setting/language\",\n      label: t(\"profile.setting.language\"),\n    },\n    {\n      path: \"\",\n      label: t(\"profile.setting.logout\"),\n      onClick: onClickLogout,\n    },\n  ]\n\n  const teamOptions = [\n    {\n      path: `/setting/${currentTeamInfo?.identifier}/members`,\n      label: t(\"team_setting.left_panel.member\"),\n      hidden: notCanAccessMember,\n    },\n  ]\n\n  return (\n    <>\n      <div css={landingTitleStyle}>{t(\"profile.setting.title\")}</div>\n      <div css={landingMenuTitleStyle}>\n        <ProfileIcon />\n        <span>{t(\"profile.setting.group.account\")}</span>\n      </div>\n      <MobileMenuItems itemList={accountOptions} />\n      {notCanAccessMember && (\n        <>\n          <div css={landingMenuItemsStyle} />\n          {currentTeamInfo && (\n            <>\n              <div css={landingMenuTitleStyle}>\n                <TeamIcon />\n                <span>{t(\"profile.setting.group.team\")}</span>\n              </div>\n            </>\n          )}\n          <MobileMenuItems itemList={teamOptions} />\n        </>\n      )}\n    </>\n  )\n}\n\nMobileEntrance.displayName = \"MobileEntrance\"\n\nexport default MobileEntrance\n","import { LayoutAutoChange } from \"@illa-public/layout-auto-change\"\nimport { FC } from \"react\"\nimport { Navigate } from \"react-router-dom\"\nimport SettingMobileLayout from \"@/page/setting/layout/mobile\"\nimport MobileEntrance from \"./mobileEntrance\"\n\nconst SettingLanding: FC = () => {\n  return (\n    <LayoutAutoChange\n      desktopPage={<Navigate to=\"/setting/account\" replace />}\n      mobilePage={\n        <SettingMobileLayout withoutPadding>\n          <MobileEntrance />\n        </SettingMobileLayout>\n      }\n    />\n  )\n}\n\nexport default SettingLanding\n"],"names":["SvgTeam","props","React.createElement","canMemberAccess","teamInfo","currentUserRole","allowEditorManageTeamMember","_a","_b","isBiggerThanTargetRole","USER_ROLE","landingTitleStyle","css","getColor","landingMenuItemsStyle","landingMenuTitleStyle","menuItemStyle","rightIconStyle","Item","item","navigate","useNavigate","handleClick","key","jsxs","jsx","NextIcon","MobileMenuItems","itemList","MobileEntrance","t","useTranslation","currentTeamInfo","useSelector","getCurrentTeamInfo","notCanAccessMember","accountOptions","onClickLogout","teamOptions","Fragment","ProfileIcon","TeamIcon","SettingLanding","LayoutAutoChange","Navigate","SettingMobileLayout"],"mappings":"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"}