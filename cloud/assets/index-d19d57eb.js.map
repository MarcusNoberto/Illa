{"version":3,"file":"index-d19d57eb.js","sources":["../../../../packages/illa-public-component/publicConfig/resource/initConfig/smpt.ts","../../../../packages/illa-public-component/ResourceGenerator/components/ConfigElements/SMTPConfigElement/index.tsx"],"sourcesContent":["import { SMTPResource } from \"@illa-public/public-types\"\n\nexport const SMTPResourceInitial: SMTPResource = {\n  host: \"\",\n  port: \"25\",\n  username: \"\",\n  password: \"\",\n}\n","import { SMTPResourceInitial } from \"@illa-public/public-configs\"\nimport { Resource, SMTPResource } from \"@illa-public/public-types\"\nimport { isCloudVersion } from \"@illa-public/utils\"\nimport { FC, useContext } from \"react\"\nimport { useFormContext } from \"react-hook-form\"\nimport { useTranslation } from \"react-i18next\"\nimport { Divider, getColor } from \"@illa-design/react\"\nimport { ResourceGeneratorContext } from \"../../../provider\"\nimport { validateNotEmpty } from \"../../../utils\"\nimport { ControlledElement } from \"../../ControlledElement\"\nimport { BaseConfigElementProps } from \"../interface\"\nimport {\n  applyConfigItemLabelText,\n  configItemTip,\n  connectType,\n  connectTypeStyle,\n  labelContainer,\n  optionLabelStyle,\n} from \"../style\"\nimport { container } from \"../style\"\n\nconst SMTPConfigElement: FC<BaseConfigElementProps> = (props) => {\n  const { resourceID } = props\n  const { t } = useTranslation()\n  const { control } = useFormContext()\n\n  const { getResourceByID } = useContext(ResourceGeneratorContext)\n  const findResource = getResourceByID(resourceID)\n\n  let content: SMTPResource\n  if (findResource === undefined) {\n    content = SMTPResourceInitial\n  } else {\n    content = (findResource as Resource<SMTPResource>).content\n  }\n\n  return (\n    <>\n      <div css={container}>\n        <ControlledElement\n          controlledType=\"input\"\n          isRequired\n          title={t(\"editor.action.resource.db.label.name\")}\n          control={control}\n          defaultValue={findResource?.resourceName ?? \"\"}\n          rules={[\n            {\n              validate: validateNotEmpty,\n            },\n          ]}\n          placeholders={[t(\"editor.action.resource.db.placeholder.name\")]}\n          name=\"resourceName\"\n          tips={t(\"editor.action.resource.restapi.tip.name\")}\n        />\n        <Divider\n          direction=\"horizontal\"\n          ml=\"24px\"\n          mr=\"24px\"\n          mt=\"8px\"\n          mb=\"8px\"\n          w=\"unset\"\n        />\n        <div css={optionLabelStyle}>\n          {t(\"editor.action.resource.db.title.general_option\")}\n        </div>\n        <ControlledElement\n          title={t(\"editor.action.resource.db.label.hostname_port\")}\n          defaultValue={[content.host, content.port]}\n          name={[\"host\", \"port\"]}\n          controlledType={[\"input\", \"number\"]}\n          control={control}\n          isRequired\n          rules={[\n            {\n              validate: validateNotEmpty,\n            },\n            {\n              required: true,\n            },\n          ]}\n          placeholders={[\n            t(\"editor.action.resource.db.placeholder.hostname\"),\n            \"25\",\n          ]}\n          styles={[\n            {\n              flex: 4,\n            },\n            {\n              flex: 1,\n            },\n          ]}\n          tips={t(\"editor.action.panel.smtp.tips.port\")}\n        />\n        <ControlledElement\n          title={t(\"editor.action.resource.db.label.username_password\")}\n          defaultValue={[content.username, content.password]}\n          name={[\"username\", \"password\"]}\n          controlledType={[\"input\", \"password\"]}\n          control={control}\n          placeholders={[\n            t(\"editor.action.resource.db.placeholder.username\"),\n            t(\"editor.action.resource.db.placeholder.password\"),\n          ]}\n        />\n        {isCloudVersion && (\n          <>\n            <div css={configItemTip}>\n              {t(\"editor.action.resource.db.tip.username_password\")}\n            </div>\n            <div css={connectType}>\n              <div css={labelContainer}>\n                <span\n                  css={applyConfigItemLabelText(getColor(\"grayBlue\", \"02\"))}\n                >\n                  {t(\"editor.action.resource.db.label.connect_type\")}\n                </span>\n              </div>\n              <span css={connectTypeStyle}>\n                {t(\"editor.action.resource.db.tip.connect_type\")}\n              </span>\n            </div>\n          </>\n        )}\n      </div>\n    </>\n  )\n}\n\nSMTPConfigElement.displayName = \"SMTPConfigElement\"\nexport default SMTPConfigElement\n"],"names":["SMTPResourceInitial","SMTPConfigElement","props","resourceID","t","useTranslation","control","useFormContext","getResourceByID","useContext","ResourceGeneratorContext","findResource","content","jsx","Fragment","jsxs","container","ControlledElement","validateNotEmpty","Divider","optionLabelStyle","isCloudVersion"],"mappings":"wmBAEO,MAAMA,EAAoC,CAC/C,KAAM,GACN,KAAM,KACN,SAAU,GACV,SAAU,EACZ,ECcMC,EAAiDC,GAAU,CACzD,KAAA,CAAE,WAAAC,CAAe,EAAAD,EACjB,CAAE,EAAAE,GAAMC,IACR,CAAE,QAAAC,GAAYC,IAEd,CAAE,gBAAAC,CAAA,EAAoBC,EAAA,WAAWC,CAAwB,EACzDC,EAAeH,EAAgBL,CAAU,EAE3C,IAAAS,EACJ,OAAID,IAAiB,OACTC,EAAAZ,EAEVY,EAAWD,EAAwC,QAKjDE,EAAAC,EAAA,CAAA,SAAAC,EAAC,MAAI,CAAA,IAAKC,EACR,SAAA,CAAAH,EAACI,EAAA,CACC,eAAe,QACf,WAAU,GACV,MAAOb,EAAE,sCAAsC,EAC/C,QAAAE,EACA,cAAcK,GAAA,YAAAA,EAAc,eAAgB,GAC5C,MAAO,CACL,CACE,SAAUO,CACZ,CACF,EACA,aAAc,CAACd,EAAE,4CAA4C,CAAC,EAC9D,KAAK,eACL,KAAMA,EAAE,yCAAyC,CAAA,CACnD,EACAS,EAACM,EAAA,CACC,UAAU,aACV,GAAG,OACH,GAAG,OACH,GAAG,MACH,GAAG,MACH,EAAE,OAAA,CACJ,IACC,MAAI,CAAA,IAAKC,EACP,SAAAhB,EAAE,gDAAgD,EACrD,EACAS,EAACI,EAAA,CACC,MAAOb,EAAE,+CAA+C,EACxD,aAAc,CAACQ,EAAQ,KAAMA,EAAQ,IAAI,EACzC,KAAM,CAAC,OAAQ,MAAM,EACrB,eAAgB,CAAC,QAAS,QAAQ,EAClC,QAAAN,EACA,WAAU,GACV,MAAO,CACL,CACE,SAAUY,CACZ,EACA,CACE,SAAU,EACZ,CACF,EACA,aAAc,CACZd,EAAE,gDAAgD,EAClD,IACF,EACA,OAAQ,CACN,CACE,KAAM,CACR,EACA,CACE,KAAM,CACR,CACF,EACA,KAAMA,EAAE,oCAAoC,CAAA,CAC9C,EACAS,EAACI,EAAA,CACC,MAAOb,EAAE,mDAAmD,EAC5D,aAAc,CAACQ,EAAQ,SAAUA,EAAQ,QAAQ,EACjD,KAAM,CAAC,WAAY,UAAU,EAC7B,eAAgB,CAAC,QAAS,UAAU,EACpC,QAAAN,EACA,aAAc,CACZF,EAAE,gDAAgD,EAClDA,EAAE,gDAAgD,CACpD,CAAA,CACF,EACCiB,CAiBC,CAEJ,CAAA,CACF,CAAA,CAEJ,EAEApB,EAAkB,YAAc"}