import{F as E,K as r,J as e,aq as R,ap as b}from"./index-3094a12c.js";import{u as v,r as w}from"./react-bc846394.js";import{u as N}from"./index.esm-11ba4214.js";import{N as S,a0 as y,a9 as o,aa as C,B as I}from"./@illa-design-df878cb8.js";import"./@emotion-28b7fe46.js";const W=()=>{const i=S(),{t:c}=E(),d=v(),{register:s,handleSubmit:m,watch:g,formState:{errors:n}}=N(),[h,t]=w.useState(!1),p=a=>{switch(a){case"OWNER":return 1;case"ADMIN":return 2;case"EDITOR":return 3;case"VIEWER":return 4;case"OBSERVER":return 5;default:return 0}},u=async a=>{t(!0);try{console.log(a);const l={...a,role:p(a.role)},f=(await R(l)).headers["illa-token"];b(f),i.success({content:c("page.user.sign_up.tips.success")}),d("/login")}catch(l){console.error(l)}finally{t(!1)}};return g("password"),r("div",{className:"signup-page-container",children:[e("h1",{className:"signup-title",children:"Sign Up"}),e("div",{className:"signup-form-container",children:e("form",{onSubmit:m(u),children:r(y,{direction:"vertical",size:"large",children:[r("div",{children:[e("label",{children:"Nickname"}),e(o,{...s("nickname",{}),onChange:a=>s("nickname").onChange({target:{value:a}})}),n.nickname&&e("span",{style:{color:"red"},children:n.nickname.message})]}),r("div",{children:[e("label",{children:"e-mail"}),e(o,{type:"email",...s("email",{}),onChange:a=>s("email").onChange({target:{value:a}})}),n.email&&e("span",{style:{color:"red"},children:n.email.message})]}),r("div",{children:[e("label",{children:"Password"}),e(o,{type:"password",...s("password",{}),onChange:a=>s("password").onChange({target:{value:a}})}),n.password&&e("span",{style:{color:"red"},children:n.password.message})]}),r("div",{children:[e("label",{children:"Password confirmation"}),e(o,{type:"password",...s("confirmPassword",{}),onChange:a=>s("confirmPassword").onChange({target:{value:a}})}),n.confirmPassword&&e("span",{style:{color:"red"},children:n.confirmPassword.message})]}),r("div",{children:[e("label",{children:"Role"}),e(C,{options:[{label:"OWNER",value:"OWNER"},{label:"ADMIN",value:"ADMIN"},{label:"EDITOR",value:"EDITOR"},{label:"VIEWER",value:"VIEWER"},{label:"OBSERVER",value:"OBSERVER"}],...s("role",{}),onChange:a=>s("role").onChange({target:{value:a}})}),n.role&&e("span",{style:{color:"red"},children:n.role.message})]}),e("div",{className:"button-container",children:e(I,{type:"submit",loading:h,children:"Register"})})]})})})]})};export{W as default};
//# sourceMappingURL=signup-d78148d5.js.map
