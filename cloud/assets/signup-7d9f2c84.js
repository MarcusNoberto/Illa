import{F as E,K as s,J as a,aq as f,ap as b}from"./index-5b063550.js";import{u as R,r as v}from"./react-bc846394.js";import{u as N}from"./index.esm-11ba4214.js";import{N as S,a0 as w,a9 as r,aa as C,B as I}from"./@illa-design-df878cb8.js";import"./@emotion-28b7fe46.js";const W=()=>{const i=S(),{t:c}=E(),d=R(),{register:n,handleSubmit:u,watch:g,formState:{errors:O}}=N(),[h,o]=v.useState(!1),m=e=>{switch(e){case"OWNER":return 1;case"ADMIN":return 2;case"EDITOR":return 3;case"VIEWER":return 4;case"OBSERVER":return 5;default:return 0}},p=async e=>{o(!0);try{console.log(e);const t={...e,role:m(e.role)};console.log("teste de build atualizado");const l=(await f(t)).headers["illa-token"];if(!l)return;b(l),i.success({content:c("page.user.sign_up.tips.success")}),d("/login")}catch(t){console.error(t)}finally{o(!1)}};return g("password"),s("div",{className:"signup-page-container",children:[a("h1",{className:"signup-title",children:"Sign Up"}),s("div",{className:"signup-form-container",children:[s("form",{onSubmit:u(p),children:[s(w,{direction:"vertical",size:"large",children:[s("div",{children:[a("label",{children:"Nickname"}),";",a(r,{...n("nickname",{}),onChange:e=>n("nickname").onChange({target:{value:e}})}),";"]}),";",s("div",{children:[a("label",{children:"e-mail"}),";",a(r,{type:"email",...n("email",{}),onChange:e=>n("email").onChange({target:{value:e}})}),";"]}),";",s("div",{children:[a("label",{children:"Password"}),";",a(r,{type:"password",...n("password",{}),onChange:e=>n("password").onChange({target:{value:e}})}),";"]}),";",s("div",{children:[a("label",{children:"Password confirmation"}),";",a(r,{type:"password",...n("confirmPassword",{}),onChange:e=>n("confirmPassword").onChange({target:{value:e}})}),";"]}),";",s("div",{children:[a("label",{children:"Role"}),";",a(C,{options:[{label:"OWNER",value:"OWNER"},{label:"ADMIN",value:"ADMIN"},{label:"EDITOR",value:"EDITOR"},{label:"VIEWER",value:"VIEWER"},{label:"OBSERVER",value:"OBSERVER"}],...n("role",{}),onChange:e=>n("role").onChange({target:{value:e}})}),";"]}),";",s("div",{className:"button-container",children:[a(I,{type:"submit",loading:h,children:"Register"}),";"]}),";"]}),";"]}),";"]}),";"]})};export{W as default};
//# sourceMappingURL=signup-7d9f2c84.js.map
