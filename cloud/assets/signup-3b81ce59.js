import{F as v,K as n,J as e,aq as E,ap as R}from"./index-833662e8.js";import{u as b,r as N}from"./react-bc846394.js";import{u as S}from"./index.esm-11ba4214.js";import{N as P,a0 as q,a9 as o,aa as y,B as I}from"./@illa-design-df878cb8.js";import"./@emotion-28b7fe46.js";const W=()=>{const c=P(),{t:d}=v(),m=b(),{register:r,handleSubmit:u,watch:g,formState:{errors:s}}=S(),[h,t]=N.useState(!1),p=a=>{switch(a){case"OWNER":return 1;case"ADMIN":return 2;case"EDITOR":return 3;case"VIEWER":return 4;case"OBSERVER":return 5;default:return 0}},f=async a=>{t(!0);try{console.log(a);const i={...a,role:p(a.role)};console.log("teste de build atualizado");const l=(await E(i)).headers["illa-token"];if(!l)return;R(l),c.success({content:d("page.user.sign_up.tips.success")}),m("/login")}catch(i){console.error(i)}finally{t(!1)}},w=g("password");return n("div",{className:"signup-page-container",children:[e("h1",{className:"signup-title",children:"Sign Up"}),e("div",{className:"signup-form-container",children:e("form",{onSubmit:u(f),children:n(q,{direction:"vertical",size:"large",children:[n("div",{children:[e("label",{children:"Nickname"}),e(o,{...r("nickname",{required:"Nickname required"}),onChange:a=>r("nickname").onChange({target:{value:a}})}),s.nickname&&e("span",{style:{color:"red"},children:s.nickname.message})]}),n("div",{children:[e("label",{children:"e-mail"}),e(o,{type:"email",...r("email",{required:"e-mail required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid e-mail"}}),onChange:a=>r("email").onChange({target:{value:a}})}),s.email&&e("span",{style:{color:"red"},children:s.email.message})]}),n("div",{children:[e("label",{children:"Password"}),e(o,{type:"password",...r("password",{required:"Password required",minLength:{value:6,message:"Password minimum length of six characters required"}}),onChange:a=>r("password").onChange({target:{value:a}})}),s.password&&e("span",{style:{color:"red"},children:s.password.message})]}),n("div",{children:[e("label",{children:"Password confirmation"}),e(o,{type:"password",...r("confirmPassword",{required:"Password confirmation required",validate:a=>a===w||"Password and Password confirmation does not match"}),onChange:a=>r("confirmPassword").onChange({target:{value:a}})}),s.confirmPassword&&e("span",{style:{color:"red"},children:s.confirmPassword.message})]}),n("div",{children:[e("label",{children:"Role"}),e(y,{options:[{label:"OWNER",value:"OWNER"},{label:"ADMIN",value:"ADMIN"},{label:"EDITOR",value:"EDITOR"},{label:"VIEWER",value:"VIEWER"},{label:"OBSERVER",value:"OBSERVER"}],...r("role",{required:"Role required"}),onChange:a=>r("role").onChange({target:{value:a}})}),s.role&&e("span",{style:{color:"red"},children:s.role.message})]}),e("div",{className:"button-container",children:e(I,{type:"submit",loading:h,children:"Register"})})]})})})]})};export{W as default};
//# sourceMappingURL=signup-3b81ce59.js.map
