{"version":3,"file":"index-fb2f95b1.js","sources":["../../../../packages/illa-public-component/publicConfig/resource/initConfig/airtable.ts","../../../../packages/illa-public-component/ResourceGenerator/components/ConfigElements/AirtableConfigElement/index.tsx"],"sourcesContent":["import { AirtableResource } from \"@illa-public/public-types\"\n\nexport const AirtableResourceInitial: AirtableResource = {\n  authenticationType: \"personalToken\",\n  authenticationConfig: {\n    token: \"\",\n  },\n}\n","import { AirtableResourceInitial } from \"@illa-public/public-configs\"\nimport { AirtableResource } from \"@illa-public/public-types\"\nimport { TextLink } from \"@illa-public/text-link\"\nimport { FC, useContext } from \"react\"\nimport { useFormContext } from \"react-hook-form\"\nimport { Trans, useTranslation } from \"react-i18next\"\nimport { ResourceGeneratorContext } from \"../../../provider\"\nimport { validateNotEmpty } from \"../../../utils\"\nimport { ControlledElement } from \"../../ControlledElement\"\nimport { BaseConfigElementProps } from \"../interface\"\nimport { container } from \"../style\"\n\nconst AirtableConfigElement: FC<BaseConfigElementProps> = (props) => {\n  const { resourceID } = props\n  const { t } = useTranslation()\n\n  const { control } = useFormContext()\n  const { getResourceByID } = useContext(ResourceGeneratorContext)\n  const findResource = getResourceByID(resourceID)\n  const content = (findResource?.content ??\n    AirtableResourceInitial) as AirtableResource\n\n  const handleURLClick = (link: string) => window.open(link, \"_blank\")\n\n  return (\n    <>\n      <div css={container}>\n        <ControlledElement\n          controlledType=\"input\"\n          isRequired\n          title={t(\"editor.action.resource.db.label.name\")}\n          control={control}\n          defaultValue={findResource?.resourceName ?? \"\"}\n          rules={[\n            {\n              validate: validateNotEmpty,\n            },\n          ]}\n          placeholders={[t(\"editor.action.resource.db.placeholder.name\")]}\n          name=\"resourceName\"\n          tips={t(\"editor.action.resource.restapi.tip.name\")}\n        />\n\n        <ControlledElement\n          title={t(\"editor.action.form.option.airtable.access_token\")}\n          defaultValue={content.authenticationConfig.token}\n          name=\"token\"\n          controlledType=\"password\"\n          control={control}\n          isRequired\n          tips={\n            <Trans\n              i18nKey=\"editor.action.form.tips.airtable.access_token\"\n              t={t}\n              components={[\n                <TextLink\n                  key={\"text-link\"}\n                  onClick={() => {\n                    handleURLClick(\n                      \"https://support.airtable.com/docs/creating-and-using-api-keys-and-access-tokens\",\n                    )\n                  }}\n                />,\n              ]}\n            />\n          }\n        />\n      </div>\n    </>\n  )\n}\n\nAirtableConfigElement.displayName = \"AirtableConfigElement\"\nexport default AirtableConfigElement\n"],"names":["AirtableResourceInitial","AirtableConfigElement","props","resourceID","t","useTranslation","control","useFormContext","getResourceByID","useContext","ResourceGeneratorContext","findResource","content","handleURLClick","link","jsx","Fragment","jsxs","container","ControlledElement","validateNotEmpty","Trans","TextLink"],"mappings":"koBAEO,MAAMA,EAA4C,CACvD,mBAAoB,gBACpB,qBAAsB,CACpB,MAAO,EACT,CACF,ECKMC,EAAqDC,GAAU,CAC7D,KAAA,CAAE,WAAAC,CAAe,EAAAD,EACjB,CAAE,EAAAE,GAAMC,IAER,CAAE,QAAAC,GAAYC,IACd,CAAE,gBAAAC,CAAA,EAAoBC,EAAA,WAAWC,CAAwB,EACzDC,EAAeH,EAAgBL,CAAU,EACzCS,GAAWD,GAAA,YAAAA,EAAc,UAC7BX,EAEIa,EAAkBC,GAAiB,OAAO,KAAKA,EAAM,QAAQ,EAEnE,OAEIC,EAAAC,EAAA,CAAA,SAAAC,EAAC,MAAI,CAAA,IAAKC,EACR,SAAA,CAAAH,EAACI,EAAA,CACC,eAAe,QACf,WAAU,GACV,MAAOf,EAAE,sCAAsC,EAC/C,QAAAE,EACA,cAAcK,GAAA,YAAAA,EAAc,eAAgB,GAC5C,MAAO,CACL,CACE,SAAUS,CACZ,CACF,EACA,aAAc,CAAChB,EAAE,4CAA4C,CAAC,EAC9D,KAAK,eACL,KAAMA,EAAE,yCAAyC,CAAA,CACnD,EAEAW,EAACI,EAAA,CACC,MAAOf,EAAE,iDAAiD,EAC1D,aAAcQ,EAAQ,qBAAqB,MAC3C,KAAK,QACL,eAAe,WACf,QAAAN,EACA,WAAU,GACV,KACES,EAACM,EAAA,CACC,QAAQ,gDACR,EAAAjB,EACA,WAAY,CACVW,EAACO,EAAA,CAEC,QAAS,IAAM,CACbT,EACE,iFAAA,CAEJ,CAAA,EALK,WAMP,CACF,CAAA,CACF,CAAA,CAEJ,CAAA,CACF,CAAA,CACF,CAAA,CAEJ,EAEAZ,EAAsB,YAAc"}