import{n as b,o as R,k as n}from"./@illa-design-1f43bb6c.js";import{i3 as c,i4 as r,u as O,e as P,b as x,bA as D,fv as _,fG as v,fH as G,fI as V,be as N,eH as m}from"./index-4dce6ee8.js";import{r as s}from"./react-9b7e00e3.js";import{a as u,b as E}from"./index-03ca7e7b.js";import{S as w}from"./index-01ad6233.js";import{T as q}from"./index-cd7c17cc.js";import{I as S}from"./index-2c4267bb.js";import{a as C}from"./@emotion-08a6282b.js";import"./codeMirror-vendor-320207e2.js";import"./lodash-lib-6e94956b.js";import"./react-icons-vendor-2430ea65.js";import"./index-6f32d056.js";import"./index-5be17f9b.js";import"./clsx.m-925abe8b.js";import"./clsx.m-266f4de0.js";import"./hook-302a78fc.js";import"./renderComponentCanvasContainer-2e4cd54a.js";import"./style-49f23046.js";import"./index-d48f7e94.js";import"./index-cf2bb556.js";import"./index-2fdfc937.js";import"./layoutInfoListener-bd63c738.js";import"./drive-584d85d3.js";import"./objectWithoutPropertiesLoose-4f48578a.js";import"./popper-a04e2b11.js";import"./objectWithoutPropertiesLoose-e3246981.js";import"./clsx-06f54762.js";import"./index-934389e2.js";import"./style-51b259bb.js";import"./style-af69883e.js";import"./index-b9f5fd51.js";C`
  display: flex;
  flex-direction: row;
  align-items: center;
  min-height: 48px;
  padding: 0 16px;
`;const H=C`
  padding: 8px 0;
`;C`
  min-width: 160px;
  font-size: 14px;
  font-weight: 500;
  text-align: right;
  color: ${b("grayBlue","02")};
`;const J=[{label:c.SEARCH,value:r.SEARCH},{label:c.GET_ONE,value:r.GET_ONE},{label:c.INSERT_ONE,value:r.INSERT_ONE},{label:c.UPDATE_ONE,value:r.UPDATE_ONE},{label:c.DELETE_ONE,value:r.DELETE_ONE}],L=()=>{const{t:i}=O(),p=P(),e=x(D),t=x(_);let a=e.content;const T=s.useMemo(()=>v.includes(e.content.operation),[e.content]),h=s.useMemo(()=>G.includes(e.content.operation),[e.content]),y=s.useMemo(()=>V.includes(e.content.operation),[e.content]),l=s.useCallback(d=>o=>{p(N.updateCachedAction({...e,content:{...e.content,[d]:o}}))},[e,p]),g=s.useCallback(d=>{var I,f,A;const o={operation:d,index:e.content.index};e.resourceID===t.resourceID&&t.content.operation===d&&(T&&(o.id=((I=t.content)==null?void 0:I.id)||""),h&&(o.body=((f=t.content)==null?void 0:f.body)||""),y&&(o.query=((A=t.content)==null?void 0:A.query)||"")),p(N.updateCachedAction({...e,content:o}))},[e,p,h,y,T,t.content,t.resourceID]);return R("div",{css:H,children:[n(w,{componentType:"select",value:a.operation,title:i("editor.action.panel.elastic.action_type"),options:J,onSelectedValueChange:g}),h&&n(S,{value:a.body??"",onChange:l("body"),title:i("editor.action.panel.elastic.body"),lineNumbers:!0,style:{height:"88px"},expectedType:m.STRING,mode:u.JAVASCRIPT,codeType:E.EXPRESSION,canShowCompleteInfo:!0}),y&&n(S,{value:a.query??"",onChange:l("query"),title:i("editor.action.panel.elastic.query"),lineNumbers:!0,expectedType:m.STRING,mode:u.JAVASCRIPT,style:{height:"88px"},codeType:E.EXPRESSION,canShowCompleteInfo:!0}),n(S,{value:a.index,onChange:l("index"),title:i("editor.action.panel.elastic.index"),expectedType:m.STRING,mode:u.JAVASCRIPT,codeType:E.EXPRESSION}),T&&n(S,{value:a.id??"",onChange:l("id"),title:i("editor.action.panel.elastic.id"),expectedType:m.STRING,mode:u.JAVASCRIPT,codeType:E.EXPRESSION,canShowCompleteInfo:!0}),n(q,{})]})};L.displayName="ElasticSearchPanel";export{L as default};
//# sourceMappingURL=index-f74fa235.js.map
