{"version":3,"file":"signature-99c9ca16.js","sources":["../../src/widgetLibrary/SignatureWidget/constants.ts","../../src/widgetLibrary/SignatureWidget/style.ts","../../src/widgetLibrary/SignatureWidget/signatureCanvas.tsx","../../src/widgetLibrary/SignatureWidget/signature.tsx"],"sourcesContent":["export const DPR = window.devicePixelRatio\n","import { css } from \"@emotion/react\"\nimport { getSpecialThemeColor } from \"@illa-design/react\"\nimport { getPaddingShape } from \"@/utils/styleUtils/padding\"\nimport { applyLabelAndComponentWrapperStyle } from \"@/widgetLibrary/PublicSector/TransformWidgetWrapper/style\"\n\nexport const containerStyle = (padding?: string, backgroundColor?: string) => {\n  const paddings = getPaddingShape(padding)\n  return css`\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    padding: ${paddings.paddingTop}px ${paddings.paddingRight}px\n      ${paddings.paddingBottom}px ${paddings.paddingLeft}px;\n    background-color: ${backgroundColor};\n  `\n}\n\nexport const labelWrapperStyle = (\n  labelPosition: \"left\" | \"right\" | \"top\" = \"left\",\n) => {\n  const layoutCss = applyLabelAndComponentWrapperStyle(labelPosition)\n  return css`\n    ${layoutCss};\n    display: flex;\n    width: 100%;\n    height: 100%;\n    flex-direction: ${labelPosition === \"top\" ? \"column\" : \"row\"};\n    & label {\n      flex: none;\n    }\n    position: relative;\n  `\n}\n\nexport const canvasContainerStyle = (disabled?: boolean) => css`\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n  pointer-events: ${disabled ? \"none\" : \"auto\"};\n  cursor: ${disabled ? \"not-allowed\" : \"auto\"};\n`\n\nexport const canvasStyle = css`\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n`\n\nexport const signTextStyle = (color: string) => css`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  color: ${getSpecialThemeColor(color)};\n  font-size: 14px;\n  font-weight: 500;\n  transform: translate(-50%, -50%);\n`\n\nexport const resetIconStyle = (color: string) => css`\n  position: absolute;\n  top: 12px;\n  right: 12px;\n  color: ${getSpecialThemeColor(color)};\n  cursor: pointer;\n`\n\nexport const lineStyle = (color: string) => css`\n  position: absolute;\n  bottom: 32px;\n  width: 100%;\n  height: 2px;\n  background-color: ${getSpecialThemeColor(color)};\n`\n\nexport const validateMessageStyle = (\n  labelWidth: number,\n  labelPosition: \"left\" | \"right\" | \"top\" = \"left\",\n  labelHidden: boolean = false,\n) => {\n  return css`\n    width: 100%;\n    padding-left: ${labelPosition === \"top\" || labelHidden\n      ? 0\n      : `calc(${labelWidth}% + 8px)`};\n    position: absolute;\n    bottom: 0;\n  `\n}\n","import {\n  MouseEvent,\n  TouchEvent,\n  forwardRef,\n  useEffect,\n  useImperativeHandle,\n  useRef,\n  useState,\n} from \"react\"\nimport useMeasure from \"react-use-measure\"\nimport { RefreshIcon, getSpecialThemeColor } from \"@illa-design/react\"\nimport { DPR } from \"./constants\"\nimport { ICustomRef, WrappedSignatureProps } from \"./interface\"\nimport {\n  canvasContainerStyle,\n  canvasStyle,\n  lineStyle,\n  resetIconStyle,\n  signTextStyle,\n} from \"./style\"\n\ninterface SignatureCanvasProps\n  extends Pick<\n    WrappedSignatureProps,\n    | \"disabled\"\n    | \"guideColor\"\n    | \"penColor\"\n    | \"text\"\n    | \"value\"\n    | \"handleUpdateSignature\"\n  > {}\n\nconst SignatureCanvas = forwardRef<ICustomRef, SignatureCanvasProps>(\n  (\n    {\n      value,\n      guideColor = \"grayBlue\",\n      penColor = \"grayBlue\",\n      text,\n      disabled,\n      handleUpdateSignature,\n    },\n    ref,\n  ) => {\n    const [isDrawing, setIsDrawing] = useState(false)\n    const canvasRef = useRef<HTMLCanvasElement>(null)\n    const [boundsRef, bound] = useMeasure()\n    const ctx = useRef<CanvasRenderingContext2D | null>()\n    const startX = useRef(0)\n    const startY = useRef(0)\n\n    useImperativeHandle(ref, () => ({\n      clear: () => handleReset(),\n    }))\n\n    const handleStartDraw = (\n      e: MouseEvent<HTMLCanvasElement> | TouchEvent<HTMLCanvasElement>,\n    ) => {\n      e.stopPropagation()\n      setIsDrawing(true)\n      if (!ctx.current) {\n        ctx.current = canvasRef.current?.getContext(\"2d\")\n      }\n      if (!canvasRef.current || !ctx.current) return\n      if (\"offsetX\" in e.nativeEvent && \"offsetY\" in e.nativeEvent) {\n        startX.current = e.nativeEvent.offsetX\n        startY.current = e.nativeEvent.offsetY\n      } else {\n        const touch = (e as TouchEvent).touches[0]\n        const touchTarget = touch.target as HTMLCanvasElement\n        startX.current =\n          touch.clientX - touchTarget.getBoundingClientRect().left\n        startY.current = touch.clientY - touchTarget.getBoundingClientRect().top\n      }\n      ctx.current.lineWidth = 2 * DPR\n      ctx.current.lineCap = \"round\"\n      ctx.current.strokeStyle = getSpecialThemeColor(penColor)\n      ctx.current.beginPath()\n    }\n\n    const handleDraw = (\n      e: MouseEvent<HTMLCanvasElement> | TouchEvent<HTMLCanvasElement>,\n    ) => {\n      e.stopPropagation()\n      const currentCtx = ctx.current\n      if (!isDrawing || !currentCtx) return\n      let offsetX, offsetY\n      if (\"offsetX\" in e.nativeEvent && \"offsetY\" in e.nativeEvent) {\n        offsetX = e.nativeEvent.offsetX\n        offsetY = e.nativeEvent.offsetY\n      } else {\n        const touch = (e as TouchEvent).touches[0]\n        const touchTarget = touch.target as HTMLCanvasElement\n        offsetX = touch.clientX - touchTarget.getBoundingClientRect().left\n        offsetY = touch.clientY - touchTarget.getBoundingClientRect().top\n      }\n      currentCtx.moveTo(startX.current * DPR, startY.current * DPR)\n      currentCtx.lineTo(offsetX * DPR, offsetY * DPR)\n      startX.current = offsetX\n      startY.current = offsetY\n      currentCtx.stroke()\n    }\n\n    const handleEndDraw = (\n      e: MouseEvent<HTMLCanvasElement> | TouchEvent<HTMLCanvasElement>,\n    ) => {\n      e.stopPropagation()\n      if (!isDrawing) return\n      setIsDrawing(false)\n      ctx.current?.closePath()\n      const data = canvasRef.current?.toDataURL(\"image/png\")\n      const rep = /^data:image\\/png[^,]+base64,/\n      handleUpdateSignature(data, data?.replace(rep, \"\"))\n    }\n\n    const handleReset = () => {\n      if (!ctx.current) return\n      ctx.current.clearRect(\n        0,\n        0,\n        canvasRef.current?.width || 0,\n        canvasRef.current?.height || 0,\n      )\n      handleUpdateSignature()\n    }\n\n    useEffect(() => {\n      const el = canvasRef.current\n      const preventDefault = (e: Event) => {\n        e.preventDefault()\n      }\n      el?.addEventListener(\"touchstart\", preventDefault, { passive: false })\n      return () => {\n        el?.removeEventListener(\"touchstart\", preventDefault)\n      }\n    }, [])\n\n    return (\n      <div css={canvasContainerStyle(disabled)} ref={boundsRef}>\n        {!value && !isDrawing && (\n          <span css={signTextStyle(guideColor)}>{text}</span>\n        )}\n        <RefreshIcon\n          css={resetIconStyle(guideColor)}\n          onClick={handleReset}\n          size=\"16px\"\n        />\n        <canvas\n          ref={canvasRef}\n          css={canvasStyle}\n          width={DPR * bound.width}\n          height={DPR * bound.height}\n          onMouseDownCapture={handleStartDraw}\n          onMouseMoveCapture={handleDraw}\n          onMouseUp={handleEndDraw}\n          onMouseOut={handleEndDraw}\n          onTouchStart={handleStartDraw}\n          onTouchMove={handleDraw}\n          onTouchEnd={handleEndDraw}\n        />\n        <div css={lineStyle(guideColor)} />\n      </div>\n    )\n  },\n)\n\nSignatureCanvas.displayName = \"SignatureCanvas\"\n\nexport default SignatureCanvas\n","import { FC, useCallback, useEffect, useRef } from \"react\"\nimport { InvalidMessage } from \"@/widgetLibrary/PublicSector/InvalidMessage\"\nimport { handleValidateCheck } from \"@/widgetLibrary/PublicSector/InvalidMessage/utils\"\nimport { Label } from \"@/widgetLibrary/PublicSector/Label\"\nimport { TooltipWrapper } from \"@/widgetLibrary/PublicSector/TooltipWrapper\"\nimport { ICustomRef, SignatureWidgetProps } from \"./interface\"\nimport SignatureCanvas from \"./signatureCanvas\"\nimport {\n  containerStyle,\n  labelWrapperStyle,\n  validateMessageStyle,\n} from \"./style\"\n\nexport const SignatureWidget: FC<SignatureWidgetProps> = (props) => {\n  const {\n    value,\n    tooltipText,\n    labelWidth = 33,\n    labelAlign,\n    validateMessage,\n    labelHidden,\n    labelPosition,\n    label,\n    hideValidationMessage,\n    labelCaption,\n    required,\n    labelFull,\n    labelWidthUnit,\n    displayName,\n    customRule,\n    padding,\n    backgroundColor,\n    handleUpdateMultiExecutionResult,\n    triggerEventHandler,\n    updateComponentRuntimeProps,\n    deleteComponentRuntimeProps,\n  } = props\n\n  const customRef = useRef<ICustomRef>(null)\n\n  const getValidateMessage = useCallback(\n    (value: unknown) => {\n      if (!hideValidationMessage) {\n        const message = handleValidateCheck({\n          value,\n          required,\n          customRule,\n        })\n        const showMessage = message && message.length > 0\n        return showMessage ? message : \"\"\n      }\n      return \"\"\n    },\n    [customRule, hideValidationMessage, required],\n  )\n\n  const handleValidate = useCallback(\n    (value: unknown) => {\n      const message = getValidateMessage(value)\n      handleUpdateMultiExecutionResult([\n        {\n          displayName,\n          value: {\n            validateMessage: message,\n          },\n        },\n      ])\n      return message\n    },\n    [displayName, getValidateMessage, handleUpdateMultiExecutionResult],\n  )\n\n  const handleUpdateSignature = (value?: string, dataURI?: string) => {\n    new Promise((resolve) => {\n      handleUpdateMultiExecutionResult([\n        {\n          displayName,\n          value: {\n            value,\n            dataURI,\n          },\n        },\n      ])\n      resolve(true)\n    }).then(() => {\n      triggerEventHandler(\"change\")\n    })\n  }\n\n  useEffect(() => {\n    updateComponentRuntimeProps({\n      clearValue: () => {\n        customRef.current?.clear()\n        handleUpdateMultiExecutionResult([\n          {\n            displayName,\n            value: {\n              value: undefined,\n              dataURI: undefined,\n            },\n          },\n        ])\n      },\n      validate: () => {\n        return handleValidate(value)\n      },\n      clearValidation: () => {\n        handleUpdateMultiExecutionResult([\n          {\n            displayName,\n            value: {\n              validateMessage: undefined,\n            },\n          },\n        ])\n      },\n      setDisabled: (disabled?: boolean) => {\n        handleUpdateMultiExecutionResult([\n          {\n            displayName,\n            value: {\n              disabled: disabled,\n            },\n          },\n        ])\n      },\n    })\n    return () => {\n      deleteComponentRuntimeProps()\n    }\n  }, [\n    deleteComponentRuntimeProps,\n    displayName,\n    handleUpdateMultiExecutionResult,\n    handleValidate,\n    updateComponentRuntimeProps,\n    value,\n  ])\n\n  return (\n    <div css={containerStyle(padding?.size, backgroundColor)}>\n      <TooltipWrapper tooltipText={tooltipText} tooltipDisabled={!tooltipText}>\n        <div css={labelWrapperStyle(labelPosition)}>\n          <Label\n            labelFull={labelFull}\n            label={label}\n            labelAlign={labelAlign}\n            labelWidth={labelWidth}\n            labelCaption={labelCaption}\n            labelWidthUnit={labelWidthUnit}\n            labelPosition={labelPosition}\n            required={required}\n            labelHidden={labelHidden}\n            hasTooltip={!!tooltipText}\n          />\n          <SignatureCanvas\n            {...props}\n            ref={customRef}\n            handleUpdateSignature={handleUpdateSignature}\n          />\n          {!hideValidationMessage && (\n            <div\n              css={validateMessageStyle(\n                labelWidth,\n                labelPosition,\n                labelHidden || !label,\n              )}\n            >\n              <InvalidMessage validateMessage={validateMessage} />\n            </div>\n          )}\n        </div>\n      </TooltipWrapper>\n    </div>\n  )\n}\n\nSignatureWidget.displayName = \"SignatureWidget\"\nexport default SignatureWidget\n"],"names":["DPR","containerStyle","padding","backgroundColor","paddings","getPaddingShape","css","labelWrapperStyle","labelPosition","layoutCss","applyLabelAndComponentWrapperStyle","canvasContainerStyle","disabled","canvasStyle","signTextStyle","color","getSpecialThemeColor","resetIconStyle","lineStyle","validateMessageStyle","labelWidth","labelHidden","SignatureCanvas","forwardRef","value","guideColor","penColor","text","handleUpdateSignature","ref","isDrawing","setIsDrawing","useState","canvasRef","useRef","boundsRef","bound","useMeasure","ctx","startX","startY","useImperativeHandle","handleReset","handleStartDraw","_a","touch","touchTarget","handleDraw","currentCtx","offsetX","offsetY","handleEndDraw","data","_b","rep","useEffect","el","preventDefault","e","jsx","RefreshIcon","SignatureWidget","props","tooltipText","labelAlign","validateMessage","label","hideValidationMessage","labelCaption","required","labelFull","labelWidthUnit","displayName","customRule","handleUpdateMultiExecutionResult","triggerEventHandler","updateComponentRuntimeProps","deleteComponentRuntimeProps","customRef","getValidateMessage","useCallback","message","handleValidateCheck","handleValidate","dataURI","resolve","TooltipWrapper","jsxs","Label","InvalidMessage"],"mappings":"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"}