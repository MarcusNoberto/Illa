import{k as o,o as H,S as D}from"./@illa-design-1f43bb6c.js";import{r as a}from"./react-9b7e00e3.js";import{aE as F}from"./index-4dce6ee8.js";import{h as I,I as q}from"./utils-1cfed9ac.js";import{L as B}from"./index-2c54d160.js";import{T as z}from"./index-99007076.js";import{a as G,b as J}from"./style-49f23046.js";import{f as K}from"./formatSelectOptions-bde6f53a.js";import"./@emotion-08a6282b.js";import"./codeMirror-vendor-320207e2.js";import"./lodash-lib-6e94956b.js";import"./react-icons-vendor-2430ea65.js";const E=c=>{const{showClear:m,value:e,options:h,placeholder:g,disabled:i,loading:M,readOnly:b,colorScheme:y,handleUpdateMultiExecutionResult:n,handleOnChange:t,getValidateMessage:v,displayName:r}=c,f=a.useCallback(d=>{new Promise(u=>{const C=v(d);n([{displayName:r,value:{value:d||[],validateMessage:C}}]),u(!0)}).then(()=>{t==null||t()})},[r,v,t,n]);return o(D,{allowClear:m,multiple:!0,options:h,value:Array.isArray(e)?e:[],placeholder:g,disabled:i,loading:M,readOnly:b,showSearch:!0,colorScheme:y,onChange:f})};E.displayName="WrappedMultiselect";const Q=c=>{const{value:m,handleUpdateDsl:e,updateComponentRuntimeProps:h,deleteComponentRuntimeProps:g,labelPosition:i,labelFull:M,label:b,labelAlign:y,labelWidth:n=33,labelCaption:t,labelWidthUnit:v,dynamicHeight:r,atLeastNumber:f,upToNumber:d,required:u,labelHidden:C,tooltipText:V,customRule:k,hideValidationMessage:S,validateMessage:N,optionConfigureMode:x,mappedOption:O,manualOptions:w,updateComponentHeight:T,triggerEventHandler:l}=c,W=a.useCallback(p=>{if(!S){const s=I({value:p,required:u,customRule:k,atLeastNumber:f,upToNumber:d});return s&&s.length>0?s:""}return""},[k,S,u,f,d]),A=a.useCallback(p=>{const s=W(p);return e({validateMessage:s}),s},[W,e]);a.useEffect(()=>(h({setSelectedValue:p=>{e({value:p})},clearValue:()=>{e({value:void 0})},validate:()=>A(m),clearValidation:()=>{e({validateMessage:void 0})}}),()=>{g()}),[g,e,A,h,m]);const L=a.useCallback(()=>{l("change")},[l]),P=a.useCallback(()=>{l("focus")},[l]),R=a.useCallback(()=>{l("blur")},[l]),U=r!=="fixed"&&r!=null,j=a.useMemo(()=>K(x,w,O),[x,w,O]);return H(F,{updateComponentHeight:T,enable:U,children:[o(z,{tooltipText:V,tooltipDisabled:!V,children:H("div",{css:G(i),children:[o(B,{labelFull:M,label:b,labelAlign:y,labelWidth:n,labelCaption:t,labelWidthUnit:v,labelPosition:i,required:u,labelHidden:C,hasTooltip:!!V}),o(E,{...c,options:j,getValidateMessage:W,handleOnChange:L,handleOnBlur:R,handleOnFocus:P})]})}),!S&&o("div",{css:J(n,i,C||!b),children:o(q,{validateMessage:N})})]})};Q.displayName="MultiselectWidget";export{Q as MultiselectWidget,E as WrappedMultiselect,Q as default};
//# sourceMappingURL=multiselect-4cb9bf92.js.map
