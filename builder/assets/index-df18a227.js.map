{"version":3,"file":"index-df18a227.js","sources":["../../src/page/App/components/InspectPanel/PanelSetters/TabsSetter/TabListSetter/index.tsx"],"sourcesContent":["import { get, isString } from \"lodash-es\"\nimport { FC, memo } from \"react\"\nimport { useSelector } from \"react-redux\"\nimport { v4 } from \"uuid\"\nimport { Column } from \"@/page/App/components/InspectPanel/PanelSetters/DragMoveComponent/Column\"\nimport { ColumnContainer } from \"@/page/App/components/InspectPanel/PanelSetters/DragMoveComponent/ColumnContainer\"\nimport { ColumnEmpty } from \"@/page/App/components/InspectPanel/PanelSetters/DragMoveComponent/Empty\"\nimport { getExecutionResult } from \"@/redux/currentApp/executionTree/executionSelector\"\nimport { ViewSetterProps } from \"./interface\"\n\nconst TabListSetter: FC<ViewSetterProps> = memo((props: ViewSetterProps) => {\n  const {\n    value,\n    attrName,\n    widgetDisplayName,\n    childrenSetter,\n    handleUpdateMultiAttrDSL,\n  } = props\n\n  const execResult = useSelector(getExecutionResult)\n  const executeValue = get(execResult, `${widgetDisplayName}.${attrName}`, [])\n\n  return (\n    <ColumnContainer\n      attrName={attrName}\n      value={value}\n      handleUpdateMultiAttrDSL={handleUpdateMultiAttrDSL}\n      columnNum={value.length}\n      items={value.map((item) => item.id)}\n      onClickNew={() => {\n        const newItem = {\n          id: `views-${v4()}`,\n          key: `views-${v4()}`,\n          label: `Tab ${value.length + 1}`,\n        }\n        handleUpdateMultiAttrDSL?.({\n          [attrName]: [...value, newItem],\n        })\n      }}\n    >\n      {value.length > 0 ? (\n        value.map((item, index) => {\n          return (\n            <Column\n              onCopy={() => {\n                const newItem = {\n                  id: `views-${v4()}`,\n                  key: `views-${v4()}`,\n                  label: value[index].label,\n                  disabled: value[index].disabled,\n                }\n                const updatedArray = [...value, newItem]\n                handleUpdateMultiAttrDSL?.({\n                  [attrName]: updatedArray,\n                })\n              }}\n              onDelete={(id) => {\n                const newV = value.filter((item) => item.id !== id)\n                handleUpdateMultiAttrDSL?.({\n                  [attrName]: newV,\n                  currentIndex: 0,\n                  currentKey: newV[0]?.key,\n                })\n              }}\n              showCopy\n              showDelete\n              key={item.id}\n              id={item.id}\n              label={\n                isString(get(executeValue, `${index}.label`))\n                  ? get(executeValue, `${index}.label`)\n                  : JSON.stringify(get(executeValue, `${index}.label`))\n              }\n              widgetDisplayName={widgetDisplayName}\n              childrenSetter={childrenSetter}\n              attrPath={`${attrName}.${index}`}\n            />\n          )\n        })\n      ) : (\n        <ColumnEmpty />\n      )}\n    </ColumnContainer>\n  )\n})\n\nTabListSetter.displayName = \"TabListSetter\"\nexport default TabListSetter\n"],"names":["TabListSetter","memo","props","value","attrName","widgetDisplayName","childrenSetter","handleUpdateMultiAttrDSL","execResult","useSelector","getExecutionResult","executeValue","get","jsx","ColumnContainer","item","newItem","v4","index","Column","updatedArray","id","newV","_a","isString","ColumnEmpty"],"mappings":"0UAUM,MAAAA,EAAqCC,EAAAA,KAAMC,GAA2B,CACpE,KAAA,CACJ,MAAAC,EACA,SAAAC,EACA,kBAAAC,EACA,eAAAC,EACA,yBAAAC,CACE,EAAAL,EAEEM,EAAaC,EAAYC,CAAkB,EAC3CC,EAAeC,EAAIJ,EAAY,GAAGH,CAAiB,IAAID,CAAQ,GAAI,CAAA,CAAE,EAGzE,OAAAS,EAACC,EAAA,CACC,SAAAV,EACA,MAAAD,EACA,yBAAAI,EACA,UAAWJ,EAAM,OACjB,MAAOA,EAAM,IAAKY,GAASA,EAAK,EAAE,EAClC,WAAY,IAAM,CAChB,MAAMC,EAAU,CACd,GAAI,SAASC,EAAA,CAAI,GACjB,IAAK,SAASA,EAAA,CAAI,GAClB,MAAO,OAAOd,EAAM,OAAS,CAAC,EAAA,EAELI,GAAA,MAAAA,EAAA,CACzB,CAACH,CAAQ,EAAG,CAAC,GAAGD,EAAOa,CAAO,CAAA,EAElC,EAEC,WAAM,OAAS,EACdb,EAAM,IAAI,CAACY,EAAMG,IAEbL,EAACM,EAAA,CACC,OAAQ,IAAM,CACZ,MAAMH,EAAU,CACd,GAAI,SAASC,EAAA,CAAI,GACjB,IAAK,SAASA,EAAA,CAAI,GAClB,MAAOd,EAAMe,CAAK,EAAE,MACpB,SAAUf,EAAMe,CAAK,EAAE,QAAA,EAEnBE,EAAe,CAAC,GAAGjB,EAAOa,CAAO,EACZT,GAAA,MAAAA,EAAA,CACzB,CAACH,CAAQ,EAAGgB,CAAA,EAEhB,EACA,SAAWC,GAAO,OAChB,MAAMC,EAAOnB,EAAM,OAAQY,GAASA,EAAK,KAAOM,CAAE,EACvBd,GAAA,MAAAA,EAAA,CACzB,CAACH,CAAQ,EAAGkB,EACZ,aAAc,EACd,YAAYC,EAAAD,EAAK,CAAC,IAAN,YAAAC,EAAS,GAAA,EAEzB,EACA,SAAQ,GACR,WAAU,GAEV,GAAIR,EAAK,GACT,MACES,EAASZ,EAAID,EAAc,GAAGO,CAAK,QAAQ,CAAC,EACxCN,EAAID,EAAc,GAAGO,CAAK,QAAQ,EAClC,KAAK,UAAUN,EAAID,EAAc,GAAGO,CAAK,QAAQ,CAAC,EAExD,kBAAAb,EACA,eAAAC,EACA,SAAU,GAAGF,CAAQ,IAAIc,CAAK,EAAA,EATzBH,EAAK,EAAA,CAYf,EAEDF,EAACY,EAAY,EAAA,CAAA,CAAA,CAIrB,CAAC,EAEDzB,EAAc,YAAc"}