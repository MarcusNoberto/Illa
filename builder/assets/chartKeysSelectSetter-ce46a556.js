import{k as x}from"./@illa-design-1f43bb6c.js";import{r}from"./react-9b7e00e3.js";import{b as l,ci as O,cm as j,cl as k,aS as E}from"./index-4dce6ee8.js";import{a as C}from"./listItem-2bf53712.js";import{f as M}from"./formatData-c7a900a1.js";import R from"./searchSelect-7a6a8b3d.js";import{g as c}from"./lodash-lib-6e94956b.js";import"./@emotion-08a6282b.js";import"./codeMirror-vendor-320207e2.js";import"./react-icons-vendor-2430ea65.js";import"./baseSelect-7242dff4.js";import"./style-8b1d8060.js";import"./style-6680c91c.js";import"./index-934389e2.js";const h=p=>{const{widgetDisplayName:u,attrName:f,value:s,handleUpdateMultiAttrDSL:o}=p,a=l(e=>{const t=O(e);return c(t,u,{})}),g=l(e=>{const t=j(k(e),u);return t?t.props||{}:{}}),S=r.useMemo(()=>c(a,"dataSourceMode","select")==="dynamic",[a]),i=r.useMemo(()=>{let e=c(a,"dataSource",[]);return S&&(e=c(a,"dataSourceJS",[])),M(e)},[S,a]),y=r.useMemo(()=>{if(!E(i))return[];let e=Object.keys(i).map(t=>t);return f==="groupBy"&&s&&e.unshift("—"),e},[f,i,s]),n=r.useMemo(()=>c(g,"datasets",[]),[g]),d=r.useCallback(e=>n.length?e?n.map(t=>({...t,color:"illa-preset"})):n.map((t,m)=>({...t,color:C[m%C.length]})):[],[n]),b=r.useCallback((e,t)=>{if(e==="groupBy")if(s&&!t||!s&&t){const m=d(!!t);o==null||o({datasets:m,[e]:t==="—"?void 0:t})}else o==null||o({[e]:t==="—"?void 0:t});else o==null||o({[e]:t})},[d,o,s]);return x(R,{...p,options:y,handleUpdateDsl:b})};h.displayName="ChartXAxisSetter";export{h as default};
//# sourceMappingURL=chartKeysSelectSetter-ce46a556.js.map
