import{P as c,n as te,k as b,aT as Qe,o as Re,A as be,av as et,bq as tt,c4 as nt}from"./@illa-design-402f214a.js";import{aY as M,aX as B,aZ as le,f4 as N,f5 as rt,u as ot}from"./index-2f1869ab.js";import{r as g,b as h}from"./react-9b7e00e3.js";import{k as at,i as ae,_ as f,g as G,j as p,h as it,a as T,b as W}from"./toConsumableArray-965c2cc2.js";import{c as _e}from"./clsx.m-266f4de0.js";import{a as S}from"./@emotion-4f16718e.js";import{T as st}from"./index-5f69abbc.js";import{w as ct}from"./lodash-lib-6e94956b.js";import"./codeMirror-vendor-eff8ab8d.js";import"./react-icons-vendor-2430ea65.js";function _(){return _=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var r=arguments[o];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(a[e]=r[e])}return a},_.apply(this,arguments)}var P=globalThis&&globalThis.__spreadArray||function(a,o,r){if(r||arguments.length===2)for(var e=0,t=o.length,i;e<t;e++)(i||!(e in o))&&(i||(i=Array.prototype.slice.call(o,0,e)),i[e]=o[e]);return a.concat(i||Array.prototype.slice.call(o))},ut=["onCopy","onCut","onPaste"],lt=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Ae=["onKeyDown","onKeyPress","onKeyUp"],ft=["onFocus","onBlur"],pt=["onChange","onInput","onInvalid","onReset","onSubmit"],dt=["onError","onLoad"],Ie=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],gt=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],ht=["onSelect"],Ne=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],vt=["onScroll"],mt=["onWheel"],yt=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Rt=["onLoad","onError"],bt=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Et=["onTransitionEnd"],Pt=["onToggle"],wt=P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P(P([],ut,!0),lt,!0),Ae,!0),ft,!0),pt,!0),dt,!0),Ie,!0),gt,!0),ht,!0),Ne,!0),vt,!0),mt,!0),yt,!0),Rt,!0),bt,!0),Et,!0),Pt,!0);function je(a,o){var r={};return wt.forEach(function(e){var t=a[e];if(t){if(!o){r[e]=t;return}r[e]=function(i){return t(i,o(e))}}}),r}function ne(a){var o=!1,r=new Promise(function(e,t){a.then(function(i){return!o&&e(i)}).catch(function(i){return!o&&t(i)})});return{promise:r,cancel:function(){o=!0}}}var xt=!0,ie="Invariant failed";function k(a,o){if(!a){if(xt)throw new Error(ie);var r=typeof o=="function"?o():o,e=r?"".concat(ie,": ").concat(r):ie;throw new Error(e)}}var St=!0;function x(a,o){if(!St){if(a)return;var r="Warning: "+o;typeof console<"u"&&console.warn(r);try{throw Error(r)}catch{}}}const fe=g.createContext(null);function $(a){var o=a.children,r=a.type;return h.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(r)},o)}$.propTypes={children:c.node,type:c.oneOf(["error","loading","no-data"]).isRequired};var kt="noopener noreferrer nofollow",$e=function(){function a(){B(this,a),this.externalLinkTarget=null,this.externalLinkRel=null}return M(a,[{key:"setDocument",value:function(r){this.pdfDocument=r}},{key:"setViewer",value:function(r){this.pdfViewer=r}},{key:"setExternalLinkRel",value:function(r){this.externalLinkRel=r}},{key:"setExternalLinkTarget",value:function(r){this.externalLinkTarget=r}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(r){this.pdfViewer.currentPageNumber=r}},{key:"rotation",get:function(){return 0},set:function(r){}},{key:"goToDestination",value:function(r){var e=this;new Promise(function(t){typeof r=="string"?e.pdfDocument.getDestination(r).then(t):Array.isArray(r)?t(r):r.then(t)}).then(function(t){k(Array.isArray(t),'"'.concat(t,'" is not a valid destination array.'));var i=t[0];new Promise(function(u){i instanceof Object?e.pdfDocument.getPageIndex(i).then(function(n){u(n)}).catch(function(){k(!1,'"'.concat(i,'" is not a valid page reference.'))}):typeof i=="number"?u(i):k(!1,'"'.concat(i,'" is not a valid destination reference.'))}).then(function(u){var n=u+1;k(n>=1&&n<=e.pagesCount,'"'.concat(n,'" is not a valid page number.')),e.pdfViewer.scrollPageIntoView({dest:r,pageIndex:u,pageNumber:n})})})}},{key:"navigateTo",value:function(r){this.goToDestination(r)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(r,e,t){r.href=e,r.rel=this.externalLinkRel||kt,r.target=t?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),a}(),Ee={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},z=typeof document<"u",Fe=z&&window.location.protocol==="file:";function F(a){return typeof a<"u"}function H(a){return F(a)&&a!==null}function Tt(a){return typeof a=="string"}function Lt(a){return a instanceof ArrayBuffer}function Ot(a){return k(z,"isBlob can only be used in a browser environment"),a instanceof Blob}function Ct(a){return k(z,"isFile can only be used in a browser environment"),a instanceof File}function ue(a){return Tt(a)&&/^data:/.test(a)}function Pe(a){k(ue(a),"Invalid data URI.");var o=a.split(","),r=at(o,2),e=r[0],t=r[1],i=e.split(";");return i.indexOf("base64")!==-1?atob(t):unescape(t)}function Dt(){return z&&window.devicePixelRatio||1}var Me="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function we(){x(!Fe,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(Me))}function _t(){x(!Fe,"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(Me))}function U(a){a&&a.cancel&&a.cancel()}function ee(a,o){return Object.defineProperty(a,"width",{get:function(){return this.view[2]*o},configurable:!0}),Object.defineProperty(a,"height",{get:function(){return this.view[3]*o},configurable:!0}),Object.defineProperty(a,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(a,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),a}function Be(a){return a.name==="RenderingCancelledException"}function At(a){return new Promise(function(o,r){var e=new FileReader;return e.onload=function(){return o(new Uint8Array(e.result))},e.onerror=function(t){switch(t.target.error.code){case t.target.error.NOT_FOUND_ERR:return r(new Error("Error while reading a file: File not found."));case t.target.error.NOT_READABLE_ERR:return r(new Error("Error while reading a file: File not readable."));case t.target.error.SECURITY_ERR:return r(new Error("Error while reading a file: Security error."));case t.target.error.ABORT_ERR:return r(new Error("Error while reading a file: Aborted."));default:return r(new Error("Error while reading a file."))}},e.readAsArrayBuffer(a),null})}var pe=function(){var a={};return[].concat(ae(Ie),ae(Ne),ae(Ae)).forEach(function(o){a[o]=c.func}),a}(),de=[c.string,c.instanceOf(ArrayBuffer),c.shape({data:c.oneOfType([c.object,c.string]),httpHeaders:c.object,range:c.object,url:c.string,withCredentials:c.bool})];typeof File<"u"&&de.push(c.instanceOf(File));typeof Blob<"u"&&de.push(c.instanceOf(Blob));var ge=c.oneOfType([c.string,c.arrayOf(c.string)]),It=c.oneOfType(de),Nt=c.instanceOf($e);c.oneOf(["_self","_blank","_parent","_top"]);var re=c.shape({commonObjs:c.shape({}).isRequired,getAnnotations:c.func.isRequired,getTextContent:c.func.isRequired,getViewport:c.func.isRequired,render:c.func.isRequired}),jt=function(o,r,e){var t=o[r],i=o.pageNumber,u=o.pdf;if(!F(u))return null;if(F(t)){if(typeof t!="number")return new Error("`".concat(r,"` of type `").concat(le(t),"` supplied to `").concat(e,"`, expected `number`."));if(t<0)return new Error("Expected `".concat(r,"` to be greater or equal to 0."));var n=u.numPages;if(t+1>n)return new Error("Expected `".concat(r,"` to be less or equal to ").concat(n-1,"."))}else if(!F(i))return new Error("`".concat(r,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(e,"`."));return null},$t=function(o,r,e){var t=o[r],i=o.pageIndex,u=o.pdf;if(!F(u))return null;if(F(t)){if(typeof t!="number")return new Error("`".concat(r,"` of type `").concat(le(t),"` supplied to `").concat(e,"`, expected `number`."));if(t<1)return new Error("Expected `".concat(r,"` to be greater or equal to 1."));var n=u.numPages;if(t>n)return new Error("Expected `".concat(r,"` to be less or equal to ").concat(n,"."))}else if(!F(i))return new Error("`".concat(r,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(e,"`."));return null},he=c.oneOfType([c.shape({getDestination:c.func.isRequired,getOutline:c.func.isRequired,getPage:c.func.isRequired,numPages:c.number.isRequired}),c.bool]),oe=c.oneOfType([c.func,c.shape({current:c.any})]),Ft=c.oneOf(["canvas","none","svg"]),Y=c.oneOf([0,90,180,270]),Mt=["url"];function xe(a,o){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);o&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),r.push.apply(r,e)}return r}function K(a){for(var o=1;o<arguments.length;o++){var r=arguments[o]!=null?arguments[o]:{};o%2?xe(Object(r),!0).forEach(function(e){f(a,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(r,e))})}return a}function Bt(a){var o=Ut();return function(){var e=T(a),t;if(o){var i=T(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return W(this,t)}}function Ut(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Gt=N.PDFDataRangeTransport,ve=function(a){G(r,a);var o=Bt(r);function r(){var e;B(this,r);for(var t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];return e=o.call.apply(o,[this].concat(i)),f(p(e),"state",{pdf:null}),f(p(e),"viewer",{scrollPageIntoView:function(s){var l=s.dest,d=s.pageIndex,v=s.pageNumber,R=e.props.onItemClick;if(R){R({dest:l,pageIndex:d,pageNumber:v});return}var y=e.pages[d];if(y){y.scrollIntoView();return}x(!1,"An internal link leading to page ".concat(v," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}}),f(p(e),"linkService",new $e),f(p(e),"loadDocument",function(){U(e.runningTask),e.loadingTask&&e.loadingTask.destroy();var n=ne(e.findDocumentSource());e.runningTask=n,n.promise.then(function(s){if(e.onSourceSuccess(),!!s){e.setState(function(m){return m.pdf?{pdf:null}:null});var l=e.props,d=l.options,v=l.onLoadProgress,R=l.onPassword,y=N.getDocument(K(K({},s),d));y.onPassword=R,v&&(y.onProgress=v),e.loadingTask=y,y.promise.then(function(m){e.setState(function(E){return E.pdf&&E.pdf.fingerprint===m.fingerprint?null:{pdf:m}},e.onLoadSuccess)}).catch(function(m){e.onLoadError(m)})}}).catch(function(s){e.onSourceError(s)})}),f(p(e),"setupLinkService",function(){var n=e.props,s=n.externalLinkRel,l=n.externalLinkTarget;e.linkService.setViewer(e.viewer),e.linkService.setExternalLinkRel(s),e.linkService.setExternalLinkTarget(l)}),f(p(e),"onSourceSuccess",function(){var n=e.props.onSourceSuccess;n&&n()}),f(p(e),"onSourceError",function(n){x(n);var s=e.props.onSourceError;s&&s(n)}),f(p(e),"onLoadSuccess",function(){var n=e.props.onLoadSuccess,s=e.state.pdf;n&&n(s),e.pages=new Array(s.numPages),e.linkService.setDocument(s)}),f(p(e),"onLoadError",function(n){e.setState({pdf:!1}),x(n);var s=e.props.onLoadError;s&&s(n)}),f(p(e),"findDocumentSource",function(){return new Promise(function(n){var s=e.props.file;if(s||n(null),typeof s=="string"){if(ue(s)){var l=Pe(s);n({data:l})}we(),n({url:s})}if(s instanceof Gt&&n({range:s}),Lt(s)&&n({data:s}),z&&(Ot(s)||Ct(s))){At(s).then(function(y){n({data:y})});return}if(k(le(s)==="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),k(s.url||s.data||s.range,"Invalid parameter object: need either .data, .range or .url"),typeof s.url=="string"){if(ue(s.url)){var d=s.url,v=it(s,Mt),R=Pe(d);n(K({data:R},v))}we()}n(s)})}),f(p(e),"registerPage",function(n,s){e.pages[n]=s}),f(p(e),"unregisterPage",function(n){delete e.pages[n]}),e}return M(r,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(t){var i=this.props.file;i!==t.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){U(this.runningTask),this.loadingTask&&this.loadingTask.destroy()}},{key:"childContext",get:function(){var t=this.linkService,i=this.registerPage,u=this.unregisterPage,n=this.props,s=n.imageResourcesPath,l=n.renderMode,d=n.rotate,v=this.state.pdf;return{imageResourcesPath:s,linkService:t,pdf:v,registerPage:i,renderMode:l,rotate:d,unregisterPage:u}}},{key:"eventProps",get:function(){var t=this;return je(this.props,function(){return t.state.pdf})}},{key:"renderChildren",value:function(){var t=this.props.children;return h.createElement(fe.Provider,{value:this.childContext},t)}},{key:"renderContent",value:function(){var t=this.props.file,i=this.state.pdf;if(!t){var u=this.props.noData;return h.createElement($,{type:"no-data"},typeof u=="function"?u():u)}if(i===null){var n=this.props.loading;return h.createElement($,{type:"loading"},typeof n=="function"?n():n)}if(i===!1){var s=this.props.error;return h.createElement($,{type:"error"},typeof s=="function"?s():s)}return this.renderChildren()}},{key:"render",value:function(){var t=this.props,i=t.className,u=t.inputRef;return h.createElement("div",_({className:_e("react-pdf__Document",i),ref:u},this.eventProps),this.renderContent())}}]),r}(g.PureComponent);ve.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF…",noData:"No PDF file specified.",onPassword:function(o,r){switch(r){case Ee.NEED_PASSWORD:{var e=prompt("Enter the password to open this PDF file.");o(e);break}case Ee.INCORRECT_PASSWORD:{var t=prompt("Invalid password. Please try again.");o(t);break}}}};var se=c.oneOfType([c.func,c.node]);ve.propTypes=K(K({},pe),{},{children:c.node,className:ge,error:se,externalLinkRel:c.string,externalLinkTarget:c.string,file:It,imageResourcesPath:c.string,inputRef:oe,loading:se,noData:se,onItemClick:c.func,onLoadError:c.func,onLoadProgress:c.func,onLoadSuccess:c.func,onPassword:c.func,onSourceError:c.func,onSourceSuccess:c.func,rotate:c.number});var Se=c.oneOfType([c.string,c.arrayOf(c.any)]);c.shape({dest:Se,items:c.arrayOf(c.shape({dest:Se,title:c.string})),title:c.string}).isRequired,c.func,he.isRequired;function ke(a,o){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);o&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),r.push.apply(r,e)}return r}function Wt(a){for(var o=1;o<arguments.length;o++){var r=arguments[o]!=null?arguments[o]:{};o%2?ke(Object(r),!0).forEach(function(e){f(a,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(r,e))})}return a}Wt({className:ge,inputRef:oe,onItemClick:c.func,onLoadError:c.func,onLoadSuccess:c.func,pdf:he},pe);function Ue(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var r=a.filter(Boolean);if(r.length<=1){var e=r[0];return e||null}return function(i){r.forEach(function(u){typeof u=="function"?u(i):u&&(u.current=i)})}}const X=g.createContext(null);function Vt(a){var o=qt();return function(){var e=T(a),t;if(o){var i=T(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return W(this,t)}}function qt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Te=N.AnnotationMode,Ge=function(a){G(r,a);var o=Vt(r);function r(){var e;B(this,r);for(var t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];return e=o.call.apply(o,[this].concat(i)),f(p(e),"canvasElement",g.createRef()),f(p(e),"onRenderSuccess",function(){e.renderer=null;var n=e.props,s=n.onRenderSuccess,l=n.page,d=n.scale;s&&s(ee(l,d))}),f(p(e),"onRenderError",function(n){if(!Be(n)){x(n);var s=e.props.onRenderError;s&&s(n)}}),f(p(e),"drawPageOnCanvas",function(){var n=e.canvasElement.current;if(!n)return null;var s=p(e),l=s.renderViewport,d=s.viewport,v=e.props,R=v.canvasBackground,y=v.page,m=v.renderForms;n.width=l.width,n.height=l.height,n.style.width="".concat(Math.floor(d.width),"px"),n.style.height="".concat(Math.floor(d.height),"px");var E={annotationMode:m?Te.ENABLE_FORMS:Te.ENABLE,get canvasContext(){return n.getContext("2d",{alpha:!1})},viewport:l};R&&(E.background=R),e.cancelRenderingTask();var w=y.render(E);return e.renderer=w,w.promise.then(e.onRenderSuccess).catch(e.onRenderError)}),e}return M(r,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(t){var i=this.props,u=i.canvasBackground,n=i.devicePixelRatio,s=i.page,l=i.renderForms;(u!==t.canvasBackground||n!==t.devicePixelRatio||l!==t.renderForms)&&(s.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask();var t=this.canvasElement.current;t&&(t.width=0,t.height=0)}},{key:"cancelRenderingTask",value:function(){this.renderer&&(this.renderer.cancel(),this.renderer=null)}},{key:"devicePixelRatio",get:function(){var t=this.props.devicePixelRatio;return t||Dt()}},{key:"renderViewport",get:function(){var t=this.devicePixelRatio,i=this.props,u=i.page,n=i.rotate,s=i.scale;return u.getViewport({scale:s*t,rotation:n})}},{key:"viewport",get:function(){var t=this.props,i=t.page,u=t.rotate,n=t.scale;return i.getViewport({scale:n,rotation:u})}},{key:"render",value:function(){var t=this.props.canvasRef;return h.createElement("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:Ue(t,this.canvasElement),style:{display:"block",userSelect:"none"}})}}]),r}(g.PureComponent);Ge.propTypes={canvasBackground:c.string,canvasRef:oe,devicePixelRatio:c.number,onRenderError:c.func,onRenderSuccess:c.func,page:re.isRequired,renderForms:c.bool,rotate:Y,scale:c.number.isRequired};function Ht(a){return h.createElement(X.Consumer,null,function(o){return h.createElement(Ge,_({},o,a))})}function Kt(a){var o=zt();return function(){var e=T(a),t;if(o){var i=T(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return W(this,t)}}function zt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var We=function(a){G(r,a);var o=Kt(r);function r(){var e;B(this,r);for(var t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];return e=o.call.apply(o,[this].concat(i)),f(p(e),"state",{svg:null}),f(p(e),"onRenderSuccess",function(){e.renderer=null;var n=e.props,s=n.onRenderSuccess,l=n.page,d=n.scale;s&&s(ee(l,d))}),f(p(e),"onRenderError",function(n){if(!Be(n)){x(n);var s=e.props.onRenderError;s&&s(n)}}),f(p(e),"renderSVG",function(){var n=e.props.page;return e.renderer=n.getOperatorList(),e.renderer.then(function(s){var l=new N.SVGGraphics(n.commonObjs,n.objs);e.renderer=l.getSVG(s,e.viewport).then(function(d){e.setState({svg:d},e.onRenderSuccess)}).catch(e.onRenderError)}).catch(e.onRenderError)}),f(p(e),"drawPageOnContainer",function(n){var s=e.state.svg;if(!(!n||!s)){n.firstElementChild||n.appendChild(s);var l=e.viewport,d=l.width,v=l.height;s.setAttribute("width",d),s.setAttribute("height",v)}}),e}return M(r,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"viewport",get:function(){var t=this.props,i=t.page,u=t.rotate,n=t.scale;return i.getViewport({scale:n,rotation:u})}},{key:"render",value:function(){var t=this,i=this.viewport,u=i.width,n=i.height;return h.createElement("div",{className:"react-pdf__Page__svg",ref:function(l){return t.drawPageOnContainer(l)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:u,height:n,userSelect:"none"}})}}]),r}(g.PureComponent);We.propTypes={onRenderError:c.func,onRenderSuccess:c.func,page:re.isRequired,rotate:Y,scale:c.number.isRequired};function Yt(a){return h.createElement(X.Consumer,null,function(o){return h.createElement(We,_({},o,a))})}function Le(a,o){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);o&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),r.push.apply(r,e)}return r}function Xt(a){for(var o=1;o<arguments.length;o++){var r=arguments[o]!=null?arguments[o]:{};o%2?Le(Object(r),!0).forEach(function(e){f(a,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(r,e))})}return a}function Zt(a){var o=Jt();return function(){var e=T(a),t;if(o){var i=T(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return W(this,t)}}function Jt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ve=function(a){G(r,a);var o=Zt(r);function r(){var e;B(this,r);for(var t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];return e=o.call.apply(o,[this].concat(i)),f(p(e),"state",{textContent:null}),f(p(e),"layerElement",g.createRef()),f(p(e),"endElement",g.createRef()),f(p(e),"loadTextContent",function(){var n=e.props.page,s=ne(n.getTextContent());e.runningTask=s,s.promise.then(function(l){e.setState({textContent:l},e.onLoadSuccess)}).catch(function(l){e.onLoadError(l)})}),f(p(e),"onLoadSuccess",function(){var n=e.props.onGetTextSuccess,s=e.state.textContent;n&&n(s)}),f(p(e),"onLoadError",function(n){e.setState({textItems:!1}),x(n);var s=e.props.onGetTextError;s&&s(n)}),f(p(e),"onRenderSuccess",function(){var n=e.props.onRenderTextLayerSuccess;n&&n()}),f(p(e),"onRenderError",function(n){x(n);var s=e.props.onRenderTextLayerError;s&&s(n)}),f(p(e),"onMouseDown",function(){var n=e.endElement.current;n&&n.classList.add("active")}),f(p(e),"onMouseUp",function(){var n=e.endElement.current;n&&n.classList.remove("active")}),e}return M(r,[{key:"componentDidMount",value:function(){var t=this.props.page;k(t,"Attempted to load page text content, but no page was specified."),x(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),this.loadTextContent()}},{key:"componentDidUpdate",value:function(t){var i=this.props.page;t.page&&i!==t.page&&this.loadTextContent()}},{key:"componentWillUnmount",value:function(){U(this.runningTask)}},{key:"viewport",get:function(){var t=this.props,i=t.page,u=t.rotate,n=t.scale;return i.getViewport({scale:n,rotation:u})}},{key:"unrotatedViewport",get:function(){var t=this.props,i=t.page,u=t.scale;return i.getViewport({scale:u})}},{key:"rotate",get:function(){var t=this.props,i=t.page,u=t.rotate;return u-i.rotate}},{key:"renderTextLayer",value:function(){var t=this,i=this.state.textContent;if(!i)return null;var u=this.layerElement.current,n=this.viewport,s=this.props,l=s.customTextRenderer,d=s.pageIndex,v=s.pageNumber;U(this.runningTask),u.innerHTML="";var R={container:u,textContent:i,viewport:n},y=N.renderTextLayer(R);this.runningTask=y,y.promise.then(function(){var m=document.createElement("div");if(m.className="endOfContent",u.append(m),t.endElement.current=m,l){var E=0;i.items.forEach(function(w,A){var O=t.layerElement.current.children[E],V=l(Xt({pageIndex:d,pageNumber:v,itemIndex:A},w));O.innerHTML=V,E+=w.str&&w.hasEOL?2:1})}t.onRenderSuccess()}).catch(function(m){t.onRenderError(m)})}},{key:"render",value:function(){return h.createElement("div",{className:"react-pdf__Page__textContent textLayer",onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown,ref:this.layerElement},this.renderTextLayer())}}]),r}(g.PureComponent);Ve.propTypes={customTextRenderer:c.func,onGetTextError:c.func,onGetTextSuccess:c.func,onRenderTextLayerError:c.func,onRenderTextLayerSuccess:c.func,page:re.isRequired,pageIndex:c.number.isRequired,pageNumber:c.number.isRequired,rotate:Y,scale:c.number};function Qt(a){return h.createElement(X.Consumer,null,function(o){return h.createElement(Ve,_({},o,a))})}function en(a){var o=tn();return function(){var e=T(a),t;if(o){var i=T(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return W(this,t)}}function tn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var qe=function(a){G(r,a);var o=en(r);function r(){var e;B(this,r);for(var t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];return e=o.call.apply(o,[this].concat(i)),f(p(e),"state",{annotations:null}),f(p(e),"layerElement",g.createRef()),f(p(e),"loadAnnotations",function(){var n=e.props.page,s=ne(n.getAnnotations());e.runningTask=s,s.promise.then(function(l){e.setState({annotations:l},e.onLoadSuccess)}).catch(function(l){e.onLoadError(l)})}),f(p(e),"onLoadSuccess",function(){var n=e.props.onGetAnnotationsSuccess,s=e.state.annotations;n&&n(s)}),f(p(e),"onLoadError",function(n){e.setState({annotations:!1}),x(n);var s=e.props.onGetAnnotationsError;s&&s(n)}),f(p(e),"onRenderSuccess",function(){var n=e.props.onRenderAnnotationLayerSuccess;n&&n()}),f(p(e),"onRenderError",function(n){x(n);var s=e.props.onRenderAnnotationLayerError;s&&s(n)}),e}return M(r,[{key:"componentDidMount",value:function(){var t=this.props.page;k(t,"Attempted to load page annotations, but no page was specified."),x(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),this.loadAnnotations()}},{key:"componentDidUpdate",value:function(t){var i=this.props,u=i.page,n=i.renderForms;(t.page&&u!==t.page||n!==t.renderForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){U(this.runningTask)}},{key:"viewport",get:function(){var t=this.props,i=t.page,u=t.rotate,n=t.scale;return i.getViewport({scale:n,rotation:u})}},{key:"renderAnnotationLayer",value:function(){var t=this.state.annotations;if(t){var i=this.props,u=i.imageResourcesPath,n=i.linkService,s=i.page,l=i.renderForms,d=this.viewport.clone({dontFlip:!0}),v={annotations:t,div:this.layerElement.current,imageResourcesPath:u,linkService:n,page:s,renderForms:l,viewport:d};this.layerElement.current.innerHTML="";try{N.AnnotationLayer.render(v),this.onRenderSuccess()}catch(R){this.onRenderError(R)}}}},{key:"render",value:function(){return h.createElement("div",{className:"react-pdf__Page__annotations annotationLayer",ref:this.layerElement},this.renderAnnotationLayer())}}]),r}(g.PureComponent);qe.propTypes={imageResourcesPath:c.string,linkService:Nt.isRequired,onGetAnnotationsError:c.func,onGetAnnotationsSuccess:c.func,onRenderAnnotationLayerError:c.func,onRenderAnnotationLayerSuccess:c.func,page:re,renderForms:c.bool,rotate:Y,scale:c.number};var nn=function(o){return h.createElement(fe.Consumer,null,function(r){return h.createElement(X.Consumer,null,function(e){return h.createElement(qe,_({},r,e,o))})})};function Oe(a,o){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);o&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})),r.push.apply(r,e)}return r}function Ce(a){for(var o=1;o<arguments.length;o++){var r=arguments[o]!=null?arguments[o]:{};o%2?Oe(Object(r),!0).forEach(function(e){f(a,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(r,e))})}return a}function rn(a){var o=on();return function(){var e=T(a),t;if(o){var i=T(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return W(this,t)}}function on(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var He=1,me=function(a){G(r,a);var o=rn(r);function r(){var e;B(this,r);for(var t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];return e=o.call.apply(o,[this].concat(i)),f(p(e),"state",{page:null}),f(p(e),"pageElement",g.createRef()),f(p(e),"onLoadSuccess",function(){var n=e.props,s=n.onLoadSuccess,l=n.registerPage,d=e.state.page;s&&s(ee(d,e.scale)),l&&l(e.pageIndex,e.pageElement.current)}),f(p(e),"onLoadError",function(n){e.setState({page:!1}),x(n);var s=e.props.onLoadError;s&&s(n)}),f(p(e),"loadPage",function(){var n=e.props.pdf,s=e.getPageNumber();if(s){e.setState(function(d){return d.page?{page:null}:null});var l=ne(n.getPage(s));e.runningTask=l,l.promise.then(function(d){e.setState({page:d},e.onLoadSuccess)}).catch(function(d){e.onLoadError(d)})}}),e}return M(r,[{key:"componentDidMount",value:function(){var t=this.props.pdf;k(t,"Attempted to load a page, but no document was specified."),this.loadPage()}},{key:"componentDidUpdate",value:function(t){var i=this.props.pdf;if(t.pdf&&i!==t.pdf||this.getPageNumber()!==this.getPageNumber(t)){var u=this.props.unregisterPage;u&&u(this.getPageIndex(t)),this.loadPage()}}},{key:"componentWillUnmount",value:function(){var t=this.props.unregisterPage;t&&t(this.pageIndex),U(this.runningTask)}},{key:"childContext",get:function(){var t=this.pageIndex,i=this.pageNumber,u=this.state.page;if(!u)return{};var n=this.props,s=n.canvasBackground,l=n.customTextRenderer,d=n.devicePixelRatio,v=n.onGetAnnotationsError,R=n.onGetAnnotationsSuccess,y=n.onGetTextError,m=n.onGetTextSuccess,E=n.onRenderAnnotationLayerError,w=n.onRenderAnnotationLayerSuccess,A=n.onRenderError,O=n.onRenderSuccess,V=n.onRenderTextLayerError,Z=n.onRenderTextLayerSuccess,I=n.renderForms,j=n.renderInteractiveForms;return{canvasBackground:s,customTextRenderer:l,devicePixelRatio:d,onGetAnnotationsError:v,onGetAnnotationsSuccess:R,onGetTextError:y,onGetTextSuccess:m,onRenderAnnotationLayerError:E,onRenderAnnotationLayerSuccess:w,onRenderError:A,onRenderSuccess:O,onRenderTextLayerError:V,onRenderTextLayerSuccess:Z,page:u,pageIndex:t,pageNumber:i,renderForms:I??j,rotate:this.rotate,scale:this.scale}}},{key:"getPageIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return H(t.pageNumber)?t.pageNumber-1:H(t.pageIndex)?t.pageIndex:null}},{key:"getPageNumber",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return H(t.pageNumber)?t.pageNumber:H(t.pageIndex)?t.pageIndex+1:null}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var t=this.props.rotate;if(H(t))return t;var i=this.state.page;return i?i.rotate:null}},{key:"scale",get:function(){var t=this.state.page;if(!t)return null;var i=this.props,u=i.scale,n=i.width,s=i.height,l=this.rotate,d=1,v=u===null?He:u;if(n||s){var R=t.getViewport({scale:1,rotation:l});d=n?n/R.width:s/R.height}return v*d}},{key:"eventProps",get:function(){var t=this;return je(this.props,function(){var i=t.state.page;return i&&ee(i,t.scale)})}},{key:"pageKey",get:function(){return"".concat(this.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){return"".concat(this.pageIndex,"/").concat(this.rotate)}},{key:"renderMainLayer",value:function(){var t=this.props,i=t.canvasRef,u=t.renderMode;switch(u){case"none":return null;case"svg":return h.createElement(Yt,{key:"".concat(this.pageKeyNoScale,"_svg")});case"canvas":default:return h.createElement(Ht,{key:"".concat(this.pageKey,"_canvas"),canvasRef:i})}}},{key:"renderTextLayer",value:function(){var t=this.props.renderTextLayer;return t?h.createElement(Qt,{key:"".concat(this.pageKey,"_text")}):null}},{key:"renderAnnotationLayer",value:function(){var t=this.props.renderAnnotationLayer;return t?h.createElement(nn,{key:"".concat(this.pageKey,"_annotations")}):null}},{key:"renderChildren",value:function(){var t=this.props.children;return h.createElement(X.Provider,{value:this.childContext},this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),t)}},{key:"renderContent",value:function(){var t=this.pageNumber,i=this.props.pdf,u=this.state.page;if(!t){var n=this.props.noData;return h.createElement($,{type:"no-data"},typeof n=="function"?n():n)}if(i===null||u===null){var s=this.props.loading;return h.createElement($,{type:"loading"},typeof s=="function"?s():s)}if(i===!1||u===!1){var l=this.props.error;return h.createElement($,{type:"error"},typeof l=="function"?l():l)}return this.renderChildren()}},{key:"render",value:function(){var t=this.pageNumber,i=this.props,u=i.className,n=i.inputRef;return h.createElement("div",_({className:_e("react-pdf__Page",u),"data-page-number":t,ref:Ue(n,this.pageElement),style:{position:"relative",minWidth:"min-content",minHeight:"min-content"}},this.eventProps),this.renderContent())}}]),r}(g.PureComponent);me.defaultProps={error:"Failed to load the page.",loading:"Loading page…",noData:"No page specified.",renderAnnotationLayer:!0,renderMode:"canvas",renderTextLayer:!0,scale:He};var ce=c.oneOfType([c.func,c.node]);me.propTypes=Ce(Ce({},pe),{},{canvasBackground:c.string,children:c.node,className:ge,customTextRenderer:c.func,devicePixelRatio:c.number,error:ce,height:c.number,imageResourcesPath:c.string,inputRef:oe,loading:ce,noData:ce,onGetTextError:c.func,onGetTextSuccess:c.func,onLoadError:c.func,onLoadSuccess:c.func,onRenderError:c.func,onRenderSuccess:c.func,onRenderTextLayerError:c.func,onRenderTextLayerSuccess:c.func,pageIndex:jt,pageNumber:$t,pdf:he,registerPage:c.func,renderAnnotationLayer:c.bool,renderForms:c.bool,renderInteractiveForms:c.bool,renderMode:Ft,renderTextLayer:c.bool,rotate:Y,scale:c.number,unregisterPage:c.func,width:c.number});function an(a,o){return h.createElement(fe.Consumer,null,function(r){return h.createElement(me,_({ref:o},r,a))})}const sn=h.forwardRef(an);_t();N.GlobalWorkerOptions.workerSrc="pdf.worker.js";const cn=S`
  width: 100%;
  height: 100%;
`,un=S`
  display: flex;
  flex-direction: column;
  position: relative;
  width: 100%;
  height: 100%;
  border: 1px solid ${te("grayBlue","08")};
`,J=S`
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
`,ln=S`
  width: 100%;
  height: 100%;
  overflow: auto;
  scroll-snap-type: y mandatory;
  display: flex;
  flex-grow: 1;
  flex-shrink: 0;
  flex-basis: 0;
  background-color: ${te("grayBlue","09")};
`,fn=S`
  margin: 0 auto;

  .react-pdf__message {
    height: 100%;
  }
`,pn=S`
  background: ${te("grayBlue","02")};
  text-align: end;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding: 0 8px;
  flex: 0 0 auto;
`,dn=S`
  &:not(:last-of-type) {
    margin-bottom: 8px;
  }
`,De=a=>S`
    visibility: ${a?"hidden":"visible"};
  `,gn=S`
  color: ${te("white","01")};
  transition:
    color 200ms ease-in-out,
    background-color 200ms ease-in-out;
  vertical-align: middle;
  white-space: nowrap;
  outline: none;
  border: 0;
  background-color: transparent;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding: 10px;
`,hn=S`
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  font-size: 12px;
`;function vn(a){return a?S`
      cursor: default;

      &:disabled {
        cursor: not-allowed;
        background-color: transparent;
      }
    `:S`
      cursor: pointer;

      &:disabled {
        cursor: not-allowed;
      }
    `}function mn(a){return a==="round"?S`
      border-radius: 50%;
    `:S`
      border-radius: 8px;
    `}const Q=g.forwardRef((a,o)=>{const{loading:r,icon:e,shape:t="square",...i}=a;return b("button",{css:[gn,vn(r),mn(t)],ref:o,...i,children:(r||e)&&b("span",{css:hn,children:r?b(Qe,{spin:!0}):e})})});Q.displayName="ToolButton";N.GlobalWorkerOptions.workerSrc=rt;const Ke=g.forwardRef((a,o)=>{const{displayName:r,width:e,height:t,scaleMode:i,url:u,showToolBar:n}=a,{t:s}=ot(),l=g.useRef([]),d=g.useRef(null),[v,R]=g.useState(0),[y,m]=g.useState(1),[E,w]=g.useState(!0),[A,O]=g.useState(!1),[V,Z]=g.useState(!1),I=g.useRef(!1),j=g.useRef(null),{scaleWidth:ze,scaleHeight:Ye}=g.useMemo(()=>i==="width"?{scaleWidth:e}:{scaleHeight:t},[e,t,i]),ye=g.useCallback(C=>{const{offsetTop:L}=l.current[y+C-1];d.current&&(d.current.scrollTop=L-40,Z(!0)),m(D=>(D||1)+C)},[y]),Xe=ct(()=>{if(I.current){I.current=!1;const{scrollTop:C}=d.current||{};if(!C)return;const L=l.current.findIndex(D=>D.offsetTop-40>=C);m(L===-1?v:L)}},150),Ze=g.useCallback(async()=>{if(!u)return;const L=await(await fetch(u)).blob(),D=URL.createObjectURL(L),q=document.createElement("a");q.href=D,q.download=r,document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(D)},[u,r]),Je=()=>{if(V)return Z(!1);I.current||(I.current=!0,Xe())};return g.useEffect(()=>()=>{j.current&&(clearTimeout(j.current),j.current=null)},[]),u?Re("div",{css:un,ref:o,children:[E?b("div",{css:J,children:b(be,{})}):null,n&&!A&&!E?Re("div",{css:[pn,De(E)],children:[b(Q,{disabled:y<=1,onClick:()=>ye(-1),type:"button",shape:"round","aria-label":"Previous page",icon:b(et,{})}),b(Q,{disabled:y>=v,onClick:()=>ye(1),type:"button",shape:"round","aria-label":"Next page",icon:b(tt,{})}),b(Q,{type:"button",shape:"round",onClick:Ze,icon:b(nt,{})})]}):null,b("div",{css:[ln,De(E)],ref:d,onScroll:Je,children:b(ve,{css:fn,loading:b("div",{css:J,children:b(be,{})}),error:b("div",{css:J,children:s("widget.pdf.failed")}),file:u,onLoadSuccess:({numPages:C})=>{R(C),clearTimeout(j.current),j.current=window.setTimeout(()=>{w(!1),O(!1)},200)},onLoadError:()=>{w(!1),O(!0)},children:Array.from(new Array(v),(C,L)=>b(sn,{css:dn,loading:"",width:ze,height:Ye,pageNumber:L+1,inputRef:D=>{D&&(l.current[L]=D)}},`page_${L+1}`))})})]}):b("div",{css:J,children:s("widget.pdf.empty")})});Ke.displayName="Pdf";const yn=a=>{const{displayName:o,updateComponentRuntimeProps:r,deleteComponentRuntimeProps:e,handleUpdateMultiExecutionResult:t,handleUpdateOriginalDSLMultiAttr:i,tooltipText:u,width:n,height:s,scaleMode:l,url:d,showToolBar:v,w:R,h:y}=a,m=g.useRef(null);return g.useEffect(()=>(r({setFileUrl:E=>{t([{displayName:o,value:{url:E}}])}}),()=>{e()}),[r,e,t,o]),g.useEffect(()=>{var A,O;const E=(A=m.current)==null?void 0:A.offsetWidth,w=(O=m.current)==null?void 0:O.offsetHeight;E&&w&&(E!==n||w!==s)&&(i==null||i({width:m.current.offsetWidth,height:m.current.offsetHeight},!0))},[R,y,i,n,s]),b("div",{css:cn,ref:m,children:b(st,{tooltipText:u,tooltipDisabled:!u,children:b(Ke,{...a,updateComponentRuntimeProps:r,deleteComponentRuntimeProps:e,displayName:o,width:n,height:s,scaleMode:l,url:d,showToolBar:v})})})};yn.displayName="PdfWidget";export{Ke as Pdf,yn as PdfWidget,yn as default};
//# sourceMappingURL=pdf-696a14fe.js.map
