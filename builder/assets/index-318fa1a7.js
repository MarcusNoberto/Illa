import{o as S,k as n,S as R,F}from"./@illa-design-1f43bb6c.js";import{u as K,b as I,bA as H,fv as O,e as j,be as P,eH as y,gH as A,gI as D,id as G,ie as B}from"./index-4dce6ee8.js";import{r as h}from"./react-9b7e00e3.js";import{C as L,a as V}from"./index-03ca7e7b.js";import{R as M}from"./index-5b916626.js";import{b as J,a as Y,c as U,d as q,e as z}from"./style-fd01a1ce.js";import{S as Q}from"./index-01ad6233.js";import{T as W}from"./index-cd7c17cc.js";import{I as N}from"./index-2c4267bb.js";import{a as E}from"./@emotion-08a6282b.js";const X=[{label:'Fill in "inputs" parameter with key-value',value:"pairs"},{label:'Fill in "inputs" parameter with text',value:"text"},{label:'Fill in "inputs" parameter with JSON',value:"json"},{label:"Binary",value:"binary"}],Z=E`
  padding: 8px 0;
`,$=E`
  width: 100%;
  margin-top: 8px;
  margin-bottom: 8px;
`,ee=({t:a,content:c,handleParametersValueChange:o})=>{var i,u,e,s,r,m,_,l,f;return n(F,{children:[{title:a("editor.action.panel.hugging_face.use_cache"),name:"useCache",value:(i=c.detailParams)==null?void 0:i.useCache,placeholder:a("editor.action.panel.hugging_face.placeholder.use_cache")},{title:a("editor.action.panel.hugging_face.wait_for_model"),name:"waitForModel",value:(u=c.detailParams)==null?void 0:u.waitForModel,placeholder:a("editor.action.panel.hugging_face.placeholder.use_cache")},{title:a("editor.action.panel.hugging_face.min_length"),name:"minLength",value:(e=c.detailParams)==null?void 0:e.minLength,placeholder:a("editor.action.panel.hugging_face.placeholder.min_length")},{title:a("editor.action.panel.hugging_face.max_length"),name:"maxLength",value:(s=c.detailParams)==null?void 0:s.maxLength,placeholder:a("editor.action.panel.hugging_face.placeholder.min_length")},{title:a("editor.action.panel.hugging_face.top_k"),name:"topK",value:(r=c.detailParams)==null?void 0:r.topK,placeholder:a("editor.action.panel.hugging_face.placeholder.top_k")},{title:a("editor.action.panel.hugging_face.top_p"),name:"topP",value:(m=c.detailParams)==null?void 0:m.topP,placeholder:a("editor.action.panel.hugging_face.placeholder.top_p")},{title:a("editor.action.panel.hugging_face.temperature"),name:"temperature",value:(_=c.detailParams)==null?void 0:_.temperature,placeholder:a("editor.action.panel.hugging_face.placeholder.temperature"),tips:a("editor.action.panel.hugging_face.tips.temperature")},{title:a("editor.action.panel.hugging_face.repetition_penalty"),name:"repetitionPenalty",value:(l=c.detailParams)==null?void 0:l.repetitionPenalty,placeholder:a("editor.action.panel.hugging_face.placeholder.repetition_penalty"),tips:a("editor.action.panel.hugging_face.tips.repetition_penalty")},{title:a("editor.action.panel.hugging_face.max_time"),name:"maxTime",value:(f=c.detailParams)==null?void 0:f.maxTime,placeholder:a("editor.action.panel.hugging_face.placeholder.max_time")}].map(({title:v,name:x,value:k,placeholder:T,tips:w},C)=>n(N,{title:v,value:k??"",onChange:b=>o(b,x),expectedType:y.STRING,placeholder:T??"",tips:w??""},C))})},ae=a=>{var C,b;const{withoutModel:c=!1}=a,{t:o}=K(),i=I(H),u=I(O),e=i.content,s=e.inputs.type||"text",r=j(),m=t=>window.open(t,"_blank"),_=h.useCallback(t=>p=>{r(P.updateCachedAction({...i,content:{...e,[t]:p}}))},[i,e,r]),l=h.useCallback(t=>{r(P.updateCachedAction({...i,content:{...e,inputs:{type:e.inputs.type,content:t}}}))},[i,e,r]),f=h.useCallback(t=>{var d,g;let p=t==="pairs"?G:B;u.resourceID===i.resourceID&&((g=(d=u.content)==null?void 0:d.inputs)==null?void 0:g.type)===t&&(p=u.content.inputs.content),r(P.updateCachedAction({...i,content:{...e,withDetailParams:t==="binary"?!1:e.withDetailParams,inputs:{type:t,content:p}}}))},[i,e,r,u]),v=h.useCallback(()=>{let t=[...e.inputs.content??[{key:"",value:""}],{key:"",value:""}];l(t)},[e,l]),x=h.useCallback((t,p,d)=>{let g=[...e.inputs.content??[{key:"",value:""}]];g[t]={key:p,value:d},l(g)},[e,l]),k=h.useCallback((t,p,d)=>{let g=[...e.inputs.content??[{key:"",value:""}]];g[t]={key:p,value:d},l(g)},[e,l]),T=h.useCallback((t,p)=>{let d=[...e.inputs.content??[{key:"",value:""}]];d.splice(t,1),l(d)},[e,l]),w=h.useCallback((t,p)=>{r(P.updateCachedAction({...i,content:{...e,detailParams:{...e.detailParams,[p]:t}}}))},[i,e,r]);return S("div",{css:Z,children:[!c&&n(N,{title:o("editor.action.panel.hugging_face.mode_id"),value:e.modelID??"",onChange:_("modelID"),expectedType:y.STRING,tips:n(A,{i18nKey:"editor.action.panel.hugging_face.tips.mode_id",t:o,components:[n(D,{onClick:()=>{m("https://huggingface.co/models")}},"editor.action.panel.hugging_face.tips.mode_id")]})}),S("div",{css:J,children:[n("span",{css:Y,children:o("editor.action.panel.hugging_face.parameter")}),S("div",{css:U,children:[n("div",{css:q,children:n(R,{colorScheme:"techPurple",showSearch:!0,defaultValue:((C=e==null?void 0:e.inputs)==null?void 0:C.type)||"text",value:((b=e==null?void 0:e.inputs)==null?void 0:b.type)||"text",w:"100%",placeholder:o("editor.action.panel.firebase.placeholder.select_an_action"),onChange:f,options:X})}),s==="pairs"&&n(M,{label:"",records:e.inputs.content??[{key:"",value:""}],onChangeKey:x,onChangeValue:k,onDelete:T,onAdd:v,valueInputType:y.ANY}),(s==="binary"||s==="json")&&n("div",{css:z,children:n(L,{lang:V.JAVASCRIPT,showLineNumbers:!0,value:e.inputs.content??"",expectValueType:y.STRING,height:"88px",placeholder:o(s==="binary"?"editor.action.panel.hugging_face.placeholder.binary":"editor.action.panel.hugging_face.placeholder.json"),onChange:l},s)}),s==="text"&&n("div",{css:$,children:n(L,{lang:V.JAVASCRIPT,value:(e==null?void 0:e.inputs.content)??"",onChange:l,expectValueType:y.STRING,placeholder:o("editor.action.panel.hugging_face.placeholder.text")})})]})]}),s!=="binary"&&n(Q,{componentType:"checkbox",value:e.withDetailParams??!1,checkoutTitle:o("editor.action.panel.hugging_face.use_detail_parameters"),onBooleanValueChange:_("withDetailParams"),tips:n(A,{i18nKey:"editor.action.panel.hugging_face.tips.use_detail_parameters",t:o,components:[n(D,{onClick:()=>{m("https://huggingface.co/docs/api-inference/detailed_parameters")}},"editor.action.panel.hugging_face.tips.use_detail_parameters")]})}),e.withDetailParams&&n(F,{children:ee({t:o,content:e,handleParametersValueChange:w})}),n(W,{})]})};ae.displayName="HuggingFaceCommonPanel";export{ae as H};
//# sourceMappingURL=index-318fa1a7.js.map
