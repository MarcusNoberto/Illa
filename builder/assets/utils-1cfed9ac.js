import{l,m,k as o,o as g,aa as h,F as y,aj as b}from"./@illa-design-1f43bb6c.js";import{a as _}from"./@emotion-08a6282b.js";import{b5 as a}from"./index-4dce6ee8.js";const x=_`
  display: flex;
  padding: 8px 0;
  width: 100%;
  align-items: center;
  color: ${l(`--${m}-orange-03`)};
  font-size: 14px;

  svg {
    margin-right: 8px;
  }
`,U=e=>{const{validateMessage:r}=e;return o(y,{children:typeof r=="string"&&r.length>0&&g("span",{css:x,children:[o(h,{}),r]})})},M=e=>{const r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return new RegExp(r).test(e)};function C(e){const r=/^(?:\w+:)?\/\/([^\s\.]+\.\S{2}|localhost[\:?\d]*)\S*$/;return new RegExp(r).test(e)}const p=e=>{if(e!=null&&e!=="")return!0},k=(e,r)=>{if(typeof r=="number"&&(Array.isArray(e)&&e.length<r||typeof e>"u"))return!0},E=(e,r)=>{if(typeof r=="number"&&(Array.isArray(e)&&e.length>r||typeof e>"u"))return!0},S=(e,r)=>{if(r&&(typeof e>"u"||Array.isArray(e)&&e.length===0))return!0},R=(e,r)=>{if(typeof r=="number"&&(typeof e=="string"&&e.length>r||typeof e>"u"))return!0},z=(e,r)=>{if(typeof r=="number"&&(typeof e=="string"&&e.length<r||typeof e>"u"))return!0},A=(e,r)=>{if(typeof r=="number"&&(typeof e=="number"&&e<r||typeof e>"u"))return!0},I=(e,r)=>{if(typeof r=="number"&&(typeof e=="number"&&e>r||typeof e>"u"))return!0},L=(e,r,t)=>{switch(r){case"Email":{if(typeof e=="string"&&!M(e)||typeof e>"u")return a.t("editor.validate_message.email");break}case"URL":{if(typeof e=="string"&&!C(e)||typeof e>"u")return a.t("editor.validate_message.url");break}case"Regex":if(!t||typeof e===void 0)return;try{let n=t;t.startsWith("/")&&t.endsWith("/")&&(n=t.slice(1,t.length-1));const i=new RegExp(n);if(typeof e!="string"||!i.test(e))return a.t("editor.validate_message.regex")}catch(n){console.error("regex error",n)}}},N=e=>{const r=Array.isArray(e)?e:[e];return new Blob(r).size},w=(e,r,t,n)=>{var i;if(e&&e.length){const c=s=>s!=="mb"?1024:1048576,u=r?r*c(n):0,d=t?t*c(n):0;for(let s=0;s<e.length;s++){const f=((i=e[s].originFile)==null?void 0:i.size)||N(e[s].originFile);if(u&&f>u)return{hasError:!0,errorMessage:a.t("editor.validate_message.max_size",{maxSize:r,type:(n||"MB").toUpperCase()})};if(d&&f<d)return{hasError:!0,errorMessage:a.t("editor.validate_message.min_size",{minSize:t,type:(n||"MB").toUpperCase()})}}}return{hasError:!1,errorMessage:""}},F=(e,r,t)=>{if(e){const n=e.length;if(r&&n>r)return{fileCountInvalid:!0,countErrorMessage:a.t("editor.validate_message.max_files",{maxFiles:r})};if(t&&n<t)return{fileCountInvalid:!0,countErrorMessage:a.t("editor.validate_message.min_files",{minFiles:t})}}return{fileCountInvalid:!1,countErrorMessage:""}},V=e=>{if(typeof e>"u")return;if(p(e.customRule))try{return typeof e.customRule=="string"?e.customRule:JSON.stringify(e.customRule)}catch{console.error("custom rule is error")}const{hasError:r,errorMessage:t}=w(e.value,e.maxSize,e.minSize,e.sizeType);if(r)return t;const{fileCountInvalid:n,countErrorMessage:i}=F(e.value,e.maxFiles,e.minFiles);return n?i:k(e.value,e.atLeastNumber)?a.t("editor.inspect.setter_message.choose_at_least",{min:e.atLeastNumber}):E(e.value,e.upToNumber)?a.t("editor.inspect.setter_message.choose_up_to",{max:e.upToNumber}):S(e.value,e.required)?a.t("editor.validate_message.required"):R(e.value,e.maxLength)?a.t("editor.validate_message.max_length",{number:e.maxLength}):z(e.value,e.minLength)?a.t("editor.validate_message.min_value",{number:e.minLength}):I(e.value,e.maxDuration)?a.t("editor.inspect.setter_message.recording.max_duration",{maximum:e.maxDuration}):A(e.value,e.minDuration)?a.t("editor.inspect.setter_message.recording.min_duration",{minimum:e.minDuration}):L(e.value,e.pattern,e.regex)},$=e=>b(e)&&!e?void 0:e;export{U as I,$ as g,V as h};
//# sourceMappingURL=utils-1cfed9ac.js.map
