{"version":3,"file":"index-05ee795d.js","sources":["../../src/page/App/components/InspectPanel/PanelSetters/TabsSetter/DefaultTabKeySetter/index.tsx"],"sourcesContent":["import { get } from \"lodash-es\"\nimport { FC, useCallback } from \"react\"\nimport { useSelector } from \"react-redux\"\nimport { ViewItemShape } from \"@/page/App/components/InspectPanel/PanelSetters/ContainerSetter/ViewsSetter/interface\"\nimport BaseInput from \"@/page/App/components/InspectPanel/PanelSetters/InputSetter/BaseInput\"\nimport { getExecutionResult } from \"@/redux/currentApp/executionTree/executionSelector\"\nimport { RootState } from \"@/store\"\nimport { TabsDefaultKeySetterProps } from \"./interface\"\n\nconst TabsDefaultKeySetter: FC<TabsDefaultKeySetterProps> = (props) => {\n  const { handleUpdateMultiAttrDSL, widgetDisplayName } = props\n\n  const targetComponentProps = useSelector<RootState, Record<string, any>>(\n    (rootState) => {\n      const executionTree = getExecutionResult(rootState)\n      return get(executionTree, widgetDisplayName, {})\n    },\n  )\n\n  const tabList = get(targetComponentProps, \"tabList\", []) as ViewItemShape[]\n\n  const handleUpdateDefaultTab = useCallback(\n    (attrPath: string, value: string) => {\n      const defaultTabIndex = tabList.findIndex((view) => view.key === value)\n      let currentIndex\n      if (defaultTabIndex > -1) {\n        currentIndex = defaultTabIndex\n      }\n      handleUpdateMultiAttrDSL?.({\n        [attrPath]: value,\n        currentIndex,\n      })\n    },\n    [handleUpdateMultiAttrDSL, tabList],\n  )\n\n  return <BaseInput {...props} handleUpdateDsl={handleUpdateDefaultTab} />\n}\n\nTabsDefaultKeySetter.displayName = \"TabsDefaultKeySetter\"\nexport default TabsDefaultKeySetter\n"],"names":["TabsDefaultKeySetter","props","handleUpdateMultiAttrDSL","widgetDisplayName","targetComponentProps","useSelector","rootState","executionTree","getExecutionResult","get","tabList","handleUpdateDefaultTab","useCallback","attrPath","value","defaultTabIndex","view","currentIndex","jsx","BaseInput"],"mappings":"okBASM,MAAAA,EAAuDC,GAAU,CAC/D,KAAA,CAAE,yBAAAC,EAA0B,kBAAAC,CAAsB,EAAAF,EAElDG,EAAuBC,EAC1BC,GAAc,CACP,MAAAC,EAAgBC,EAAmBF,CAAS,EAClD,OAAOG,EAAIF,EAAeJ,EAAmB,CAAE,CAAA,CACjD,CAAA,EAGIO,EAAUD,EAAIL,EAAsB,UAAW,CAAE,CAAA,EAEjDO,EAAyBC,EAAA,YAC7B,CAACC,EAAkBC,IAAkB,CACnC,MAAMC,EAAkBL,EAAQ,UAAWM,GAASA,EAAK,MAAQF,CAAK,EAClE,IAAAG,EACAF,EAAkB,KACLE,EAAAF,GAEUb,GAAA,MAAAA,EAAA,CACzB,CAACW,CAAQ,EAAGC,EACZ,aAAAG,CAAA,EAEJ,EACA,CAACf,EAA0BQ,CAAO,CAAA,EAGpC,OAAQQ,EAAAC,EAAA,CAAW,GAAGlB,EAAO,gBAAiBU,CAAwB,CAAA,CACxE,EAEAX,EAAqB,YAAc"}