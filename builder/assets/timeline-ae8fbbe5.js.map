{"version":3,"file":"timeline-ae8fbbe5.js","sources":["../../src/widgetLibrary/TimelineWidget/timeline.tsx"],"sourcesContent":["import { FC, useEffect, useMemo } from \"react\"\nimport { Timeline, TimelineItem } from \"@illa-design/react\"\nimport { AutoHeightContainer } from \"@/widgetLibrary/PublicSector/AutoHeightContainer\"\nimport {\n  TimelineWidgetProps,\n  WrappedTimelineProps,\n} from \"@/widgetLibrary/TimelineWidget/interface\"\n\nexport const WrappedTimeline: FC<WrappedTimelineProps> = (props) => {\n  const { items, direction, pending } = props\n\n  const timelineItems = useMemo(() => {\n    if (Array.isArray(items)) {\n      return items.map(\n        (item) =>\n          (typeof item === \"string\" || typeof item === \"number\") && (\n            <TimelineItem key={item}>{item}</TimelineItem>\n          ),\n      )\n    }\n    return null\n  }, [items])\n\n  return (\n    <Timeline direction={direction} pending={pending} h=\"100%\" w=\"100%\">\n      {timelineItems}\n    </Timeline>\n  )\n}\n\nWrappedTimeline.displayName = \"WrappedTimeline\"\n\nexport const TimelineWidget: FC<TimelineWidgetProps> = (props) => {\n  const {\n    items,\n    direction,\n    pending,\n    displayName,\n    dynamicHeight = \"fixed\",\n    handleUpdateDsl,\n    updateComponentRuntimeProps,\n    deleteComponentRuntimeProps,\n    updateComponentHeight,\n  } = props\n\n  useEffect(() => {\n    updateComponentRuntimeProps({\n      setValue: (value: string) => {\n        handleUpdateDsl({ items: value.split(\",\") })\n      },\n      clearValue: () => {\n        handleUpdateDsl({ items: [] })\n      },\n    })\n\n    return () => {\n      deleteComponentRuntimeProps()\n    }\n  }, [\n    items,\n    direction,\n    pending,\n    displayName,\n    updateComponentRuntimeProps,\n    handleUpdateDsl,\n    deleteComponentRuntimeProps,\n  ])\n\n  const enableAutoHeight =\n    dynamicHeight !== \"fixed\" && dynamicHeight != undefined\n\n  return (\n    <AutoHeightContainer\n      updateComponentHeight={updateComponentHeight}\n      enable={enableAutoHeight}\n    >\n      <WrappedTimeline {...props} />\n    </AutoHeightContainer>\n  )\n}\n\nTimelineWidget.displayName = \"TimelineWidget\"\nexport default TimelineWidget\n"],"names":["WrappedTimeline","props","items","direction","pending","timelineItems","useMemo","item","jsx","TimelineItem","Timeline","TimelineWidget","displayName","dynamicHeight","handleUpdateDsl","updateComponentRuntimeProps","deleteComponentRuntimeProps","updateComponentHeight","useEffect","value","enableAutoHeight","AutoHeightContainer"],"mappings":"iSAQa,MAAAA,EAA6CC,GAAU,CAClE,KAAM,CAAE,MAAAC,EAAO,UAAAC,EAAW,QAAAC,CAAA,EAAYH,EAEhCI,EAAgBC,EAAAA,QAAQ,IACxB,MAAM,QAAQJ,CAAK,EACdA,EAAM,IACVK,IACE,OAAOA,GAAS,UAAY,OAAOA,GAAS,WAC3CC,EAACC,EAAyB,CAAA,SAAAF,CAAA,EAAPA,CAAY,CAAA,EAIhC,KACN,CAACL,CAAK,CAAC,EAGR,OAAAM,EAACE,GAAS,UAAAP,EAAsB,QAAAC,EAAkB,EAAE,OAAO,EAAE,OAC1D,SACHC,CAAA,CAAA,CAEJ,EAEAL,EAAgB,YAAc,kBAEjB,MAAAW,EAA2CV,GAAU,CAC1D,KAAA,CACJ,MAAAC,EACA,UAAAC,EACA,QAAAC,EACA,YAAAQ,EACA,cAAAC,EAAgB,QAChB,gBAAAC,EACA,4BAAAC,EACA,4BAAAC,EACA,sBAAAC,CACE,EAAAhB,EAEJiB,EAAAA,UAAU,KACoBH,EAAA,CAC1B,SAAWI,GAAkB,CAC3BL,EAAgB,CAAE,MAAOK,EAAM,MAAM,GAAG,EAAG,CAC7C,EACA,WAAY,IAAM,CAChBL,EAAgB,CAAE,MAAO,CAAC,CAAA,CAAG,CAC/B,CAAA,CACD,EAEM,IAAM,CACiBE,GAAA,GAE7B,CACDd,EACAC,EACAC,EACAQ,EACAG,EACAD,EACAE,CAAA,CACD,EAEK,MAAAI,EACJP,IAAkB,SAAWA,GAAiB,KAG9C,OAAAL,EAACa,EAAA,CACC,sBAAAJ,EACA,OAAQG,EAER,SAAAZ,EAACR,EAAiB,CAAA,GAAGC,CAAO,CAAA,CAAA,CAAA,CAGlC,EAEAU,EAAe,YAAc"}