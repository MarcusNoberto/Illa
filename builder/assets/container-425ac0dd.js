import{k as d}from"./@illa-design-402f214a.js";import{r as a}from"./react-9b7e00e3.js";import{T as v}from"./index-5f69abbc.js";import{R as N}from"./index-c428eaa3.js";import{i as K,j as E}from"./renderComponentCanvasContainer-44ad78fe.js";import"./@emotion-4f16718e.js";import"./index-2f1869ab.js";import"./codeMirror-vendor-eff8ab8d.js";import"./lodash-lib-6e94956b.js";import"./react-icons-vendor-2430ea65.js";import"./style-7ce959a8.js";import"./index-f466602f.js";import"./index-cf2bb556.js";import"./index-b8442d1a.js";const q=I=>{const{currentIndex:i,updateComponentRuntimeProps:s,deleteComponentRuntimeProps:w,viewList:n,tooltipText:y,childrenNode:f,columnNumber:k,dynamicHeight:C="fixed",triggerEventHandler:c,updateComponentHeight:p,linkWidgetDisplayName:l,padding:m,displayName:g,handleUpdateMultiExecutionResult:h}=I,o=a.useRef(i);a.useEffect(()=>{typeof o.current!="number"&&(o.current=i),o.current!==i&&(c("change"),o.current=i)},[i,c]);const V=a.useCallback(()=>{c("click")},[c]),x=a.useMemo(()=>{switch(C){case"auto":return!0;case"limited":return!0;case"fixed":default:return!1}},[C]),b=a.useCallback(t=>{!p||!x||p(t+2)},[x,p]),u=a.useCallback(t=>{if(h([{displayName:g,value:t}]),l&&l.length>0){const e=l.map(r=>({displayName:r,value:t}));h(e)}},[g,h,l]);return a.useEffect(()=>(s==null||s({setCurrentViewKey:t=>{const e=n.findIndex(r=>r.key===t);e!==-1&&u({currentIndex:e,currentKey:t})},setCurrentViewIndex:t=>{const e=parseInt(t),r=n[e];r&&u({currentIndex:e,currentKey:r.key})},showNextView:t=>{let e=i+1;if(e>=n.length){if(!t)return;e=0}const r=n[e];u({currentIndex:e,currentKey:r.key})},showNextVisibleView:t=>{let e=i+1;if(e>=n.length){if(!t)return;e=0}let r=n[e];for(;r.hidden||r.disabled;)if(e++,r=n[e],e>=n.length){if(!t)return;e=0}u({currentIndex:e,currentKey:r.key})},showPreviousView:t=>{let e=i-1;if(e<0){if(!t)return;e=n.length-1}const r=n[e];u({currentIndex:e,currentKey:r.key})},showPreviousVisibleView:t=>{let e=i-1;if(e<0){if(!t)return;e=n.length-1}let r=n[e];for(;r.hidden||r.disabled;)if(e--,r=n[e],e<0){if(!t)return;e=n.length-1}u({currentIndex:e,currentKey:r.key})}}),()=>{w()}),[w,s,u,n,i]),d(v,{tooltipText:y,tooltipDisabled:!y,children:d("div",{css:K,onClick:V,children:Array.isArray(f)&&i<f.length?d(N,{displayName:f[i],columnNumber:k,handleUpdateHeight:b,canResizeCanvas:x,containerPadding:m==null?void 0:m.size}):d(E,{})})})};export{q as ContainerWidget,q as default};
//# sourceMappingURL=container-425ac0dd.js.map
