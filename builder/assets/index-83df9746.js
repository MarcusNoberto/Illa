import{k as t,o as m,D as y,aa as q,F as b,bd as I}from"./@illa-design-1f43bb6c.js";import{u as E,gE as R,gF as k,gS as N,gK as A,gG as x,d6 as D,gJ as M,gM as F}from"./index-4dce6ee8.js";import{r as h}from"./react-9b7e00e3.js";import{c as K,C as a,o as _,e as O,a as L,d as j}from"./style-49dd2bac.js";import{I as z}from"./index-a2b8dbce.js";import"./@emotion-08a6282b.js";import"./codeMirror-vendor-320207e2.js";import"./lodash-lib-6e94956b.js";import"./react-icons-vendor-2430ea65.js";const G=g=>{const{resourceID:w}=g,{t:e}=E(),{control:r,formState:f,watch:C}=R(),{getResourceByID:V}=h.useContext(k),c=V(w),[p,v]=h.useState(!1),o=(c==null?void 0:c.content)??N,S=C("ssl",o.ssl.ssl),T=h.useCallback(l=>{const s=F(l??"");return s!==p&&v(s),A(l)},[p]);return t(b,{children:m("div",{css:K,children:[t(a,{controlledType:"input",isRequired:!0,title:e("editor.action.resource.db.label.name"),control:r,defaultValue:(c==null?void 0:c.resourceName)??"",rules:[{validate:x}],placeholders:[e("editor.action.resource.db.placeholder.name")],name:"resourceName",tips:e("editor.action.resource.restapi.tip.name")}),t(y,{direction:"horizontal",ml:"24px",mr:"24px",mt:"8px",mb:"8px",w:"unset"}),t("div",{css:_,children:e("editor.action.resource.db.title.general_option")}),t(a,{controlledType:["input","number"],isRequired:!0,title:e("editor.action.resource.db.label.hostname_port"),control:r,defaultValue:[o.host,o.port??1433],rules:[{required:e("editor.action.resource.error.invalid_url"),validate:T},{required:!0}],placeholders:[e("editor.action.resource.db.placeholder.hostname"),"1433"],name:["host","port"],styles:[{},{w:"142px",ml:"8px"}],tips:f.errors.host&&!p?m("div",{css:O,children:[t(q,{css:L}),t(b,{children:f.errors.host.message})]}):null}),p&&t(a,{defaultValue:"",name:"",title:"",controlledType:"none",control:r,tips:t(I,{title:e("editor.action.form.tips.connect_to_local.title.tips"),closable:!1,content:e("editor.action.form.tips.connect_to_local.selfhost")})}),t(a,{controlledType:["input"],isRequired:!0,title:e("editor.action.resource.db.label.database"),control:r,defaultValue:o.databaseName,rules:[{validate:x}],placeholders:[e("editor.action.resource.db.placeholder.database_name")],name:"databaseName"}),t(a,{controlledType:["input","password"],title:e("editor.action.resource.db.label.username_password"),control:r,defaultValue:[o.username,o.password],placeholders:[e("editor.action.resource.db.placeholder.username"),e("editor.action.resource.db.placeholder.password")],name:["username","password"],styles:[{},{ml:"8px"}]}),D,t(y,{direction:"horizontal",ml:"24px",mr:"24px",mt:"8px",mb:"8px",w:"unset"}),t("div",{css:_,children:e("editor.action.resource.db.title.advanced_option")}),t(M,{control:r,defaultValue:o.connectionOpts,render:({field:{value:l,onChange:s}})=>t(z,{label:e("editor.action.resource.db.label.connection_options"),records:l,onAdd:()=>{s([...l,{key:"",value:""}])},onDelete:n=>{let i=[...l];i.splice(n,1),i.length===0&&(i=[{key:"",value:""}]),s(i)},onChangeKey:(n,i,u)=>{let d=[...l];d[n]={key:i,value:u},s(d)},onChangeValue:(n,i,u)=>{let d=[...l];d[n].value=u,s(d)}}),name:"connectionOpts"},"connectionOpts"),t("div",{css:j,children:e("editor.action.resource.db.tip.connection_options")}),t(a,{controlledType:["switch"],title:e("editor.action.resource.db.label.ssl_options"),control:r,defaultValue:o.ssl.ssl,name:"ssl",contentLabel:e("editor.action.resource.db.tip.ssl_options")}),S&&m(b,{children:[t(a,{controlledType:["textarea"],title:e("editor.action.resource.db.label.ca_certificate"),control:r,defaultValue:o.ssl.caCert,name:"caCert",placeholders:[e("editor.action.resource.db.placeholder.certificate")]}),t(a,{controlledType:["textarea"],title:e("editor.action.resource.db.label.client_key"),control:r,defaultValue:o.ssl.privateKey,name:"privateKey",placeholders:[e("editor.action.resource.db.placeholder.certificate")]}),t(a,{controlledType:["textarea"],title:e("editor.action.resource.db.label.client_certificate"),control:r,defaultValue:o.ssl.clientCert,name:"clientCert",placeholders:[e("editor.action.resource.db.placeholder.certificate")]})]})]})})};G.displayName="MicrosoftSqlConfigElement";export{G as default};
//# sourceMappingURL=index-83df9746.js.map
