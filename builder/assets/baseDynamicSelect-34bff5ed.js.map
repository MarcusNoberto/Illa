{"version":3,"file":"baseDynamicSelect-34bff5ed.js","sources":["../../src/page/App/components/InspectPanel/PanelSetters/SelectSetter/baseDynamicSelect.tsx"],"sourcesContent":["import { ILLA_MIXPANEL_EVENT_TYPE } from \"@illa-public/mixpanel-utils\"\nimport { FC, useCallback } from \"react\"\nimport { Select } from \"@illa-design/react\"\nimport { CodeEditor } from \"@/components/CodeEditor\"\nimport {\n  CODE_LANG,\n  CODE_TYPE,\n} from \"@/components/CodeEditor/CodeMirror/extensions/interface\"\nimport { DynamicIcon } from \"@/page/App/components/InspectPanel/PanelSetters/PublicComponent/DynamicIcon\"\nimport { BaseDynamicSelectSetterProps } from \"@/page/App/components/InspectPanel/PanelSetters/SelectSetter/interface\"\nimport {\n  basicDynamicSetterContainerStyle,\n  dynamicSelectHeaderStyle,\n  dynamicSelectSetterStyle,\n} from \"@/page/App/components/InspectPanel/PanelSetters/SelectSetter/style\"\nimport { PanelLabel } from \"@/page/App/components/InspectPanel/components/Label\"\nimport { trackInEditor } from \"@/utils/mixpanelHelper\"\n\nconst BaseDynamicSelect: FC<BaseDynamicSelectSetterProps> = (props) => {\n  const {\n    labelName,\n    labelDesc,\n    isDynamic,\n    onClickFxButton,\n    value,\n    onChangeInput,\n    onChangeSelect,\n    expectedType,\n    options,\n    selectPlaceholder,\n    inputPlaceholder,\n    isError,\n    widgetType,\n    attrName,\n    detailedDescription,\n  } = props\n\n  const handleClickFxButton = useCallback(() => {\n    if (isDynamic) {\n      trackInEditor(ILLA_MIXPANEL_EVENT_TYPE.CLICK, {\n        element: \"fx\",\n        parameter1: widgetType,\n        parameter2: attrName,\n        parameter3: \"off\",\n      })\n    } else {\n      trackInEditor(ILLA_MIXPANEL_EVENT_TYPE.CLICK, {\n        element: \"fx\",\n        parameter1: widgetType,\n        parameter2: attrName,\n        parameter3: \"on\",\n      })\n    }\n    onClickFxButton?.()\n  }, [attrName, isDynamic, onClickFxButton, widgetType])\n\n  const onChangeSelectInner = useCallback(\n    (value: any) => {\n      onChangeSelect(value)\n    },\n    [onChangeSelect],\n  )\n\n  return (\n    <div css={basicDynamicSetterContainerStyle}>\n      <div css={dynamicSelectHeaderStyle}>\n        <PanelLabel labelName={labelName} labelDesc={labelDesc} />\n        <DynamicIcon\n          isDynamic={isDynamic}\n          onClick={handleClickFxButton}\n          hasRightContent={false}\n        />\n      </div>\n      <div css={dynamicSelectSetterStyle}>\n        {isDynamic ? (\n          <CodeEditor\n            value={value ?? \"\"}\n            onChange={onChangeInput}\n            showLineNumbers={false}\n            placeholder={inputPlaceholder}\n            expectValueType={expectedType}\n            lang={CODE_LANG.JAVASCRIPT}\n            maxHeight=\"208px\"\n            minHeight=\"30px\"\n            maxWidth=\"100%\"\n            codeType={CODE_TYPE.EXPRESSION}\n            modalTitle={labelName}\n            modalDescription={labelDesc ?? detailedDescription}\n            scopeOfAutoComplete=\"page\"\n          />\n        ) : (\n          <Select\n            colorScheme=\"techPurple\"\n            placeholder={selectPlaceholder}\n            options={options}\n            value={value}\n            onChange={onChangeSelectInner}\n            showSearch\n            allowClear\n            error={isError}\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n\nBaseDynamicSelect.displayName = \"BaseDynamicSelect\"\n\nexport default BaseDynamicSelect\n"],"names":["BaseDynamicSelect","props","labelName","labelDesc","isDynamic","onClickFxButton","value","onChangeInput","onChangeSelect","expectedType","options","selectPlaceholder","inputPlaceholder","isError","widgetType","attrName","detailedDescription","handleClickFxButton","useCallback","trackInEditor","ILLA_MIXPANEL_EVENT_TYPE","onChangeSelectInner","jsxs","basicDynamicSetterContainerStyle","dynamicSelectHeaderStyle","jsx","PanelLabel","DynamicIcon","dynamicSelectSetterStyle","CodeEditor","CODE_LANG","CODE_TYPE","Select"],"mappings":"iVAkBM,MAAAA,EAAuDC,GAAU,CAC/D,KAAA,CACJ,UAAAC,EACA,UAAAC,EACA,UAAAC,EACA,gBAAAC,EACA,MAAAC,EACA,cAAAC,EACA,eAAAC,EACA,aAAAC,EACA,QAAAC,EACA,kBAAAC,EACA,iBAAAC,EACA,QAAAC,EACA,WAAAC,EACA,SAAAC,EACA,oBAAAC,CACE,EAAAf,EAEEgB,EAAsBC,EAAAA,YAAY,IAAM,CACxCd,EACFe,EAAcC,EAAyB,MAAO,CAC5C,QAAS,KACT,WAAYN,EACZ,WAAYC,EACZ,WAAY,KAAA,CACb,EAEDI,EAAcC,EAAyB,MAAO,CAC5C,QAAS,KACT,WAAYN,EACZ,WAAYC,EACZ,WAAY,IAAA,CACb,EAEeV,GAAA,MAAAA,KACjB,CAACU,EAAUX,EAAWC,EAAiBS,CAAU,CAAC,EAE/CO,EAAsBH,EAAA,YACzBZ,GAAe,CACdE,EAAeF,CAAK,CACtB,EACA,CAACE,CAAc,CAAA,EAIf,OAAAc,EAAC,MAAI,CAAA,IAAKC,EACR,SAAA,CAACD,EAAA,MAAA,CAAI,IAAKE,EACR,SAAA,CAACC,EAAAC,EAAA,CAAW,UAAAxB,EAAsB,UAAAC,CAAsB,CAAA,EACxDsB,EAACE,EAAA,CACC,UAAAvB,EACA,QAASa,EACT,gBAAiB,EAAA,CACnB,CAAA,EACF,EACCQ,EAAA,MAAA,CAAI,IAAKG,EACP,SACCxB,EAAAqB,EAACI,EAAA,CACC,MAAOvB,GAAS,GAChB,SAAUC,EACV,gBAAiB,GACjB,YAAaK,EACb,gBAAiBH,EACjB,KAAMqB,EAAU,WAChB,UAAU,QACV,UAAU,OACV,SAAS,OACT,SAAUC,EAAU,WACpB,WAAY7B,EACZ,iBAAkBC,GAAaa,EAC/B,oBAAoB,MAAA,CAAA,EAGtBS,EAACO,EAAA,CACC,YAAY,aACZ,YAAarB,EACb,QAAAD,EACA,MAAAJ,EACA,SAAUe,EACV,WAAU,GACV,WAAU,GACV,MAAOR,CAAA,CAAA,EAGb,CACF,CAAA,CAAA,CAEJ,EAEAb,EAAkB,YAAc"}