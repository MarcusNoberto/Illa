import{d as k,k as r,o as w,W as A}from"./@illa-design-402f214a.js";import{r as g}from"./react-9b7e00e3.js";import{aE as H}from"./index-2f1869ab.js";import{h as T,g as j,I as F}from"./utils-c87ab5dc.js";import{L}from"./index-94227886.js";import{T as N}from"./index-5f69abbc.js";import{a as U,b as I}from"./style-7ce959a8.js";import"./@emotion-4f16718e.js";import"./codeMirror-vendor-eff8ab8d.js";import"./lodash-lib-6e94956b.js";import"./react-icons-vendor-2430ea65.js";const E=c=>{const{value:h,dateFormat:a,placeholder:u,showClear:b,minDate:t,disabled:M,maxDate:s,colorScheme:D,getValidateMessage:f,handleUpdateMultiExecutionResult:V,handleOnChange:d,displayName:p,readOnly:C}=c,o=e=>{new Promise(i=>{const l=f(e);V([{displayName:p,value:{value:e||"",validateMessage:l}}]),i(!0)}).then(()=>{d==null||d()})},v=g.useCallback(e=>{const i=t?!!(e!=null&&e.isBefore(k(t))):!1,l=s?!!(e!=null&&e.isAfter(k(s))):!1;return i||l},[t,s]);return r(A,{w:"100%",editable:!C,colorScheme:D,format:a,value:h,disabled:M,placeholder:u,allowClear:b,disabledDate:v,onClear:()=>{o("")},onChange:o})};E.displayName="WrappedDate";const q=c=>{const{value:h,handleUpdateDsl:a,updateComponentRuntimeProps:u,deleteComponentRuntimeProps:b,labelPosition:t,labelFull:M,label:s,labelAlign:D,labelWidth:f=33,labelCaption:V,labelWidthUnit:d,required:p,labelHidden:C,tooltipText:o,pattern:v,regex:e,customRule:i,hideValidationMessage:l,updateComponentHeight:P,validateMessage:R,triggerEventHandler:x}=c,W=g.useCallback(m=>{if(!l){const n=T({value:j(m),required:p,customRule:i,pattern:v,regex:e});return n&&n.length>0?n:""}return""},[i,l,v,e,p]),y=g.useCallback(m=>{const n=W(m);return a({validateMessage:n}),n},[W,a]);g.useEffect(()=>(u({setValue:m=>{a({value:m})},clearValue:()=>{a({value:""})},validate:()=>y(h)}),()=>{b()}),[u,a,b,y,h]);const S=g.useCallback(()=>{x("change")},[x]);return w(H,{updateComponentHeight:P,children:[r(N,{tooltipText:o,tooltipDisabled:!o,children:w("div",{css:U(t),children:[r(L,{labelFull:M,label:s,labelAlign:D,labelWidth:f,labelCaption:V,labelWidthUnit:d,labelPosition:t,required:p,labelHidden:C,hasTooltip:!!o}),r(E,{...c,getValidateMessage:W,handleOnChange:S})]})}),!l&&r("div",{css:I(f,t,C||!s),children:r(F,{validateMessage:R})})]})};q.displayName="DateWidget";export{q as DateWidget,E as WrappedDate,q as default};
//# sourceMappingURL=date-bc80ff3a.js.map
