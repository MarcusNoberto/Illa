import{a1 as P,o as _,k as n,bg as E}from"./@illa-design-402f214a.js";import{u as I,hH as k,hI as x,cQ as C,a as L,hJ as T}from"./index-2f1869ab.js";import{r as a}from"./react-9b7e00e3.js";import{d as v}from"./style-ab05d1ea.js";import{P as N}from"./index-323e87cb.js";import{s as g}from"./style-81c7430d.js";import{w as A}from"./lodash-lib-6e94956b.js";import"./@emotion-4f16718e.js";import"./codeMirror-vendor-eff8ab8d.js";import"./react-icons-vendor-2430ea65.js";const D=h=>{const{value:y,attrName:s,handleUpdateDsl:c,widgetType:m,handleUpdateMultiAttrDSL:o,isSetterSingleRow:f,labelDesc:w,labelName:l,labelSize:b}=h,r=a.useRef(!0),d=P(),{t:i}=I(),u=a.useCallback(async t=>{if(t&&!r.current)d.show({id:"switchPermission",title:i("editor.inspect.setter_option.drive_builder.anonymous_modal.title"),children:i("editor.inspect.setter_option.drive_builder.anonymous_modal.desc"),okText:i("editor.inspect.setter_option.drive_builder.anonymous_modal.submitBtn"),cancelText:i("editor.inspect.setter_option.drive_builder.anonymous_modal.cancelBtn"),onOk:async()=>{try{await k(),r.current=!0;const e={[s]:t};t&&(e.ILLADriveFolder=""),o==null||o(e)}catch{}}});else if(!t&&r.current)try{await x(),r.current=!1,c(s,t)}catch{}else{const e={[s]:t};t&&(e.ILLADriveFolder=""),o==null||o(e)}},[s,c,o,d,i]),S=a.useMemo(()=>A(async t=>{try{await u(t),C(L.CLICK,{element:"component_inspect_radio",parameter1:m,parameter2:s})}catch{}},500),[s,u,m]);return a.useEffect(()=>{(async()=>{var e;try{const p=await T();r.current=(e=p.data)==null?void 0:e.anonymous}catch{}})()},[s]),_("div",{css:g(f),children:[n("span",{children:l&&n(N,{labelName:l,labelDesc:w,labelSize:b})}),n("div",{css:v,children:n(E,{onChange:S,checked:y,colorScheme:"techPurple"})})]})};D.displayName="DriveWithStatusSwitchSetter";export{D as default};
//# sourceMappingURL=driveWithStatusSwitch-c9d41f52.js.map
