import{n as b,o as R,k as n}from"./@illa-design-402f214a.js";import{i4 as c,i5 as r,u as O,e as P,b as x,bB as D,fw as _,fH as v,fI as w,fJ as V,bf as N,eI as m}from"./index-2f1869ab.js";import{r as s}from"./react-9b7e00e3.js";import{a as u,b as E}from"./index-9dcf4ab8.js";import{S as G}from"./index-511dc243.js";import{T as q}from"./index-e89bb2f6.js";import{I as S}from"./index-f4dfedf2.js";import{a as C}from"./@emotion-4f16718e.js";import"./codeMirror-vendor-eff8ab8d.js";import"./lodash-lib-6e94956b.js";import"./react-icons-vendor-2430ea65.js";import"./index-65ed348a.js";import"./index-e7294a86.js";import"./clsx.m-925abe8b.js";import"./clsx.m-266f4de0.js";import"./hook-34b2061f.js";import"./renderComponentCanvasContainer-44ad78fe.js";import"./style-7ce959a8.js";import"./index-f466602f.js";import"./index-cf2bb556.js";import"./index-b8442d1a.js";import"./layoutInfoListener-bba65cc8.js";import"./drive-6b05f117.js";import"./objectWithoutPropertiesLoose-4f48578a.js";import"./popper-cd761d27.js";import"./clsx-85d7d0af.js";import"./objectWithoutPropertiesLoose-24430c43.js";import"./index-323e87cb.js";import"./style-bd23c0f2.js";import"./style-91620c64.js";import"./index-5fb9a68f.js";C`
  display: flex;
  flex-direction: row;
  align-items: center;
  min-height: 48px;
  padding: 0 16px;
`;const J=C`
  padding: 8px 0;
`;C`
  min-width: 160px;
  font-size: 14px;
  font-weight: 500;
  text-align: right;
  color: ${b("grayBlue","02")};
`;const B=[{label:c.SEARCH,value:r.SEARCH},{label:c.GET_ONE,value:r.GET_ONE},{label:c.INSERT_ONE,value:r.INSERT_ONE},{label:c.UPDATE_ONE,value:r.UPDATE_ONE},{label:c.DELETE_ONE,value:r.DELETE_ONE}],L=()=>{const{t:i}=O(),p=P(),e=x(D),t=x(_);let a=e.content;const T=s.useMemo(()=>v.includes(e.content.operation),[e.content]),h=s.useMemo(()=>w.includes(e.content.operation),[e.content]),y=s.useMemo(()=>V.includes(e.content.operation),[e.content]),l=s.useCallback(d=>o=>{p(N.updateCachedAction({...e,content:{...e.content,[d]:o}}))},[e,p]),g=s.useCallback(d=>{var I,f,A;const o={operation:d,index:e.content.index};e.resourceID===t.resourceID&&t.content.operation===d&&(T&&(o.id=((I=t.content)==null?void 0:I.id)||""),h&&(o.body=((f=t.content)==null?void 0:f.body)||""),y&&(o.query=((A=t.content)==null?void 0:A.query)||"")),p(N.updateCachedAction({...e,content:o}))},[e,p,h,y,T,t.content,t.resourceID]);return R("div",{css:J,children:[n(G,{componentType:"select",value:a.operation,title:i("editor.action.panel.elastic.action_type"),options:B,onSelectedValueChange:g}),h&&n(S,{value:a.body??"",onChange:l("body"),title:i("editor.action.panel.elastic.body"),lineNumbers:!0,style:{height:"88px"},expectedType:m.STRING,mode:u.JAVASCRIPT,codeType:E.EXPRESSION,canShowCompleteInfo:!0}),y&&n(S,{value:a.query??"",onChange:l("query"),title:i("editor.action.panel.elastic.query"),lineNumbers:!0,expectedType:m.STRING,mode:u.JAVASCRIPT,style:{height:"88px"},codeType:E.EXPRESSION,canShowCompleteInfo:!0}),n(S,{value:a.index,onChange:l("index"),title:i("editor.action.panel.elastic.index"),expectedType:m.STRING,mode:u.JAVASCRIPT,codeType:E.EXPRESSION}),T&&n(S,{value:a.id??"",onChange:l("id"),title:i("editor.action.panel.elastic.id"),expectedType:m.STRING,mode:u.JAVASCRIPT,codeType:E.EXPRESSION,canShowCompleteInfo:!0}),n(q,{})]})};L.displayName="ElasticSearchPanel";export{L as default};
//# sourceMappingURL=index-f1c26eaf.js.map
