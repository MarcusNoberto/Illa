import{k as t,o as i,D as f,aa as V,F as c,bc as S}from"./@illa-design-402f214a.js";import{u as T,gF as k,gG as N,gM as q,gL as E,gH as n,d7 as I,gN as L}from"./index-2f1869ab.js";import{r as d}from"./react-9b7e00e3.js";import{c as A,C as l,o as x,e as D,a as F}from"./style-8475474f.js";import"./@emotion-4f16718e.js";import"./codeMirror-vendor-eff8ab8d.js";import"./lodash-lib-6e94956b.js";import"./react-icons-vendor-2430ea65.js";const R=y=>{const{resourceID:g}=y,{t:e}=T(),{control:r,formState:u,watch:p}=k(),{getResourceByID:C}=d.useContext(N),a=C(g),o=(a==null?void 0:a.content)??q,[s,_]=d.useState(!1),m=p("ssl",o.ssl.ssl),w=m&&p("selfSigned",o.ssl.selfSigned),v=d.useCallback(h=>{const b=L(h??"");return b!==s&&_(b),E(h)},[s]);return t(c,{children:i("div",{css:A,children:[t(l,{controlledType:"input",isRequired:!0,title:e("editor.action.resource.db.label.name"),control:r,defaultValue:(a==null?void 0:a.resourceName)??"",rules:[{validate:n}],placeholders:[e("editor.action.resource.db.placeholder.name")],name:"resourceName",tips:e("editor.action.resource.restapi.tip.name")}),t(f,{direction:"horizontal",ml:"24px",mr:"24px",mt:"8px",mb:"8px",w:"unset"}),t("div",{css:x,children:e("editor.action.resource.db.title.general_option")}),t(l,{controlledType:["input","number"],isRequired:!0,title:e("editor.action.resource.db.label.hostname_port"),control:r,defaultValue:[o.host,o.port],rules:[{required:e("editor.action.resource.error.invalid_url"),validate:v},{required:!0}],placeholders:[e("editor.action.resource.db.placeholder.hostname"),"9440"],name:["host","port"],styles:[{},{w:"142px",ml:"8px"}],tips:u.errors.host&&!s?i("div",{css:D,children:[t(V,{css:F}),t(c,{children:u.errors.host.message})]}):null}),s&&t(l,{defaultValue:"",name:"",title:"",controlledType:"none",control:r,tips:t(S,{title:e("editor.action.form.tips.connect_to_local.title.tips"),closable:!1,content:e("editor.action.form.tips.connect_to_local.selfhost")})}),t(l,{controlledType:["input"],isRequired:!0,title:e("editor.action.resource.db.label.database"),control:r,defaultValue:o.databaseName,rules:[{validate:n}],placeholders:[e("editor.action.resource.db.placeholder.default")],name:"databaseName"}),t(l,{controlledType:["input","password"],title:e("editor.action.resource.db.label.username_password"),control:r,defaultValue:[o.username,o.password],placeholders:[e("editor.action.resource.db.placeholder.username"),e("editor.action.resource.db.placeholder.password")],name:["username","password"],styles:[{},{ml:"8px"}]}),I,t(f,{direction:"horizontal",ml:"24px",mr:"24px",mt:"8px",mb:"8px",w:"unset"}),t("div",{css:x,children:e("editor.action.resource.db.title.advanced_option")}),t(l,{controlledType:["switch"],title:e("editor.action.resource.db.label.ssl_options"),control:r,defaultValue:o.ssl.ssl,name:"ssl",contentLabel:e("editor.action.resource.db.tip.ssl_options"),tips:e("editor.action.form.tips.clickhouse.ssl")}),m&&t(l,{controlledType:["switch"],title:"",control:r,defaultValue:o.ssl.selfSigned,name:"selfSigned",contentLabel:e("editor.action.resource.db.label.self_signed_certificate")}),w&&i(c,{children:[t(l,{controlledType:["textarea"],title:e("editor.action.resource.db.label.ca_certificate"),isRequired:!0,rules:[{validate:n}],control:r,defaultValue:o.ssl.caCert,name:"caCert",placeholders:[e("editor.action.resource.db.placeholder.certificate")]}),t(l,{controlledType:["textarea"],title:e("editor.action.resource.db.label.client_key"),control:r,defaultValue:o.ssl.privateKey,name:"privateKey",placeholders:[e("editor.action.resource.db.placeholder.certificate")]}),t(l,{controlledType:["textarea"],title:e("editor.action.resource.db.label.client_certificate"),control:r,defaultValue:o.ssl.clientCert,name:"clientCert",placeholders:[e("editor.action.resource.db.placeholder.certificate")]})]})]})})};R.displayName="ClickhouseConfigElement";export{R as default};
//# sourceMappingURL=index-366eee90.js.map
