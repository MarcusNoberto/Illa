import{d as w,k as m,o as E,bm as S}from"./@illa-design-402f214a.js";import{r as g}from"./react-9b7e00e3.js";import{aE as T}from"./index-2f1869ab.js";import{h as j,I as L}from"./utils-c87ab5dc.js";import{L as N}from"./index-94227886.js";import{T as U}from"./index-5f69abbc.js";import{a as F,b as I}from"./style-7ce959a8.js";import"./@emotion-4f16718e.js";import"./codeMirror-vendor-eff8ab8d.js";import"./lodash-lib-6e94956b.js";import"./react-icons-vendor-2430ea65.js";const A=b=>{const{startValue:n,endValue:d,dateFormat:u,startPlaceholder:f,endPlaceholder:C,showClear:t,minDate:l,disabled:k,maxDate:i,colorScheme:y,handleOnChange:r,getValidateMessage:M,handleUpdateMultiExecutionResult:W,displayName:h,readOnly:D}=b,p=e=>{new Promise(c=>{const o=M(e==null?void 0:e[0]),V=M(e==null?void 0:e[1]);W([{displayName:h,value:{startValue:(e==null?void 0:e[0])||"",endValue:(e==null?void 0:e[1])||"",validateMessage:o||V}}]),c(!0)}).then(()=>{r==null||r()})},x=[f??"",C??""],P=g.useMemo(()=>!n&&!d?void 0:[n,d],[n,d]),R=g.useCallback(e=>{const c=l?!!(e!=null&&e.isBefore(w(l))):!1,o=i?!!(e!=null&&e.isAfter(w(i))):!1;return c||o},[l,i]);return m(S,{w:"100%",editable:!D,colorScheme:y,format:u,value:P,disabled:k,placeholder:x,allowClear:t,disabledDate:R,onClear:()=>{p(["",""])},onChange:p})};A.displayName="WrappedDateRange";const q=b=>{const{startValue:n,endValue:d,endPlaceholder:u,updateComponentRuntimeProps:f,deleteComponentRuntimeProps:C,handleUpdateDsl:t,labelPosition:l,labelFull:k,label:i,labelAlign:y,labelWidth:r=33,labelCaption:M,labelWidthUnit:W,required:h,labelHidden:D,tooltipText:p,updateComponentHeight:x,validateMessage:P,customRule:R,hideValidationMessage:e,triggerEventHandler:c}=b,o=g.useCallback(a=>{if(!e){const s=j({value:a,required:h,customRule:R});return s&&s.length>0?s:""}return""},[R,e,h]),V=g.useCallback(a=>{const s=o(a);return t({validateMessage:s}),s},[o,t]);g.useEffect(()=>(f({setStartValue:a=>{t({startValue:a})},setEndValue:a=>{t({endValue:a})},clearValue:()=>{t({startValue:void 0,endValue:void 0})},validate:()=>{const a=V(n);if(a)return a;const s=V(d);if(u)return s}}),()=>{C()}),[C,u,d,t,V,n,f]);const H=g.useCallback(()=>{c("change")},[c]);return E(T,{updateComponentHeight:x,children:[m(U,{tooltipText:p,tooltipDisabled:!p,children:E("div",{css:F(l),children:[m(N,{labelFull:k,label:i,labelAlign:y,labelWidth:r,labelCaption:M,labelWidthUnit:W,labelPosition:l,required:h,labelHidden:D,hasTooltip:!!p}),m(A,{...b,getValidateMessage:o,handleOnChange:H})]})}),!e&&m("div",{css:I(r,l,D||!i),children:m(L,{validateMessage:P})})]})};q.displayName="DateRangeWidget";export{q as DateRangeWidget,A as WrappedDateRange,q as default};
//# sourceMappingURL=dateRange-57e7c6f4.js.map
