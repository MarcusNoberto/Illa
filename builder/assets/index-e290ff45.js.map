{"version":3,"file":"index-e290ff45.js","sources":["../../src/page/App/components/InspectPanel/PanelSetters/OptionListSetter/index.tsx"],"sourcesContent":["import { get, isString } from \"lodash-es\"\nimport { FC } from \"react\"\nimport { useSelector } from \"react-redux\"\nimport { v4 } from \"uuid\"\nimport { Column } from \"@/page/App/components/InspectPanel/PanelSetters/DragMoveComponent/Column\"\nimport { ColumnContainer } from \"@/page/App/components/InspectPanel/PanelSetters/DragMoveComponent/ColumnContainer\"\nimport { ColumnEmpty } from \"@/page/App/components/InspectPanel/PanelSetters/DragMoveComponent/Empty\"\nimport { getExecutionResult } from \"@/redux/currentApp/executionTree/executionSelector\"\nimport { OptionListSetterProps } from \"./interface\"\n\nconst OptionListSetter: FC<OptionListSetterProps> = (props) => {\n  const {\n    value,\n    attrName,\n    widgetDisplayName,\n    childrenSetter,\n    handleUpdateMultiAttrDSL,\n    itemName = \"Option\",\n  } = props\n\n  const execResult = useSelector(getExecutionResult)\n  const executeValue = get(execResult, `${widgetDisplayName}.${attrName}`, [])\n\n  return (\n    <ColumnContainer\n      attrName={attrName}\n      value={value}\n      handleUpdateMultiAttrDSL={handleUpdateMultiAttrDSL}\n      columnNum={value.length}\n      items={value.map((item) => item.id)}\n      onClickNew={() => {\n        const newItem = {\n          id: `${itemName}-${v4()}`,\n          key: `${itemName}-${v4()}`,\n          label: `${itemName} ${value.length + 1}`,\n        }\n        handleUpdateMultiAttrDSL?.({\n          [attrName]: [...value, newItem],\n        })\n      }}\n    >\n      {value.length > 0 ? (\n        value.map((item, index) => {\n          return (\n            <Column\n              onCopy={() => {\n                const newItem = {\n                  ...value[index],\n                  id: `${itemName}-${v4()}`,\n                  key: `${itemName}-${v4()}`,\n                }\n                const updatedArray = [...value, newItem]\n                handleUpdateMultiAttrDSL?.({\n                  [attrName]: updatedArray,\n                })\n              }}\n              onDelete={(id) => {\n                const newV = value.filter((item) => item.id !== id)\n                handleUpdateMultiAttrDSL?.({\n                  [attrName]: newV,\n                })\n              }}\n              showCopy\n              showDelete\n              key={item.id}\n              id={item.id}\n              label={\n                isString(get(executeValue, `${index}.label`))\n                  ? get(executeValue, `${index}.label`)\n                  : JSON.stringify(get(executeValue, `${index}.label`))\n              }\n              widgetDisplayName={widgetDisplayName}\n              childrenSetter={childrenSetter}\n              attrPath={`${attrName}.${index}`}\n            />\n          )\n        })\n      ) : (\n        <ColumnEmpty />\n      )}\n    </ColumnContainer>\n  )\n}\n\nOptionListSetter.displayName = \"OptionListSetter\"\nexport default OptionListSetter\n"],"names":["OptionListSetter","props","value","attrName","widgetDisplayName","childrenSetter","handleUpdateMultiAttrDSL","itemName","execResult","useSelector","getExecutionResult","executeValue","get","jsx","ColumnContainer","item","newItem","v4","index","Column","updatedArray","id","newV","isString","ColumnEmpty"],"mappings":"8TAUM,MAAAA,EAA+CC,GAAU,CACvD,KAAA,CACJ,MAAAC,EACA,SAAAC,EACA,kBAAAC,EACA,eAAAC,EACA,yBAAAC,EACA,SAAAC,EAAW,QACT,EAAAN,EAEEO,EAAaC,EAAYC,CAAkB,EAC3CC,EAAeC,EAAIJ,EAAY,GAAGJ,CAAiB,IAAID,CAAQ,GAAI,CAAA,CAAE,EAGzE,OAAAU,EAACC,EAAA,CACC,SAAAX,EACA,MAAAD,EACA,yBAAAI,EACA,UAAWJ,EAAM,OACjB,MAAOA,EAAM,IAAKa,GAASA,EAAK,EAAE,EAClC,WAAY,IAAM,CAChB,MAAMC,EAAU,CACd,GAAI,GAAGT,CAAQ,IAAIU,EAAI,CAAA,GACvB,IAAK,GAAGV,CAAQ,IAAIU,EAAI,CAAA,GACxB,MAAO,GAAGV,CAAQ,IAAIL,EAAM,OAAS,CAAC,EAAA,EAEbI,GAAA,MAAAA,EAAA,CACzB,CAACH,CAAQ,EAAG,CAAC,GAAGD,EAAOc,CAAO,CAAA,EAElC,EAEC,WAAM,OAAS,EACdd,EAAM,IAAI,CAACa,EAAMG,IAEbL,EAACM,EAAA,CACC,OAAQ,IAAM,CACZ,MAAMH,EAAU,CACd,GAAGd,EAAMgB,CAAK,EACd,GAAI,GAAGX,CAAQ,IAAIU,EAAI,CAAA,GACvB,IAAK,GAAGV,CAAQ,IAAIU,EAAI,CAAA,EAAA,EAEpBG,EAAe,CAAC,GAAGlB,EAAOc,CAAO,EACZV,GAAA,MAAAA,EAAA,CACzB,CAACH,CAAQ,EAAGiB,CAAA,EAEhB,EACA,SAAWC,GAAO,CAChB,MAAMC,EAAOpB,EAAM,OAAQa,GAASA,EAAK,KAAOM,CAAE,EACvBf,GAAA,MAAAA,EAAA,CACzB,CAACH,CAAQ,EAAGmB,CAAA,EAEhB,EACA,SAAQ,GACR,WAAU,GAEV,GAAIP,EAAK,GACT,MACEQ,EAASX,EAAID,EAAc,GAAGO,CAAK,QAAQ,CAAC,EACxCN,EAAID,EAAc,GAAGO,CAAK,QAAQ,EAClC,KAAK,UAAUN,EAAID,EAAc,GAAGO,CAAK,QAAQ,CAAC,EAExD,kBAAAd,EACA,eAAAC,EACA,SAAU,GAAGF,CAAQ,IAAIe,CAAK,EAAA,EATzBH,EAAK,EAAA,CAYf,EAEDF,EAACW,EAAY,EAAA,CAAA,CAAA,CAIrB,EAEAxB,EAAiB,YAAc"}