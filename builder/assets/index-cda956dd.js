import{o as V,k as c}from"./@illa-design-402f214a.js";import{b as A,cj as k,dx as g,ha as h,hb as O,cQ as E,a as b}from"./index-2f1869ab.js";import{r as n}from"./react-9b7e00e3.js";import{C as W,a as v,b as F}from"./index-9dcf4ab8.js";import{s as j,a as U}from"./style-87b0eeec.js";import{P as B}from"./index-323e87cb.js";import{g as x,b as d}from"./lodash-lib-6e94956b.js";import"./@emotion-4f16718e.js";import"./codeMirror-vendor-eff8ab8d.js";import"./react-icons-vendor-2430ea65.js";import"./index-65ed348a.js";import"./index-e7294a86.js";import"./clsx.m-925abe8b.js";import"./clsx.m-266f4de0.js";import"./style-ab05d1ea.js";const H=y=>{const{isSetterSingleRow:u,placeholder:_,attrName:r,handleUpdateDsl:i,expectedType:D,value:e,widgetDisplayName:a,labelName:m,detailedDescription:N,defaultValue:o,labelDesc:f,widgetType:p,wrappedCodeFunc:C,labelSize:T,onlyHasSetter:S=!1}=y,w=A(t=>{const s=k(t);return x(s,a,{})}),l=x(w,"dataSourceMode","dynamic"),I=n.useMemo(()=>g(e??"")&&d(e)&&(e!=null&&e.includes("currentRow"))?t=>h(t,a,l):C,[e,C,a,l]),L=n.useMemo(()=>{const t=e??o;if(a&&d(t)&&t.includes("currentRow"))return O(e??o,a);if(!(e===void 0&&o===void 0))return d(e??o)?e??o:`{{ ${e??o} }}`},[a,e,o]),P=n.useCallback(t=>{let s=t;g(t??"")&&t.includes("currentRow")?(s=h(t,a,l),i(r,s)):s===""?i(r,void 0):i(r,s)},[r,l,i,a]),R=n.useCallback(()=>{E(b.FOCUS,{element:"component_inspect_code_mirror",parameter1:p,parameter2:r})},[r,p]),M=n.useCallback(t=>{E(b.BLUR,{element:"component_inspect_code_mirror",parameter1:p,parameter2:r,parameter3:t.length})},[r,p]);return V("div",{css:j(u,S),children:[!S&&m&&c("span",{children:c(B,{labelName:m,labelDesc:f,labelSize:T})}),c("div",{css:U(u),children:c(W,{scopeOfAutoComplete:"page",value:L,onChange:P,showLineNumbers:!1,placeholder:_,expectValueType:D,lang:v.JAVASCRIPT,maxHeight:"208px",maxWidth:"100%",codeType:F.EXPRESSION,modalTitle:m,modalDescription:N??f,onFocus:R,onBlur:M,wrappedCodeFunc:I})})]})};H.displayName="ColumnMappedInput";export{H as default};
//# sourceMappingURL=index-cda956dd.js.map
