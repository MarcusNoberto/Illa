import{k as r,F as y,o as G}from"./@illa-design-402f214a.js";import{b7 as t,eI as e,u as R,e as J,b as I,fw as O,bB as D,hX as V,i3 as v,bf as C}from"./index-2f1869ab.js";import{r as b}from"./react-9b7e00e3.js";import{a as k}from"./index-9dcf4ab8.js";import{I as d}from"./index-f4dfedf2.js";import{S as N}from"./index-511dc243.js";import{c as j,T as q}from"./index-e89bb2f6.js";import"./@emotion-4f16718e.js";import"./codeMirror-vendor-eff8ab8d.js";import"./lodash-lib-6e94956b.js";import"./react-icons-vendor-2430ea65.js";import"./index-65ed348a.js";import"./index-e7294a86.js";import"./clsx.m-925abe8b.js";import"./clsx.m-266f4de0.js";import"./index-5fb9a68f.js";import"./hook-34b2061f.js";import"./renderComponentCanvasContainer-44ad78fe.js";import"./style-7ce959a8.js";import"./index-f466602f.js";import"./index-cf2bb556.js";import"./index-b8442d1a.js";import"./layoutInfoListener-bba65cc8.js";import"./drive-6b05f117.js";import"./objectWithoutPropertiesLoose-4f48578a.js";import"./popper-cd761d27.js";import"./clsx-85d7d0af.js";import"./objectWithoutPropertiesLoose-24430c43.js";import"./index-323e87cb.js";import"./style-bd23c0f2.js";import"./style-91620c64.js";const H=[{title:t.t("editor.action.panel.dynamo.label.key"),name:"key",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.condition_expression"),name:"conditionExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.attribute_name"),name:"expressionAttributeNames",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.attribute_value"),name:"expressionAttributeValues",expectedType:e.OBJECT}],M=[{title:t.t("editor.action.panel.dynamo.label.key"),name:"key",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.projection_expression"),name:"projectionExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.attribute_name"),name:"expressionAttributeNames",expectedType:e.OBJECT}],U=[{title:t.t("editor.action.panel.dynamo.label.item"),name:"item",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.condition_expression"),name:"conditionExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.attribute_name"),name:"expressionAttributeNames",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.attribute_value"),name:"expressionAttributeValues",expectedType:e.OBJECT}],L=[{title:t.t("editor.action.panel.dynamo.label.index"),name:"indexName",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.key_condition"),name:"keyConditionExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.projection_expression"),name:"projectionExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.filter_expression"),name:"filterExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.attribute_name"),name:"expressionAttributeNames",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.attribute_value"),name:"expressionAttributeValues",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.limit"),name:"limit",expectedType:e.NUMBER},{title:t.t("editor.action.panel.dynamo.label.select"),name:"select",expectedType:e.STRING}],Q=[{title:t.t("editor.action.panel.dynamo.label.index"),name:"indexName",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.projection_expression"),name:"projectionExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.filter_expression"),name:"filterExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.attribute_name"),name:"expressionAttributeNames",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.attribute_value"),name:"expressionAttributeValues",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.limit"),name:"limit",expectedType:e.NUMBER},{title:t.t("editor.action.panel.dynamo.label.select"),name:"select",expectedType:e.STRING}],w=[{title:t.t("editor.action.panel.dynamo.label.key"),name:"key",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.update_expression"),name:"updateExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.condition_expression"),name:"conditionExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.attribute_name"),name:"expressionAttributeNames",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.attribute_value"),name:"expressionAttributeValues",expectedType:e.OBJECT}],g=o=>{const s=o.structParams,{handleValueChange:m}=o;return r(y,{children:H.map(i=>{const{title:n,name:a,expectedType:p}=i;return r(d,{lineNumbers:!0,style:{maxHeight:"88px"},value:s[a],onChange:c=>m(c,a),expectedType:p,title:n},a)})})};g.displayName="DeleteItemPanel";const E=o=>{const s=o.structParams,{handleValueChange:m}=o;return r(y,{children:M.map(i=>{const{title:n,name:a,expectedType:p}=i;return r(d,{lineNumbers:!0,style:{maxHeight:"88px"},value:s[a],onChange:c=>m(c,a),expectedType:p,title:n},a)})})};E.displayName="GetItemPanel";const S=o=>{const s=o.structParams,{handleValueChange:m}=o;return r(y,{children:U.map(i=>{const{title:n,name:a,expectedType:p}=i;return r(d,{lineNumbers:!0,style:{maxHeight:"88px"},value:s[a],onChange:c=>m(c,a),expectedType:p,title:n},a)})})};S.displayName="PutItemPanel";const h=o=>{const{handleValueChange:s}=o,m=o.structParams;return r(y,{children:L.map(i=>{const{title:n,name:a,expectedType:p}=i;return r(d,{lineNumbers:!0,style:{maxHeight:"88px"},value:m[a],onChange:c=>s(c,a),expectedType:p,title:n},a)})})};h.displayName="QueryPanel";const _=o=>{const s=o.structParams,{handleValueChange:m}=o;return r(y,{children:Q.map(i=>{const{title:n,name:a,expectedType:p}=i;return r(d,{lineNumbers:!0,style:{maxHeight:"88px"},value:s[a],onChange:c=>m(c,a),expectedType:p,title:n},a)})})};_.displayName="ScanPanel";const f=o=>{const s=o.structParams,{handleValueChange:m}=o;return r(y,{children:w.map(i=>{const{title:n,name:a,expectedType:p}=i;return r(d,{lineNumbers:!0,style:{maxHeight:"88px"},value:s[a],onChange:c=>m(c,a),expectedType:p,title:n},a)})})};f.displayName="UpdateItemPanel";const F={query:h,scan:_,getItem:E,putItem:S,updateItem:f,deleteItem:g},P=["query","scan","getItem","putItem","updateItem","deleteItem"],X=()=>{const{t:o}=R(),s=J(),m=I(O),i=I(D),n=i.content,{content:a}=m,[p,c]=b.useState();b.useEffect(()=>{i.resourceID!=null&&V(i.resourceID).then(({data:l})=>{c((l==null?void 0:l.Schema)??{})})},[i.resourceID]);const x=b.useCallback((l,T)=>{let u;T==="method"?l===a.method?u={...a}:u={...n,method:l,structParams:{...v[l]}}:u={...n,[T]:l},s(C.updateCachedAction({...i,content:u}))},[i,n,s,a]),A=b.useCallback((l,T)=>{const{structParams:u}=n;s(C.updateCachedAction({...i,content:{...n,structParams:{...u,[T]:l}}}))},[i,n,s]),B=F[n.method]??h;return G("div",{css:j,children:[r(N,{title:o("editor.action.panel.dynamo.label.method"),componentType:"select",onChange:l=>x(l,"method"),value:n.method,options:P}),r(d,{title:o("editor.action.panel.dynamo.label.table"),lineNumbers:!1,expectedType:e.STRING,sqlScheme:p,mode:k.SQL,value:n.table,onChange:l=>x(l,"table")}),r(N,{title:"",componentType:"checkbox",value:n.useJson,onChange:l=>x(l,"useJson"),options:P,checkoutTitle:o("editor.action.panel.dynamo.label.json_input")}),n.useJson?r(d,{title:o("editor.action.panel.dynamo.label.parameters"),style:{height:"88px"},lineNumbers:!0,expectedType:e.STRING,value:n.parameters,placeholder:o("editor.action.panel.dynamo.placeholder.parameters"),onChange:l=>x(l,"parameters")}):r(B,{structParams:n.structParams,handleValueChange:A}),r(q,{})]})};X.displayName="DynamoDBPanel";export{X as default,P as dynamoDBSelectOptions};
//# sourceMappingURL=index-c89053a2.js.map
