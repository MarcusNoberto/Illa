import{k as n,S as j,o as w}from"./@illa-design-402f214a.js";import{r as e}from"./react-9b7e00e3.js";import{aE as A}from"./index-2f1869ab.js";import{h as L,I as U}from"./utils-c87ab5dc.js";import{L as D}from"./index-94227886.js";import{T as F}from"./index-5f69abbc.js";import{a as I,b as q}from"./style-7ce959a8.js";import{f as B}from"./formatSelectOptions-bde6f53a.js";import"./@emotion-4f16718e.js";import"./codeMirror-vendor-eff8ab8d.js";import"./lodash-lib-6e94956b.js";import"./react-icons-vendor-2430ea65.js";const x=c=>{const{showClear:u,value:l,options:m,placeholder:h,disabled:a,loading:g,readOnly:b,colorScheme:i,handleUpdateMultiExecutionResult:f,handleOnChange:t,getValidateMessage:C,displayName:r}=c,S=e.useCallback(v=>{new Promise(p=>{const M=C(v);f([{displayName:r,value:{value:v||"",validateMessage:M}}]),p(!0)}).then(()=>{t==null||t()})},[r,C,t,f]);return n(j,{allowClear:u,options:m,value:typeof l=="object"?JSON.stringify(l):l,placeholder:h,disabled:a,loading:g,readOnly:b,showSearch:!0,colorScheme:i,onChange:S})};x.displayName="WrappedSelect";const J=c=>{const{value:u,optionConfigureMode:l,mappedOption:m,manualOptions:h,handleUpdateDsl:a,updateComponentRuntimeProps:g,deleteComponentRuntimeProps:b,labelPosition:i,labelFull:f,label:t,labelAlign:C,labelWidth:r=33,labelCaption:S,labelWidthUnit:v,required:p,labelHidden:M,tooltipText:y,customRule:k,hideValidationMessage:V,validateMessage:E,updateComponentHeight:H,triggerEventHandler:o}=c,N=e.useMemo(()=>B(l,h,m),[l,h,m]),W=e.useCallback(d=>{if(!V){const s=L({value:d,required:p,customRule:k});return s&&s.length>0?s:""}return""},[k,V,p]),O=e.useCallback(d=>{const s=W(d);return a({validateMessage:s}),s},[W,a]);e.useEffect(()=>(g({setValue:d=>{a({value:d})},clearValue:()=>{a({value:void 0})},validate:()=>O(u),clearValidation:()=>{}}),()=>{b()}),[g,a,b,O,u]);const P=e.useCallback(()=>{o("change")},[o]),R=e.useCallback(()=>{o("focus")},[o]),T=e.useCallback(()=>{o("blur")},[o]);return w(A,{updateComponentHeight:H,children:[n(F,{tooltipText:y,tooltipDisabled:!y,children:w("div",{css:I(i),children:[n(D,{labelFull:f,label:t,labelAlign:C,labelWidth:r,labelCaption:S,labelWidthUnit:v,labelPosition:i,required:p,labelHidden:M,hasTooltip:!!y}),n(x,{...c,options:N,getValidateMessage:W,handleOnChange:P,handleOnBlur:T,handleOnFocus:R})]})}),!V&&n("div",{css:q(r,i,M||!t),children:n(U,{validateMessage:E})})]})};J.displayName="SelectWidget";export{J as SelectWidget,x as WrappedSelect,J as default};
//# sourceMappingURL=select-f765f7ff.js.map
