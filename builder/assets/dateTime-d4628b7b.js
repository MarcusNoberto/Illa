import{d as k,k as o,o as w,W as S}from"./@illa-design-1f43bb6c.js";import{r as u}from"./react-9b7e00e3.js";import{aE as A}from"./index-4dce6ee8.js";import{h as H,I as j}from"./utils-1cfed9ac.js";import{L}from"./index-2c54d160.js";import{T as N}from"./index-99007076.js";import{a as U,b as I}from"./style-49f23046.js";import"./@emotion-08a6282b.js";import"./codeMirror-vendor-320207e2.js";import"./lodash-lib-6e94956b.js";import"./react-icons-vendor-2430ea65.js";const E=h=>{const{value:b,format:n,placeholder:f,showClear:a,minDate:t,disabled:D,maxDate:s,minuteStep:W,colorScheme:C,handleOnChange:r,getValidateMessage:x,handleUpdateMultiExecutionResult:d,displayName:v,readOnly:p}=h,m=e=>{new Promise(l=>{const c=x(e);d([{displayName:v,value:{value:e||"",validateMessage:c}}]),l(!0)}).then(()=>{r==null||r()})},M=u.useCallback(e=>{const l=t?!!(e!=null&&e.isBefore(k(t))):!1,c=s?!!(e!=null&&e.isAfter(k(s))):!1;return l||c},[t,s]);return o(S,{w:"100%",showTime:{step:{minute:W},format:n},colorScheme:C,format:n,value:b,disabled:D,placeholder:f,allowClear:a,disabledDate:M,onClear:()=>{m("")},onChange:m,editable:!p})};E.displayName="WrappedDateTime";const q=h=>{const{value:b,updateComponentRuntimeProps:n,deleteComponentRuntimeProps:f,handleUpdateDsl:a,labelPosition:t,labelFull:D,label:s,labelAlign:W,labelWidth:C=33,labelCaption:r,labelWidthUnit:x,required:d,labelHidden:v,tooltipText:p,pattern:m,regex:M,customRule:e,hideValidationMessage:l,updateComponentHeight:c,validateMessage:P,triggerEventHandler:T}=h,y=u.useCallback(g=>{if(!l){const i=H({value:g,required:d,customRule:e,pattern:m,regex:M});return i&&i.length>0?i:""}return""},[e,l,m,M,d]),V=u.useCallback(g=>{const i=y(g);return a({validateMessage:i}),i},[y,a]);u.useEffect(()=>(n({setValue:g=>{a({value:g})},clearValue:()=>{a({value:""})},validate:()=>V(b)}),()=>{f()}),[f,a,V,n,b]);const R=u.useCallback(()=>{T("change")},[T]);return w(A,{updateComponentHeight:c,children:[o(N,{tooltipText:p,tooltipDisabled:!p,children:w("div",{css:U(t),children:[o(L,{labelFull:D,label:s,labelAlign:W,labelWidth:C,labelCaption:r,labelWidthUnit:x,labelPosition:t,required:d,labelHidden:v,hasTooltip:!!p}),o(E,{...h,getValidateMessage:y,handleOnChange:R})]})}),!l&&o("div",{css:I(C,t,v||!s),children:o(j,{validateMessage:P})})]})};q.displayName="DateTimeWidget";export{q as DateTimeWidget,E as WrappedDateTime,q as default};
//# sourceMappingURL=dateTime-d4628b7b.js.map
