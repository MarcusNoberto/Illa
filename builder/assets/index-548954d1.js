import{y as g,af as O,k as P,l as I,m as z,n as ge,o as V,bV as ue,T as ve}from"./@illa-design-1f43bb6c.js";import{a as c,_ as j}from"./objectWithoutPropertiesLoose-e3246981.js";import{r as w,b as S}from"./react-9b7e00e3.js";import{a as M}from"./@emotion-08a6282b.js";import{w as fe}from"./lodash-lib-6e94956b.js";var Y=e=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(e),E=255,N=100,_=e=>{var{r,g:a,b:t,a:l}=e,o=Math.max(r,a,t),s=o-Math.min(r,a,t),n=s?o===r?(a-t)/s:o===a?2+(t-r)/s:4+(r-a)/s:0;return{h:60*(n<0?n+6:n),s:o?s/o*N:0,v:o/E*N,a:l}},ee=e=>{var{h:r,s:a,l:t,a:l}=ae(e);return"hsla("+r+", "+a+"%, "+t+"%, "+l+")"},ae=e=>{var{h:r,s:a,v:t,a:l}=e,o=(200-a)*t/N;return{h:r,s:o>0&&o<200?a*t/N/(o<=N?o:200-o)*N:0,l:o/2,a:l}},re=e=>{var{r,g:a,b:t}=e,l=r<<16|a<<8|t;return"#"+(o=>new Array(7-o.length).join("0")+o)(l.toString(16))},be=e=>{var{r,g:a,b:t,a:l}=e,o=typeof l=="number"&&(l*255|256).toString(16).slice(1);return""+re({r,g:a,b:t,a:l})+(o||"")},T=e=>_(xe(e)),xe=e=>{var r=e.replace("#","");/^#?/.test(e)&&r.length===3&&(e="#"+r.charAt(0)+r.charAt(0)+r.charAt(1)+r.charAt(1)+r.charAt(2)+r.charAt(2));var a=new RegExp("[A-Za-z0-9]{2}","g"),[t,l,o=0,s]=e.match(a).map(n=>parseInt(n,16));return{r:t,g:l,b:o,a:(s??255)/E}},F=e=>{var{h:r,s:a,v:t,a:l}=e,o=r/60,s=a/N,n=t/N,b=Math.floor(o)%6,d=o-Math.floor(o),x=E*n*(1-s),y=E*n*(1-s*d),v=E*n*(1-s*(1-d));n*=E;var i={};switch(b){case 0:i.r=n,i.g=v,i.b=x;break;case 1:i.r=y,i.g=n,i.b=x;break;case 2:i.r=x,i.g=n,i.b=v;break;case 3:i.r=x,i.g=y,i.b=n;break;case 4:i.r=v,i.g=x,i.b=n;break;case 5:i.r=n,i.g=x,i.b=y;break}return i.r=Math.round(i.r),i.g=Math.round(i.g),i.b=Math.round(i.b),c({},i,{a:l})},ye=e=>{var{r,g:a,b:t,a:l}=F(e);return"rgba("+r+", "+a+", "+t+", "+l+")"},me=e=>{var{r,g:a,b:t}=e;return{r,g:a,b:t}},Ce=e=>{var{h:r,s:a,l:t}=e;return{h:r,s:a,l:t}},U=e=>re(F(e)),we=e=>{var{h:r,s:a,v:t}=e;return{h:r,s:a,v:t}},$=e=>{var r,a,t,l,o,s,n,b;return typeof e=="string"&&Y(e)?(s=T(e),n=e):typeof e!="string"&&(s=e),s&&(t=we(s),o=ae(s),l=F(s),b=be(l),n=U(s),a=Ce(o),r=me(l)),{rgb:r,hsl:a,hsv:t,rgba:l,hsla:o,hsva:s,hex:n,hexa:b}};function Q(e){var r=w.useRef(e);return w.useEffect(()=>{r.current=e}),w.useCallback((a,t)=>r.current&&r.current(a,t),[])}var L=e=>"touches"in e,J=e=>{!L(e)&&e.preventDefault&&e.preventDefault()},K=function(r,a,t){return a===void 0&&(a=0),t===void 0&&(t=1),r>t?t:r<a?a:r},Z=(e,r)=>{var a=e.getBoundingClientRect(),t=L(r)?r.touches[0]:r;return{left:K((t.pageX-(a.left+window.pageXOffset))/a.width),top:K((t.pageY-(a.top+window.pageYOffset))/a.height),width:a.width,height:a.height,x:t.pageX-(a.left+window.pageXOffset),y:t.pageY-(a.top+window.pageYOffset)}},ke=["prefixCls","className","onMove","onDown"],te=S.forwardRef((e,r)=>{var{prefixCls:a="w-color-interactive",className:t,onMove:l,onDown:o}=e,s=j(e,ke),n=w.useRef(null),b=w.useRef(!1),[d,x]=w.useState(!1),y=Q(l),v=Q(o),i=p=>b.current&&!L(p)?!1:(b.current=L(p),!0),m=w.useCallback(p=>{J(p);var k=L(p)?p.touches.length>0:p.buttons>0;k&&n.current?y&&y(Z(n.current,p),p):x(!1)},[y]),u=w.useCallback(()=>x(!1),[]),h=w.useCallback(p=>{var k=p?window.addEventListener:window.removeEventListener;k(b.current?"touchmove":"mousemove",m),k(b.current?"touchend":"mouseup",u)},[]);w.useEffect(()=>(h(d),()=>{d&&h(!1)}),[d,h]);var f=w.useCallback(p=>{J(p.nativeEvent),i(p.nativeEvent)&&(v&&v(Z(n.current,p.nativeEvent),p.nativeEvent),x(!0))},[v]);return g.jsx("div",c({},s,{className:[a,t||""].filter(Boolean).join(" "),style:c({},s.style,{touchAction:"none"}),ref:n,tabIndex:0,onMouseDown:f,onTouchStart:f}))});te.displayName="Interactive";const oe=te;var Ae=e=>{var{className:r,color:a,left:t,top:l,prefixCls:o}=e,s={position:"absolute",top:l,left:t},n={"--saturation-pointer-box-shadow":"rgb(255 255 255) 0px 0px 0px 1.5px, rgb(0 0 0 / 30%) 0px 0px 1px 1px inset, rgb(0 0 0 / 40%) 0px 0px 1px 2px",width:6,height:6,transform:"translate(-3px, -3px)",boxShadow:"var(--saturation-pointer-box-shadow)",borderRadius:"50%",backgroundColor:a};return w.useMemo(()=>g.jsx("div",{className:o+"-pointer "+(r||""),style:s,children:g.jsx("div",{className:o+"-fill",style:n})}),[l,t,a,r,o])},Se=["prefixCls","radius","pointer","className","hue","style","hsva","onChange"],le=S.forwardRef((e,r)=>{var a,{prefixCls:t="w-color-saturation",radius:l=0,pointer:o,className:s,hue:n=0,style:b,hsva:d,onChange:x}=e,y=j(e,Se),v=c({width:200,height:200,borderRadius:l},b,{position:"relative"}),i=(u,h)=>{x&&d&&x({h:d.h,s:u.left*100,v:(1-u.top)*100,a:d.a})},m=w.useMemo(()=>{if(!d)return null;var u={top:100-d.v+"%",left:d.s+"%",color:ee(d)};return o&&typeof o=="function"?o(c({prefixCls:t},u)):g.jsx(Ae,c({prefixCls:t},u))},[d,o,t]);return g.jsx(oe,c({className:[t,s||""].filter(Boolean).join(" ")},y,{style:c({position:"absolute",inset:0,cursor:"crosshair",backgroundImage:"linear-gradient(0deg, #000, transparent), linear-gradient(90deg, #fff, hsl("+((a=d==null?void 0:d.h)!=null?a:n)+", 100%, 50%))"},v),ref:r,onMove:i,onDown:i,children:m}))});le.displayName="Saturation";const Re=le;var Be=["className","prefixCls","left","top","style","fillProps"],je=e=>{var{className:r,prefixCls:a,left:t,top:l,style:o,fillProps:s}=e,n=j(e,Be),b=c({},o,{position:"absolute",left:t,top:l}),d=c({width:18,height:18,boxShadow:"var(--alpha-pointer-box-shadow)",borderRadius:"50%",backgroundColor:"var(--alpha-pointer-background-color)"},s==null?void 0:s.style,{transform:t?"translate(-9px, -1px)":"translate(-1px, -9px)"});return g.jsx("div",c({className:a+"-pointer "+(r||""),style:b},n,{children:g.jsx("div",c({className:a+"-fill"},s,{style:d}))}))},Ne=["prefixCls","className","hsva","background","bgProps","innerProps","pointerProps","radius","width","height","direction","style","onChange","pointer"],Pe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg==",ne=S.forwardRef((e,r)=>{var{prefixCls:a="w-color-alpha",className:t,hsva:l,background:o,bgProps:s={},innerProps:n={},pointerProps:b={},radius:d=0,width:x,height:y=16,direction:v="horizontal",style:i,onChange:m,pointer:u}=e,h=j(e,Ne),f=R=>{m&&m(c({},l,{a:v==="horizontal"?R.left:R.top}),R)},p=ee(Object.assign({},l,{a:1})),k="linear-gradient(to "+(v==="horizontal"?"right":"bottom")+", rgba(244, 67, 54, 0) 0%, "+p+" 100%)",B={};v==="horizontal"?B.left=l.a*100+"%":B.top=l.a*100+"%";var A=c({"--alpha-background-color":"#fff","--alpha-pointer-background-color":"rgb(248, 248, 248)","--alpha-pointer-box-shadow":"rgb(0 0 0 / 37%) 0px 1px 4px 0px",borderRadius:d,background:"url("+Pe+") left center",backgroundColor:"var(--alpha-background-color)"},i,{position:"relative"},{width:x,height:y}),C=u&&typeof u=="function"?u(c({prefixCls:a},b,B)):g.jsx(je,c({},b,{prefixCls:a},B));return g.jsxs("div",c({},h,{className:[a,a+"-"+v,t||""].filter(Boolean).join(" "),style:A,ref:r,children:[g.jsx("div",c({},s,{style:c({inset:0,position:"absolute",background:o||k,borderRadius:d},s.style)})),g.jsx(oe,c({},n,{style:c({},n.style,{inset:0,zIndex:1,position:"absolute"}),onMove:f,onDown:f,children:C}))]}))});ne.displayName="Alpha";const W=ne;var Ee=["prefixCls","placement","label","value","className","style","labelStyle","inputStyle","onChange","onBlur"],$e=e=>/^#?([A-Fa-f0-9]{3,4}){1,2}$/.test(e),Te=e=>Number(String(e).replace(/%/g,"")),se=S.forwardRef((e,r)=>{var{prefixCls:a="w-color-editable-input",placement:t="bottom",label:l,value:o,className:s,style:n,labelStyle:b,inputStyle:d,onChange:x,onBlur:y}=e,v=j(e,Ee),[i,m]=w.useState(o),u=w.useRef(!1);w.useEffect(()=>{e.value!==i&&(u.current||m(e.value))},[e.value]);function h(A,C){var R=C||A.target.value;$e(R)&&x&&x(A,R);var X=Te(R);isNaN(X)||x&&x(A,X),m(R)}function f(A){u.current=!1,m(e.value),y&&y(A)}var p={};t==="bottom"&&(p.flexDirection="column"),t==="top"&&(p.flexDirection="column-reverse"),t==="left"&&(p.flexDirection="row-reverse");var k=c({"--editable-input-label-color":"rgb(153, 153, 153)","--editable-input-box-shadow":"rgb(204 204 204) 0px 0px 0px 1px inset","--editable-input-color":"#666",position:"relative",alignItems:"center",display:"flex",fontSize:11},p,n),B=c({width:"100%",paddingTop:2,paddingBottom:2,paddingLeft:3,paddingRight:3,fontSize:11,background:"transparent",boxSizing:"border-box",border:"none",color:"var(--editable-input-color)",boxShadow:"var(--editable-input-box-shadow)"},d);return g.jsxs("div",{className:[a,s||""].filter(Boolean).join(" "),style:k,children:[g.jsx("input",c({ref:r,value:i,onChange:h,onBlur:f,autoComplete:"off",onFocus:()=>u.current=!0},v,{style:B})),l&&g.jsx("span",{style:c({color:"var(--editable-input-label-color)",textTransform:"capitalize"},b),children:l})]})});se.displayName="EditableInput";const D=se;var Me=["prefixCls","hsva","placement","rProps","gProps","bProps","aProps","className","style","onChange"],ie=S.forwardRef((e,r)=>{var{prefixCls:a="w-color-editable-input-rgba",hsva:t,placement:l="bottom",rProps:o={},gProps:s={},bProps:n={},aProps:b={},className:d,style:x,onChange:y}=e,v=j(e,Me),i=t?F(t):{};function m(h){var f=Number(h.target.value);f&&f>255&&(h.target.value="255"),f&&f<0&&(h.target.value="0")}var u=(h,f,p)=>{typeof h=="number"&&(f==="a"&&(h<0&&(h=0),h>100&&(h=100),y&&y($(_(c({},i,{a:h/100}))))),h>255&&(h=255,p.target.value="255"),h<0&&(h=0,p.target.value="0"),f==="r"&&y&&y($(_(c({},i,{r:h})))),f==="g"&&y&&y($(_(c({},i,{g:h})))),f==="b"&&y&&y($(_(c({},i,{b:h})))))};return g.jsxs("div",c({ref:r,className:[a,d||""].filter(Boolean).join(" ")},v,{style:c({fontSize:11,display:"flex"},x),children:[g.jsx(D,c({label:"R",value:i.r||0,onBlur:m,placement:l,onChange:(h,f)=>u(f,"r",h)},o,{style:c({},o.style)})),g.jsx(D,c({label:"G",value:i.g||0,onBlur:m,placement:l,onChange:(h,f)=>u(f,"g",h)},s,{style:c({marginLeft:5},o.style)})),g.jsx(D,c({label:"B",value:i.b||0,onBlur:m,placement:l,onChange:(h,f)=>u(f,"b",h)},n,{style:c({marginLeft:5},n.style)})),b&&g.jsx(D,c({label:"A",value:i.a?parseInt(String(i.a*100),10):0,onBlur:m,placement:l,onChange:(h,f)=>u(f,"a",h)},b,{style:c({marginLeft:5},b.style)}))]}))});ie.displayName="EditableInputRGBA";const _e=ie;var De=["prefixCls","className","hue","onChange","direction"],ce=S.forwardRef((e,r)=>{var{prefixCls:a="w-color-hue",className:t,hue:l=0,onChange:o,direction:s="horizontal"}=e,n=j(e,De);return g.jsx(W,c({ref:r,className:a+" "+(t||"")},n,{direction:s,background:"linear-gradient(to "+(s==="horizontal"?"right":"bottom")+", rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)",hsva:{h:l,s:100,v:100,a:l/360},onChange:(b,d)=>{o&&o({h:s==="horizontal"?360*d.left:360*d.top})}}))});ce.displayName="Hue";const Le=ce;var Ie=["prefixCls","className","color","colors","style","rectProps","onChange","addonAfter","addonBefore","rectRender"],he=S.forwardRef((e,r)=>{var{prefixCls:a="w-color-swatch",className:t,color:l,colors:o=[],style:s,rectProps:n={},onChange:b,addonAfter:d,addonBefore:x,rectRender:y}=e,v=j(e,Ie),i=c({"--swatch-background-color":"rgb(144, 19, 254)",background:"var(--swatch-background-color)",height:15,width:15,marginRight:5,marginBottom:5,cursor:"pointer",position:"relative",outline:"none",borderRadius:2},n.style),m=(u,h)=>{b&&b(T(u),$(T(u)),h)};return g.jsxs("div",c({ref:r},v,{className:[a,t||""].filter(Boolean).join(" "),style:c({display:"flex",flexWrap:"wrap",position:"relative"},s),children:[x&&S.isValidElement(x)&&x,o&&Array.isArray(o)&&o.map((u,h)=>{var f="",p="";typeof u=="string"&&(f=u,p=u),typeof u=="object"&&u.color&&(f=u.title||u.color,p=u.color);var k=l&&l.toLocaleLowerCase()===p.toLocaleLowerCase();if(y)return y({key:h,title:f,color:p,checked:!!k,style:c({},i,{background:p}),onClick:A=>m(p,A)});var B=n.children&&S.isValidElement(n.children)?S.cloneElement(n.children,{color:p,checked:k}):null;return g.jsx("div",c({tabIndex:0,title:f,onClick:A=>m(p,A)},n,{children:B,style:c({},i,{background:p})}),h)}),d&&S.isValidElement(d)&&d]}))});he.displayName="Swatch";const ze=he;var He=["prefixCls","className","onChange","width","presetColors","color","editableDisable","disableAlpha","style"],Oe=["#D0021B","#F5A623","#f8e61b","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"],q=e=>g.jsx("div",{style:{boxShadow:"rgb(0 0 0 / 60%) 0px 0px 2px",width:4,top:1,bottom:1,left:e.left,borderRadius:1,position:"absolute",backgroundColor:"#fff"}}),de=S.forwardRef((e,r)=>{var{prefixCls:a="w-color-sketch",className:t,onChange:l,width:o=218,presetColors:s=Oe,color:n,editableDisable:b=!0,disableAlpha:d=!1,style:x}=e,y=j(e,He),[v,i]=w.useState({h:209,s:36,v:90,a:1});w.useEffect(()=>{typeof n=="string"&&Y(n)&&i(T(n)),typeof n=="object"&&i(n)},[n]);var m=C=>{i(C),l&&l($(C))},u=(C,R)=>{typeof C=="string"&&Y(C)&&/(3|6)/.test(String(C.length))&&m(T(C))},h=C=>m(c({},v,{a:C.a})),f=C=>m(c({},v,C,{a:v.a})),p=c({"--sketch-background":"rgb(255, 255, 255)","--sketch-box-shadow":"rgb(0 0 0 / 15%) 0px 0px 0px 1px, rgb(0 0 0 / 15%) 0px 8px 16px","--sketch-swatch-box-shadow":"rgb(0 0 0 / 15%) 0px 0px 0px 1px inset","--sketch-alpha-box-shadow":"rgb(0 0 0 / 15%) 0px 0px 0px 1px inset, rgb(0 0 0 / 25%) 0px 0px 4px inset","--sketch-swatch-border-top":"1px solid rgb(238, 238, 238)",background:"var(--sketch-background)",borderRadius:4,boxShadow:"var(--sketch-box-shadow)",width:o},x),k={borderRadius:2,background:ye(v),boxShadow:"var(--sketch-alpha-box-shadow)"},B={borderTop:"var(--sketch-swatch-border-top)",paddingTop:10,paddingLeft:10},A={marginRight:10,marginBottom:10,borderRadius:3,boxShadow:"var(--sketch-swatch-box-shadow)"};return g.jsxs("div",c({},y,{className:a+" "+(t||""),ref:r,style:p,children:[g.jsxs("div",{style:{padding:"10px 10px 8px"},children:[g.jsx(Re,{hsva:v,style:{width:"auto",height:150},onChange:f}),g.jsxs("div",{style:{display:"flex",marginTop:4},children:[g.jsxs("div",{style:{flex:1},children:[g.jsx(Le,{width:"auto",height:10,hue:v.h,pointer:q,innerProps:{style:{marginLeft:1,marginRight:5}},onChange:C=>m(c({},v,C))}),!d&&g.jsx(W,{width:"auto",height:10,hsva:v,pointer:q,style:{marginTop:4},innerProps:{style:{marginLeft:1,marginRight:5}},onChange:h})]}),!d&&g.jsx(W,{width:24,height:24,hsva:v,radius:2,style:{marginLeft:4},bgProps:{style:{background:"transparent"}},innerProps:{style:k},pointer:()=>g.jsx(w.Fragment,{})})]})]}),b&&g.jsxs("div",{style:{display:"flex",margin:"0 10px 3px 10px"},children:[g.jsx(D,{label:"Hex",value:U(v).replace(/^#/,"").toLocaleUpperCase(),onChange:(C,R)=>u(R),style:{minWidth:58}}),g.jsx(_e,{hsva:v,style:{marginLeft:6},aProps:d?!1:{},onChange:C=>m(C.hsva)})]}),s&&s.length>0&&g.jsx(ze,{style:B,colors:s,color:U(v),onChange:C=>m(C),rectProps:{style:A}})]}))});de.displayName="Sketch";const Fe=de,G=["white","grayBlue","red","orange","yellow","green","blue","cyan","purple"],Ge=["transparent","blackAlpha"],H=(()=>{const e=new Map;return G.forEach(r=>{e.set(O(r),r)}),e})(),Ve=G.map(e=>({title:e,color:O(e)})),pe=e=>{const{onChange:r,selectedColor:a,disableAlpha:t}=e;let l=a;return G.includes(a)&&(l=O(a)),P(Fe,{color:l,presetColors:Ve,disableAlpha:t,onChange:o=>{H.has(o.hexa)||H.has(o.hex)?r(H.get(o.hex)||H.get(o.hexa)):r(o.hexa)}})};pe.displayName="ColorPicker";const Ye="/build/assets/alpha-8b04a4ea.svg",Ue=M`
  width: 24px;
  height: 24px;
  padding: 4px;
  display: flex;
  align-items: center;
`;function We(e){return M`
    &::after {
      content: "";
      display: inline-block;
      background-color: ${e};
      width: 16px;
      height: 16px;
    }

    background-image: url(${Ye});
    width: 16px;
    height: 16px;
    border-radius: 50%;
    border: 1px solid ${I(`--${z}-grayBlue-08`)};
    overflow: hidden;
    flex: none;
  `}const Xe=M`
  display: flex;
  align-items: center;
  gap: 8px;
`,Qe=e=>M`
  display: flex;
  width: ${e==="medium"?"182px":"170px"};
  cursor: pointer;
  align-items: center;
  border-radius: 8px;
  padding: 3px 12px 3px 12px;
  justify-content: space-between;
  border: 1px solid ${ge("grayBlue","08")};

  :hover {
    background-color: ${I(`--${z}-grayBlue-09`)};
  }

  :active {
    background-color: ${I(`--${z}-grayBlue-08`)};
  }
`,Je=M`
  text-align: left;
  font-size: 12px;
  overflow: hidden;
  text-overflow: ellipsis;
  color: ${I(`--${z}-grayBlue-02`)};
  align-self: center;
  line-height: 24px;
  flex: none;
`,Ke=M`
  font-size: 12px;
  color: ${I(`--${z}-grayBlue-02`)};
  align-self: center;
  line-height: 24px;
  flex: none;
`,Ze=e=>{const{handleUpdateColor:r,value:a,setterSize:t="small"}=e,l=w.useRef(a),o=fe(r,300);let s=a,n=!1;G.includes(a)&&(n=!0,s=O(a));const b=n||Ge.includes(a);return P(ve,{trigger:"click",withoutPadding:!0,clickOutsideToClose:!0,position:"bottom-end",colorScheme:"white",content:P(pe,{selectedColor:a,onChange:d=>{l.current=d,o(d)}}),children:V("div",{css:Qe(t),children:[V("div",{css:Xe,children:[P("div",{css:Ue,children:P("div",{css:We(s)})}),P("span",{css:Je,children:a!=null&&a.includes("#")?a==null?void 0:a.toLocaleUpperCase().slice(0,-2):a})]}),b?P(ue,{}):V("span",{css:Ke,children:[parseInt(`${T(s||"#fff").a*100}`),"%"]})]})})};Ze.displayName="ColorPickerSetter";export{Ze as C};
//# sourceMappingURL=index-548954d1.js.map
