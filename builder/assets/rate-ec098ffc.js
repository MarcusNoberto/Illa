import{k as l,o as y,$ as T}from"./@illa-design-1f43bb6c.js";import{r as o}from"./react-9b7e00e3.js";import{aE as A}from"./index-4dce6ee8.js";import{L}from"./index-2c54d160.js";import{T as S}from"./index-99007076.js";import{a as j,b as D}from"./style-49f23046.js";import{h as I,I as N}from"./utils-1cfed9ac.js";import{a as O}from"./@emotion-08a6282b.js";import"./codeMirror-vendor-320207e2.js";import"./lodash-lib-6e94956b.js";import"./react-icons-vendor-2430ea65.js";const U=O`
  overflow: hidden;
`,V=r=>{const{value:e,allowClear:n,disabled:i,icon:s,readonly:u,allowHalf:d,maxCount:m,handleOnChange:p}=r;return l(T,{css:U,count:m,allowHalf:d,heart:s==="heart",disabled:i,readonly:u,allowClear:n,value:e,onChange:p})};V.displayName="WrappedRate";const q=r=>{const{handleUpdateDsl:e,updateComponentRuntimeProps:n,deleteComponentRuntimeProps:i,labelPosition:s,labelFull:u,label:d,labelAlign:m,labelWidth:p=33,labelCaption:w,labelWidthUnit:x,required:g,labelHidden:b,tooltipText:h,hideValidationMessage:f,validateMessage:k,customRule:v,value:C,updateComponentHeight:H,triggerEventHandler:M}=r,E=o.useRef(null),c=o.useCallback(a=>{if(!f){const t=I({value:a,required:g,customRule:v});return t&&t.length>0?t:""}return""},[v,f,g]),R=o.useCallback(a=>{const t=c(a);return e({validateMessage:t}),t},[c,e]);o.useEffect(()=>(n({setValue:a=>{e({value:a})},clearValue:()=>{e({value:0})},validate:()=>R(C),clearValidation:()=>{e({validateMessage:""})}}),()=>{i()}),[n,e,i,R,C]);const P=o.useCallback(a=>{new Promise(t=>{const W=c(a);e({value:a,validateMessage:W}),t(!0)}).then(()=>{M("change")})},[c,e,M]);return y(A,{updateComponentHeight:H,children:[l(S,{tooltipText:h,tooltipDisabled:!h,children:y("div",{css:j(s),ref:E,children:[l(L,{labelFull:u,label:d,labelAlign:m,labelWidth:p,labelCaption:w,labelWidthUnit:x,labelPosition:s,required:g,labelHidden:b,hasTooltip:!!h}),l(V,{...r,handleOnChange:P})]})}),!f&&l("div",{css:D(p,s,b||!d),children:l(N,{validateMessage:k})})]})};q.displayName="RateWidget";export{q as RateWidget,V as WrappedRate,q as default};
//# sourceMappingURL=rate-ec098ffc.js.map
