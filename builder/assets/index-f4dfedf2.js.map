{"version":3,"file":"index-f4dfedf2.js","sources":["../../src/page/App/components/Actions/InputEditor/style.ts","../../src/page/App/components/Actions/InputEditor/index.tsx"],"sourcesContent":["import { css } from \"@emotion/react\"\nimport { getColor } from \"@illa-design/react\"\n\nexport const actionItemStyle = css`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  min-height: 48px;\n  padding: 0 16px;\n`\n\nexport const actionItemCodeEditorStyle = css`\n  margin-top: 8px;\n  margin-bottom: 8px;\n  margin-left: 16px;\n  flex-grow: 1;\n  width: 0;\n`\n\nexport const codeEditorLabelStyle = css`\n  min-width: 160px;\n  width: 160px;\n  line-height: 22px;\n  font-size: 14px;\n  font-weight: 500;\n  text-align: right;\n  color: ${getColor(\"grayBlue\", \"02\")};\n  min-height: 48px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: flex-end;\n  align-self: center;\n`\n\nexport const codeEditorSublabelStyle = css`\n  color: ${getColor(\"techPurple\", \"03\")};\n  cursor: pointer;\n  height: 20px;\n  line-height: 20px;\n  font-size: 12px;\n`\n\nexport const actionItemTip = css`\n  font-size: 14px;\n  margin-left: 192px;\n  white-space: pre-line;\n  min-height: 30px;\n  padding-bottom: 8px;\n  display: flex;\n  align-items: stretch;\n  color: ${getColor(\"grayBlue\", \"04\")};\n`\n\nexport const sqlModeTipStyle = (hasTitle: boolean) => css`\n  margin-left: ${hasTitle ? \"192px\" : \"32px\"};\n  margin-top: 0;\n  margin-right: 16px;\n`\n","import { FC, useMemo } from \"react\"\nimport { Popover } from \"@illa-design/react\"\nimport { CodeEditor } from \"@/components/CodeEditor\"\nimport { CODE_LANG } from \"@/components/CodeEditor/CodeMirror/extensions/interface\"\nimport { ControlledInputProps } from \"@/page/App/components/Actions/InputEditor/interface\"\nimport { VALIDATION_TYPES } from \"@/utils/validationFactory\"\nimport SQLModeTip from \"../ActionPanel/pulicComponent/SQLModeTip\"\nimport {\n  actionItemCodeEditorStyle,\n  actionItemStyle,\n  actionItemTip,\n  codeEditorLabelStyle,\n  codeEditorSublabelStyle,\n  sqlModeTipStyle,\n} from \"./style\"\n\nexport const InputEditor: FC<ControlledInputProps> = (props) => {\n  const {\n    title,\n    onChange,\n    expectedType = VALIDATION_TYPES.STRING,\n    value,\n    tips,\n    showSafeModeTips,\n    subtitle,\n    handleSubtitleClick,\n    placeholder,\n    style = {},\n    mode = CODE_LANG.JAVASCRIPT,\n    lineNumbers = false,\n    sqlScheme,\n    canShowCompleteInfo,\n    popoverContent,\n    codeType,\n    hasExpectedType = true,\n  } = props\n\n  const titleNode = useMemo(\n    () => (\n      <span css={codeEditorLabelStyle}>\n        <span>{title}</span>\n        {subtitle && (\n          <span css={codeEditorSublabelStyle} onClick={handleSubtitleClick}>\n            {subtitle}\n          </span>\n        )}\n      </span>\n    ),\n    [handleSubtitleClick, subtitle, title],\n  )\n\n  return (\n    <div style={{ width: \"100%\" }}>\n      <div css={actionItemStyle}>\n        {title && (\n          <>\n            {popoverContent ? (\n              <Popover\n                content={popoverContent}\n                hasCloseIcon={false}\n                trigger=\"hover\"\n                colorScheme=\"gray\"\n                showArrow={false}\n              >\n                {titleNode}\n              </Popover>\n            ) : (\n              <>{titleNode}</>\n            )}\n          </>\n        )}\n        <CodeEditor\n          {...style}\n          singleLine={!lineNumbers}\n          showLineNumbers={lineNumbers}\n          wrapperCss={actionItemCodeEditorStyle}\n          lang={mode}\n          value={value}\n          sqlScheme={sqlScheme}\n          onChange={onChange}\n          expectValueType={hasExpectedType ? expectedType : undefined}\n          placeholder={placeholder}\n          modalTitle={title}\n          codeType={codeType}\n          canShowCompleteInfo={canShowCompleteInfo}\n        />\n      </div>\n      {tips && (\n        <div css={actionItemTip}>\n          <span>{tips}</span>\n        </div>\n      )}\n      {showSafeModeTips && (\n        <SQLModeTip value={value} _css={sqlModeTipStyle(!!title)} />\n      )}\n    </div>\n  )\n}\n\nInputEditor.displayName = \"InputEditor\"\n"],"names":["actionItemStyle","css","actionItemCodeEditorStyle","codeEditorLabelStyle","getColor","codeEditorSublabelStyle","actionItemTip","sqlModeTipStyle","hasTitle","InputEditor","props","title","onChange","expectedType","VALIDATION_TYPES","value","tips","showSafeModeTips","subtitle","handleSubtitleClick","placeholder","style","mode","CODE_LANG","lineNumbers","sqlScheme","canShowCompleteInfo","popoverContent","codeType","hasExpectedType","titleNode","useMemo","jsxs","jsx","Popover","Fragment","CodeEditor","SQLModeTip"],"mappings":"+RAGO,MAAMA,EAAkBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQlBC,EAA4BD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQ5BE,EAAuBF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAOzBG,EAAS,WAAY,IAAI,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASxBC,EAA0BJ;AAAA,WAC5BG,EAAS,aAAc,IAAI,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,EAO1BE,EAAgBL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAQlBG,EAAS,WAAY,IAAI,CAAC;AAAA,EAGxBG,EAAmBC,GAAsBP;AAAA,iBACrCO,EAAW,QAAU,MAAM;AAAA;AAAA;AAAA,ECvC/BC,EAAyCC,GAAU,CACxD,KAAA,CACJ,MAAAC,EACA,SAAAC,EACA,aAAAC,EAAeC,EAAiB,OAChC,MAAAC,EACA,KAAAC,EACA,iBAAAC,EACA,SAAAC,EACA,oBAAAC,EACA,YAAAC,EACA,MAAAC,EAAQ,CAAC,EACT,KAAAC,EAAOC,EAAU,WACjB,YAAAC,EAAc,GACd,UAAAC,EACA,oBAAAC,EACA,eAAAC,EACA,SAAAC,EACA,gBAAAC,EAAkB,EAChB,EAAAnB,EAEEoB,EAAYC,EAAA,QAChB,IACEC,EAAC,OAAK,CAAA,IAAK7B,EACT,SAAA,CAAA8B,EAAC,QAAM,SAAMtB,CAAA,CAAA,EACZO,GACEe,EAAA,OAAA,CAAK,IAAK5B,EAAyB,QAASc,EAC1C,SACHD,EAAA,CAAA,EAEJ,EAEF,CAACC,EAAqBD,EAAUP,CAAK,CAAA,EAGvC,SACG,MAAI,CAAA,MAAO,CAAE,MAAO,MACnB,EAAA,SAAA,CAACqB,EAAA,MAAA,CAAI,IAAKhC,EACP,SAAA,CAAAW,QAEI,SACCgB,EAAAM,EAACC,EAAA,CACC,QAASP,EACT,aAAc,GACd,QAAQ,QACR,YAAY,OACZ,UAAW,GAEV,SAAAG,CAAA,CAAA,EAGAG,EAAAE,EAAA,CAAA,SAAAL,CAAA,CAAU,CAEjB,CAAA,EAEFG,EAACG,EAAA,CACE,GAAGf,EACJ,WAAY,CAACG,EACb,gBAAiBA,EACjB,WAAYtB,EACZ,KAAMoB,EACN,MAAAP,EACA,UAAAU,EACA,SAAAb,EACA,gBAAiBiB,EAAkBhB,EAAe,OAClD,YAAAO,EACA,WAAYT,EACZ,SAAAiB,EACA,oBAAAF,CAAA,CACF,CAAA,EACF,EACCV,KACE,MAAI,CAAA,IAAKV,EACR,SAAC2B,EAAA,OAAA,CAAM,WAAK,CACd,CAAA,EAEDhB,KACEoB,EAAW,CAAA,MAAAtB,EAAc,KAAMR,EAAgB,CAAC,CAACI,CAAK,EAAG,CAE9D,CAAA,CAAA,CAEJ,EAEAF,EAAY,YAAc"}