import{o as g,k as n,F as C,n as I,ct as j}from"./@illa-design-402f214a.js";import{u as h,e as T,b as A,bB as y,bf as b,eI as l,ii as p,ij as R,fw as f,ik as P,il as J,im as M,io as G,ip as w,iq as K,ir as B}from"./index-2f1869ab.js";import{r as S}from"./react-9b7e00e3.js";import{S as _}from"./index-511dc243.js";import{T as Y}from"./index-e89bb2f6.js";import{a as d}from"./index-9dcf4ab8.js";import{I as s}from"./index-f4dfedf2.js";import{a as x}from"./@emotion-4f16718e.js";import"./codeMirror-vendor-eff8ab8d.js";import"./lodash-lib-6e94956b.js";import"./react-icons-vendor-2430ea65.js";import"./hook-34b2061f.js";import"./renderComponentCanvasContainer-44ad78fe.js";import"./style-7ce959a8.js";import"./index-f466602f.js";import"./index-cf2bb556.js";import"./index-b8442d1a.js";import"./layoutInfoListener-bba65cc8.js";import"./drive-6b05f117.js";import"./objectWithoutPropertiesLoose-4f48578a.js";import"./popper-cd761d27.js";import"./clsx-85d7d0af.js";import"./objectWithoutPropertiesLoose-24430c43.js";import"./index-323e87cb.js";import"./style-bd23c0f2.js";import"./style-91620c64.js";import"./index-65ed348a.js";import"./index-e7294a86.js";import"./clsx.m-925abe8b.js";import"./clsx.m-266f4de0.js";import"./index-5fb9a68f.js";const v=m=>{const{t}=h(),o=T(),a=A(y),e=m.commandArgs,c=S.useCallback(i=>r=>{o(b.updateCachedAction({...a,content:{...a.content,commandArgs:{...e,[i]:r}}}))},[a,e,o]);return g(C,{children:[n(s,{title:t("editor.action.panel.s3.bucket_name"),mode:d.JAVASCRIPT,value:e.bucketName,onChange:c("bucketName"),expectedType:l.STRING}),n(s,{title:t("editor.action.panel.s3.object_key_list"),mode:d.JAVASCRIPT,placeholder:t("editor.action.panel.s3.placeholder.object_key_list"),value:e.objectKeyList,onChange:c("objectKeyList"),expectedType:l.ARRAY})]})};v.displayName="DeleteMultiplePart";const E=m=>{const{t}=h(),o=T(),a=A(y),e=m.commandArgs,c=S.useCallback(i=>r=>{o(b.updateCachedAction({...a,content:{...a.content,commandArgs:{...e,[i]:r}}}))},[a,e,o]);return g(C,{children:[n(s,{title:t("editor.action.panel.s3.bucket_name"),mode:d.JAVASCRIPT,value:e.bucketName,onChange:c("bucketName"),expectedType:l.STRING}),n(s,{title:t("editor.action.panel.s3.object_key"),mode:d.JAVASCRIPT,value:e.objectKey,onChange:c("objectKey"),expectedType:l.STRING})]})};E.displayName="DeleteOnePart";const z=[{label:"List all objects in bucket",value:p.LIST_ALL},{label:"Read an object",value:p.READ_ONE},{label:"Download an object",value:p.DOWNLOAD_ONE},{label:"Delete an object",value:p.DELETE_ONE},{label:"Delete multiple objects",value:p.DELETE_MULTIPLE},{label:"Upload data",value:p.UPLOAD},{label:"Upload multiple data",value:p.UPLOAD_MULTIPLE}],N=[{label:"No",value:0},{label:"Yes",value:1}],F=[{label:"Binary",value:R.BINARY},{label:"CSV",value:R.CSV},{label:"JSON",value:R.JSON},{label:"String",value:R.STRING}],k=m=>{const{t}=h(),o=T(),a=A(y),e=m.commandArgs,c=e.signedURL,i=S.useCallback(r=>u=>{o(b.updateCachedAction({...a,content:{...a.content,commandArgs:{...e,[r]:u}}}))},[a,e,o]);return g(C,{children:[n(s,{title:t("editor.action.panel.s3.bucket_name"),mode:d.JAVASCRIPT,value:e.bucketName,onChange:i("bucketName"),expectedType:l.STRING}),n(s,{title:t("editor.action.panel.s3.object_key"),mode:d.JAVASCRIPT,value:e.objectKey,onChange:i("objectKey"),expectedType:l.STRING}),n(_,{componentType:"select",value:+e.signedURL,style:{position:"relative",zIndex:0},title:t("editor.action.panel.s3.generate_signed_url"),showSearch:!0,onSelectedValueChange:r=>i("signedURL")(!!r),options:N}),c&&n(s,{title:t("editor.action.panel.s3.expiry_duration_of_signed_url"),mode:d.JAVASCRIPT,value:String(e.expiry),onChange:i("expiry"),expectedType:l.NUMBER})]})};k.displayName="DownloadOnePart";const D=m=>{const{t}=h(),o=T(),a=A(y),e=m.commandArgs,c=e.signedURL,i=S.useCallback(r=>u=>{o(b.updateCachedAction({...a,content:{...a.content,commandArgs:{...e,[r]:u}}}))},[a,e,o]);return g(C,{children:[n(s,{title:t("editor.action.panel.s3.bucket_name"),mode:d.JAVASCRIPT,value:e.bucketName,onChange:i("bucketName"),expectedType:l.STRING}),n(s,{title:t("editor.action.panel.s3.prefix_to_filter_reseults"),mode:d.JAVASCRIPT,value:e.prefix,onChange:i("prefix"),expectedType:l.STRING}),n(s,{title:t("editor.action.panel.s3.delimiter"),popoverContent:t("editor.action.panel.s3.tips.delimiter"),mode:d.JAVASCRIPT,value:e.delimiter,onChange:i("delimiter"),expectedType:l.STRING}),n(_,{componentType:"select",value:+e.signedURL,title:t("editor.action.panel.s3.generate_signed_url"),showSearch:!0,onSelectedValueChange:r=>i("signedURL")(!!r),options:N,style:{position:"relative",zIndex:0}}),c&&n(s,{title:t("editor.action.panel.s3.expiry_duration_of_signed_url"),mode:d.JAVASCRIPT,value:String(e.expiry),onChange:i("expiry"),expectedType:l.NUMBER}),n(s,{title:t("editor.action.panel.s3.max_keys"),popoverContent:t("editor.action.panel.s3.tips.max_keys"),mode:d.JAVASCRIPT,value:e.maxKeys,onChange:i("maxKeys"),expectedType:l.NUMBER})]})};D.displayName="ListAllPart";const O=m=>{const{t}=h(),o=T(),a=A(y),e=m.commandArgs,c=e.signedURL,i=S.useCallback(r=>u=>{o(b.updateCachedAction({...a,content:{...a.content,commandArgs:{...e,[r]:u}}}))},[a,e,o]);return g(C,{children:[n(s,{title:t("editor.action.panel.s3.bucket_name"),mode:d.JAVASCRIPT,value:e.bucketName,onChange:i("bucketName"),expectedType:l.STRING}),n(s,{title:t("editor.action.panel.s3.object_key"),mode:d.JAVASCRIPT,value:e.objectKey,onChange:i("objectKey"),expectedType:l.STRING}),n(_,{showSearch:!0,componentType:"select",onChange:r=>i("signedURL")(!!r),options:N,value:+e.signedURL,title:t("editor.action.panel.s3.generate_signed_url"),style:{position:"relative",zIndex:0}}),c&&n(s,{title:t("editor.action.panel.s3.generate_signed_url"),mode:d.JAVASCRIPT,value:String(e.expiry),onChange:i("expiry"),expectedType:l.NUMBER},"read")]})};O.displayName="ReadOnePart";const W=x`
  display: flex;
  align-items: center;
  flex: 1;
`,q=m=>x`
    width: 16px;
    height: 16px;
    color: ${m?I("techPurple","03"):I("grayBlue","04")};
    cursor: pointer;
    z-index: 1;
    margin-right: 16px;
    :hover {
      cursor: pointer;
      color: ${I("techPurple","03")};
    }
  `,L=m=>{const{value:t,onChange:o,fx:a}=m,{t:e}=h(),c=()=>{o("fx")(!a)};return g("div",{css:W,children:[a?n(s,{title:e("editor.action.panel.s3.content_type"),value:t,onChange:o("contentType"),expectedType:l.STRING}):n(_,{title:e("editor.action.panel.s3.content_type"),componentType:"select",value:t,onChange:o("contentType"),options:F}),n(j,{onClick:c,css:q(a)})]})};L.displayName="ContentTypeSelect";const U=m=>{const{t}=h(),o=T(),a=A(y),e=m.commandArgs,c=S.useCallback(i=>r=>{o(b.updateCachedAction({...a,content:{...a.content,commandArgs:{...e,[i]:r}}}))},[a,e,o]);return g(C,{children:[n(s,{title:t("editor.action.panel.s3.bucket_name"),mode:d.JAVASCRIPT,value:e.bucketName,onChange:c("bucketName"),expectedType:l.STRING}),n(L,{value:e.contentType,onChange:c,fx:e.fx}),n(s,{title:t("editor.action.panel.s3.upload_object_name_list"),lineNumbers:!0,style:{height:"88px"},mode:d.JAVASCRIPT,placeholder:t("editor.action.panel.s3.placeholder.object_name_list"),value:e.objectKeyList,onChange:c("objectKeyList"),expectedType:l.ARRAY}),n(s,{title:t("editor.action.panel.s3.upload_data_list"),lineNumbers:!0,style:{height:"88px"},mode:d.JAVASCRIPT,placeholder:t("editor.action.panel.s3.placeholder.data_list"),value:e.objectDataList,onChange:c("objectDataList"),expectedType:l.ARRAY}),n(s,{title:t("editor.action.panel.s3.timeout_upload_multiple"),mode:d.JAVASCRIPT,value:e.expiry,onChange:c("expiry"),expectedType:l.NUMBER})]})};U.displayName="UploadMultiplePart";const V=m=>{const{t}=h(),o=T(),a=A(y),e=m.commandArgs,c=S.useCallback(i=>r=>{o(b.updateCachedAction({...a,content:{...a.content,commandArgs:{...e,[i]:r}}}))},[a,e,o]);return g(C,{children:[n(s,{title:t("editor.action.panel.s3.bucket_name"),mode:d.JAVASCRIPT,value:e.bucketName,onChange:c("bucketName"),expectedType:l.STRING}),n(L,{value:e.contentType,onChange:c,fx:e.fx}),n(s,{title:t("editor.action.panel.s3.upload_object_name"),mode:d.JAVASCRIPT,placeholder:t("editor.action.panel.s3.placeholder.object_name"),value:e.objectKey,onChange:c("objectKey"),expectedType:l.STRING}),n(s,{title:t("editor.action.panel.s3.upload_data"),lineNumbers:!0,style:{height:"88px"},mode:d.JAVASCRIPT,value:e.objectData,onChange:c("objectData"),expectedType:l.STRING}),n(s,{title:t("editor.action.panel.s3.timeout_upload"),mode:d.JAVASCRIPT,value:e.expiry,onChange:c("expiry"),expectedType:l.NUMBER})]})};V.displayName="UploadPart";const $=x`
  padding: 8px 0;
`,H=()=>{const{t:m}=h(),t=A(y),o=A(f),a=T();let e=t.content;const c=S.useMemo(()=>{switch(e.commands){case p.LIST_ALL:return n(D,{commandArgs:e.commandArgs});case p.READ_ONE:return n(O,{commandArgs:e.commandArgs});case p.DOWNLOAD_ONE:return n(k,{commandArgs:e.commandArgs});case p.DELETE_ONE:return n(E,{commandArgs:e.commandArgs});case p.DELETE_MULTIPLE:return n(v,{commandArgs:e.commandArgs});case p.UPLOAD:return n(V,{commandArgs:e.commandArgs});case p.UPLOAD_MULTIPLE:return n(U,{commandArgs:e.commandArgs});default:return n(C,{})}},[e.commands,e.commandArgs]),i=r=>{let u=P;if(t.resourceID===o.resourceID&&o.content.commands===r)u=o.content.commandArgs;else switch(r){case p.LIST_ALL:u=P;break;case p.READ_ONE:u=B;break;case p.DOWNLOAD_ONE:u=K;break;case p.DELETE_ONE:u=w;break;case p.DELETE_MULTIPLE:u=G;break;case p.UPLOAD:u=M;break;case p.UPLOAD_MULTIPLE:u=J;break}a(b.updateCachedAction({...t,content:{...t.content,commands:r,commandArgs:u}}))};return g("div",{css:$,children:[n(_,{title:m("editor.action.panel.s3.action_type"),componentType:"select",value:e.commands,showSearch:!0,onChange:i,options:z}),c,n(Y,{})]})};H.displayName="S3Panel";export{H as default};
//# sourceMappingURL=index-3a866a7e.js.map
