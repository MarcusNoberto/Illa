{"version":3,"file":"dynamicSwitch-ebee9968.js","sources":["../../src/page/App/components/InspectPanel/PanelSetters/SwitchSetter/dynamicSwitch.tsx"],"sourcesContent":["import { ILLA_MIXPANEL_EVENT_TYPE } from \"@illa-public/mixpanel-utils\"\nimport { get } from \"lodash-es\"\nimport { FC, useCallback } from \"react\"\nimport { Switch } from \"@illa-design/react\"\nimport { DynamicIcon } from \"@/page/App/components/InspectPanel/PanelSetters/PublicComponent/DynamicIcon\"\nimport { PanelLabel } from \"@/page/App/components/InspectPanel/components/Label\"\nimport { trackInEditor } from \"@/utils/mixpanelHelper\"\nimport BaseInput from \"../InputSetter/BaseInput\"\nimport { DynamicSwitchProps } from \"./interface\"\nimport {\n  applyLabelWrapperStyle,\n  customAndSwitchWrapperStyle,\n  dynamicSwitchWrapperStyle,\n} from \"./style\"\n\nconst DynamicSwitchSetter: FC<DynamicSwitchProps> = (props) => {\n  const {\n    attrName,\n    labelName,\n    labelDesc,\n    handleUpdateDsl,\n    defaultValue,\n    handleUpdateMultiAttrDSL,\n    value,\n    openDynamic,\n    detailedDescription,\n    widgetType,\n    componentNode,\n  } = props\n\n  const customSelected = get(componentNode, `props.${attrName}Dynamic`, false)\n\n  const handleClickDynamicIcon = useCallback(() => {\n    if (customSelected) {\n      handleUpdateMultiAttrDSL?.({\n        [attrName]: undefined,\n        [`${attrName}Dynamic`]: false,\n      })\n      trackInEditor(ILLA_MIXPANEL_EVENT_TYPE.CLICK, {\n        element: \"fx\",\n        parameter1: widgetType,\n        parameter2: attrName,\n        parameter3: \"off\",\n      })\n    } else {\n      handleUpdateMultiAttrDSL?.({\n        [attrName]: undefined,\n        [`${attrName}Dynamic`]: true,\n      })\n      trackInEditor(ILLA_MIXPANEL_EVENT_TYPE.CLICK, {\n        element: \"fx\",\n        parameter1: widgetType,\n        parameter2: attrName,\n        parameter3: \"on\",\n      })\n    }\n  }, [attrName, customSelected, handleUpdateMultiAttrDSL, widgetType])\n\n  return (\n    <div css={applyLabelWrapperStyle(customSelected)}>\n      <div css={dynamicSwitchWrapperStyle}>\n        {labelName && (\n          <PanelLabel labelName={labelName} labelDesc={labelDesc} />\n        )}\n        <div css={customAndSwitchWrapperStyle}>\n          {openDynamic && (\n            <DynamicIcon\n              isDynamic={customSelected}\n              hasRightContent\n              onClick={handleClickDynamicIcon}\n            />\n          )}\n          {!customSelected && (\n            <Switch\n              defaultValue={defaultValue}\n              onChange={(value) => {\n                handleUpdateDsl(attrName, value)\n                trackInEditor(ILLA_MIXPANEL_EVENT_TYPE.CLICK, {\n                  element: \"component_inspect_radio\",\n                  parameter1: widgetType,\n                  parameter2: attrName,\n                })\n              }}\n              checked={value as boolean}\n              colorScheme=\"techPurple\"\n            />\n          )}\n        </div>\n      </div>\n      {customSelected && (\n        <BaseInput\n          {...props}\n          value={value as string}\n          isSetterSingleRow\n          detailedDescription={detailedDescription ?? labelDesc}\n          onlyHasSetter={true}\n        />\n      )}\n    </div>\n  )\n}\n\nDynamicSwitchSetter.displayName = \"DynamicSwitchSetter\"\n\nexport default DynamicSwitchSetter\n"],"names":["DynamicSwitchSetter","props","attrName","labelName","labelDesc","handleUpdateDsl","defaultValue","handleUpdateMultiAttrDSL","value","openDynamic","detailedDescription","widgetType","componentNode","customSelected","get","handleClickDynamicIcon","useCallback","trackInEditor","ILLA_MIXPANEL_EVENT_TYPE","jsxs","applyLabelWrapperStyle","dynamicSwitchWrapperStyle","jsx","PanelLabel","customAndSwitchWrapperStyle","DynamicIcon","Switch","BaseInput"],"mappings":"6rBAeM,MAAAA,EAA+CC,GAAU,CACvD,KAAA,CACJ,SAAAC,EACA,UAAAC,EACA,UAAAC,EACA,gBAAAC,EACA,aAAAC,EACA,yBAAAC,EACA,MAAAC,EACA,YAAAC,EACA,oBAAAC,EACA,WAAAC,EACA,cAAAC,CACE,EAAAX,EAEEY,EAAiBC,EAAIF,EAAe,SAASV,CAAQ,UAAW,EAAK,EAErEa,EAAyBC,EAAAA,YAAY,IAAM,CAC3CH,GACyBN,GAAA,MAAAA,EAAA,CACzB,CAACL,CAAQ,EAAG,OACZ,CAAC,GAAGA,CAAQ,SAAS,EAAG,EAAA,GAE1Be,EAAcC,EAAyB,MAAO,CAC5C,QAAS,KACT,WAAYP,EACZ,WAAYT,EACZ,WAAY,KAAA,CACb,IAE0BK,GAAA,MAAAA,EAAA,CACzB,CAACL,CAAQ,EAAG,OACZ,CAAC,GAAGA,CAAQ,SAAS,EAAG,EAAA,GAE1Be,EAAcC,EAAyB,MAAO,CAC5C,QAAS,KACT,WAAYP,EACZ,WAAYT,EACZ,WAAY,IAAA,CACb,IAEF,CAACA,EAAUW,EAAgBN,EAA0BI,CAAU,CAAC,EAEnE,OACGQ,EAAA,MAAA,CAAI,IAAKC,EAAuBP,CAAc,EAC7C,SAAA,CAACM,EAAA,MAAA,CAAI,IAAKE,EACP,SAAA,CACClB,GAAAmB,EAACC,EAAW,CAAA,UAAApB,EAAsB,UAAAC,CAAsB,CAAA,EAE1De,EAAC,MAAI,CAAA,IAAKK,EACP,SAAA,CACCf,GAAAa,EAACG,EAAA,CACC,UAAWZ,EACX,gBAAe,GACf,QAASE,CAAA,CACX,EAED,CAACF,GACAS,EAACI,EAAA,CACC,aAAApB,EACA,SAAWE,GAAU,CACnBH,EAAgBH,EAAUM,CAAK,EAC/BS,EAAcC,EAAyB,MAAO,CAC5C,QAAS,0BACT,WAAYP,EACZ,WAAYT,CAAA,CACb,CACH,EACA,QAASM,EACT,YAAY,YAAA,CACd,CAAA,EAEJ,CAAA,EACF,EACCK,GACCS,EAACK,EAAA,CACE,GAAG1B,EACJ,MAAAO,EACA,kBAAiB,GACjB,oBAAqBE,GAAuBN,EAC5C,cAAe,EAAA,CACjB,CAEJ,CAAA,CAAA,CAEJ,EAEAJ,EAAoB,YAAc"}