var Bo=Object.defineProperty;var Yo=(o,t,e)=>t in o?Bo(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var Ft=(o,t,e)=>(Yo(o,typeof t!="symbol"?t+"":t,e),e);import{n as V,o as et,k as y,bu as $o,bA as Xo,ak as vr,bB as Fo,v as zo,l as Nt,m as kt,b8 as bn,bC as jo,T as mr,F as jt,a3 as Uo,aa as Go,bD as Ko,bE as $n,bF as Vo,aV as En,aW as yr,p as qo,bG as Zo,q as Jo}from"./@illa-design-1f43bb6c.js";import{r as m,u as Qo}from"./react-9b7e00e3.js";import{db as Yt,dc as ti,b as N,ci as Oe,bu as dt,d4 as ht,e as yt,dd as Cr,d3 as Ae,aS as Ue,de as Ge,bf as G,d8 as Sr,bl as Xn,bg as Dt,df as In,dg as St,dh as Fn,di as zn,dj as Vt,dk as ne,aH as B,dl as wr,dm as _n,bB as Dr,be as J,bj as ce,b5 as It,dn as ei,l as xr,bk as oe,dp as ni,dq as _t,dr as br,z as Mn,as as Le,ds as Er,dt as Ir,i as _r,ct as le,du as zt,dv as Mr,ch as Pr,cl as ri,d0 as oi,dw as Tr,dx as ii,dy as ai,dz as si,dA as ci,dB as ve,dC as Pt,dD as li,cP as Qt,a as te,b2 as Rt,dE as Nr,dF as At,n as kr,at as Rr,au as Or,X as Ar,u as Gt,dG as Pn,dH as Bt,dI as ui,dJ as gt,dK as di,dL as Lr,dM as fi,dN as Tn,dO as pi,dP as hi,dQ as gi,dR as me,dS as Wt,dT as Ht,dU as vi,dV as Wr,bx as jn,cn as Un,cq as mi,aT as pe,dW as yi,dX as Ci,dY as Gn,dZ as Si,d_ as wi}from"./index-4dce6ee8.js";import{a as M}from"./@emotion-08a6282b.js";import{d as Di,g as xi}from"./style-49f23046.js";import{g as mt,M as Ke,t as ue,s as qt,h as bi,N as Nn,O as Et}from"./lodash-lib-6e94956b.js";import{A as kn,R as Ei}from"./index-d48f7e94.js";import{e as Ii}from"./index-cf2bb556.js";import{A as Kn}from"./index-2fdfc937.js";const Ut=typeof window<"u"?m.useLayoutEffect:m.useEffect;function Hr(o,t,e){const[n,r]=m.useState(()=>t(o)),i=m.useCallback(()=>{const a=t(o);Ii(n,a)||(r(a),e&&e())},[n,o,e]);return Ut(i),[n,i]}function _i(o,t,e){const[n,r]=Hr(o,t,e);return Ut(function(){const a=o.getHandlerId();if(a!=null)return o.subscribeToStateChange(r,{handlerIds:[a]})},[o,r]),n}function Br(o,t,e){return _i(t,o||(()=>({})),()=>e.reconnect())}function Yr(o,t){const e=[...t||[]];return t==null&&typeof o!="function"&&e.push(o),m.useMemo(()=>typeof o=="function"?o():o,e)}function Mi(o){return m.useMemo(()=>o.hooks.dragSource(),[o])}function Pi(o){return m.useMemo(()=>o.hooks.dragPreview(),[o])}let Ve=!1,qe=!1;class Ti{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){Yt(!Ve,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ve=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Ve=!1}}isDragging(){if(!this.sourceId)return!1;Yt(!qe,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return qe=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{qe=!1}}subscribeToStateChange(t,e){return this.internalMonitor.subscribeToStateChange(t,e)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,e){return this.internalMonitor.isOverTarget(t,e)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let Ze=!1;class Ni{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,e){return this.internalMonitor.subscribeToStateChange(t,e)}canDrop(){if(!this.targetId)return!1;Yt(!Ze,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Ze=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Ze=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function ki(o,t,e){const n=e.getRegistry(),r=n.addTarget(o,t);return[r,()=>n.removeTarget(r)]}function Ri(o,t,e){const n=e.getRegistry(),r=n.addSource(o,t);return[r,()=>n.removeSource(r)]}function cn(o,t,e,n){let r=e?e.call(n,o,t):void 0;if(r!==void 0)return!!r;if(o===t)return!0;if(typeof o!="object"||!o||typeof t!="object"||!t)return!1;const i=Object.keys(o),a=Object.keys(t);if(i.length!==a.length)return!1;const s=Object.prototype.hasOwnProperty.bind(t);for(let c=0;c<i.length;c++){const l=i[c];if(!s(l))return!1;const d=o[l],u=t[l];if(r=e?e.call(n,d,u,l):void 0,r===!1||r===void 0&&d!==u)return!1}return!0}function ln(o){return o!==null&&typeof o=="object"&&Object.prototype.hasOwnProperty.call(o,"current")}function Oi(o){if(typeof o.type=="string")return;const t=o.type.displayName||o.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function Ai(o){return(t=null,e=null)=>{if(!m.isValidElement(t)){const i=t;return o(i,e),i}const n=t;return Oi(n),Li(n,e?i=>o(i,e):o)}}function $r(o){const t={};return Object.keys(o).forEach(e=>{const n=o[e];if(e.endsWith("Ref"))t[e]=o[e];else{const r=Ai(n);t[e]=()=>r}}),t}function Vn(o,t){typeof o=="function"?o(t):o.current=t}function Li(o,t){const e=o.ref;return Yt(typeof e!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),e?m.cloneElement(o,{ref:n=>{Vn(e,n),Vn(t,n)}}):m.cloneElement(o,{ref:t})}class Wi{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return e&&this.disconnectDragSource(),this.handlerId?t?(e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),e):(this.lastConnectedDragSource=t,e):e}reconnectDragPreview(t=!1){const e=this.dragPreview,n=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!e){this.lastConnectedDragPreview=e;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!cn(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!cn(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=$r({dragSource:(e,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,ln(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,ln(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class Hi{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const e=this.dropTarget;if(this.handlerId){if(!e){this.lastConnectedDropTarget=e;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=e,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,e,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!cn(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=$r({dropTarget:(e,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,ln(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function $t(){const{dragDropManager:o}=m.useContext(ti);return Yt(o!=null,"Expected drag drop context"),o}function Bi(o,t){const e=$t(),n=m.useMemo(()=>new Wi(e.getBackend()),[e]);return Ut(()=>(n.dragSourceOptions=o||null,n.reconnect(),()=>n.disconnectDragSource()),[n,o]),Ut(()=>(n.dragPreviewOptions=t||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,t]),n}function Yi(){const o=$t();return m.useMemo(()=>new Ti(o),[o])}class $i{beginDrag(){const t=this.spec,e=this.monitor;let n=null;return typeof t.item=="object"?n=t.item:typeof t.item=="function"?n=t.item(e):n={},n??null}canDrag(){const t=this.spec,e=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(e):!0}isDragging(t,e){const n=this.spec,r=this.monitor,{isDragging:i}=n;return i?i(r):e===t.getSourceId()}endDrag(){const t=this.spec,e=this.monitor,n=this.connector,{end:r}=t;r&&r(e.getItem(),e),n.reconnect()}constructor(t,e,n){this.spec=t,this.monitor=e,this.connector=n}}function Xi(o,t,e){const n=m.useMemo(()=>new $i(o,t,e),[t,e]);return m.useEffect(()=>{n.spec=o},[o]),n}function Fi(o){return m.useMemo(()=>{const t=o.type;return Yt(t!=null,"spec.type must be defined"),t},[o])}function zi(o,t,e){const n=$t(),r=Xi(o,t,e),i=Fi(o);Ut(function(){if(i!=null){const[s,c]=Ri(i,r,n);return t.receiveHandlerId(s),e.receiveHandlerId(s),c}},[n,t,e,r,i])}function Xr(o,t){const e=Yr(o,t);Yt(!e.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=Yi(),r=Bi(e.options,e.previewOptions);return zi(e,n,r),[Br(e.collect,n,r),Mi(r),Pi(r)]}function Fr(o){const e=$t().getMonitor(),[n,r]=Hr(e,o);return m.useEffect(()=>e.subscribeToOffsetChange(r)),m.useEffect(()=>e.subscribeToStateChange(r)),n}function ji(o){return m.useMemo(()=>o.hooks.dropTarget(),[o])}function Ui(o){const t=$t(),e=m.useMemo(()=>new Hi(t.getBackend()),[t]);return Ut(()=>(e.dropTargetOptions=o||null,e.reconnect(),()=>e.disconnectDropTarget()),[o]),e}function Gi(){const o=$t();return m.useMemo(()=>new Ni(o),[o])}function Ki(o){const{accept:t}=o;return m.useMemo(()=>(Yt(o.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class Vi{canDrop(){const t=this.spec,e=this.monitor;return t.canDrop?t.canDrop(e.getItem(),e):!0}hover(){const t=this.spec,e=this.monitor;t.hover&&t.hover(e.getItem(),e)}drop(){const t=this.spec,e=this.monitor;if(t.drop)return t.drop(e.getItem(),e)}constructor(t,e){this.spec=t,this.monitor=e}}function qi(o,t){const e=m.useMemo(()=>new Vi(o,t),[t]);return m.useEffect(()=>{e.spec=o},[o]),e}function Zi(o,t,e){const n=$t(),r=qi(o,t),i=Ki(o);Ut(function(){const[s,c]=ki(i,r,n);return t.receiveHandlerId(s),e.receiveHandlerId(s),c},[n,t,r,e,i.map(a=>a.toString()).join("|")])}function zr(o,t){const e=Yr(o,t),n=Gi(),r=Ui(e.options);return Zi(e,n,r),[Br(e.collect,n,r),ji(r)]}const Ji=o=>o.sort((t,e)=>t.y<e.y?-1:t.y>e.y?1:0),Qi=o=>o.sort((t,e)=>{if(t.y<e.y)return-1;if(t.y>e.y)return 1;if(t.y===e.y){if(t.x>e.x)return 1;if(t.x<e.x)return-1}return 0}),Ie=o=>{const{x:t,y:e,w:n,h:r}=o;return{left:t,right:t+n,top:e,bottom:e+r}},ta=(o,t)=>{const e=Ie(o),n=Ie(t);return!(n.left>=e.right||n.right<=e.left||n.top>=e.bottom||n.bottom<=e.top)},ea=(o,t)=>{const e=Ie(o),n=Ie(t);return(n.left<=e.right||n.right>=e.left)&&n.bottom===e.top},na=(o,t)=>{let e=t.filter(i=>i.displayName!==o.displayName),n=new Map,r=[];for(r.push(o);r.length!==0;){let i=r.length;e=e.filter(s=>s.displayName!==r[0].displayName);const a=new Set;for(let s=0;s<i;s++){let c=r.shift();for(let l=0;l<e.length;l++)if(e[l].displayName!==c.displayName&&ta(e[l],c)){e[l]={...e[l],y:c.y+c.h},a.add(e[l].displayName),n.set(e[l].displayName,e[l]);const d=r.findIndex(u=>u.displayName===e[l].displayName);d>-1?r.splice(d,1,e[l]):r.push(e[l])}}}return n},ra=(o,t)=>{let e=t.filter(i=>i.displayName!==o.displayName),n=new Map,r=[];for(r.push(o);r.length!==0;){let i=r.length;e=e.filter(s=>s.displayName!==r[0].displayName);const a=new Set;for(let s=0;s<i;s++){let c=r.shift();for(let l=0;l<e.length;l++)if(e[l].displayName!==c.displayName&&ea(e[l],c)){a.add(e[l].displayName),n.set(e[l].displayName,e[l]);const d=r.findIndex(u=>u.displayName===e[l].displayName);d>-1?r.splice(d,1,e[l]):r.push(e[l])}}}return n},oa=(o,t)=>t.map(e=>o.has(e.displayName)?o.get(e.displayName):e),Kl=(o,t,e=!0)=>{const n=Qi(t),r=na(o,n);let i=oa(r,n);return e&&(i=i.filter(a=>a.displayName!==o.displayName)),{effectResultMap:r,finalState:i}},Vl=(o,t)=>{const e=Ji(t);return ra(o,e)};function ia(o,t,e,n,r){let i=Math.floor(o/e);i=Math.min(i,r);let a=Math.floor(t/n);return[i,a]}const aa=M`
  width: 100%;
  height: 100%;
  background-color: ${V("red","08")};
  overflow: auto;
`,sa=M`
  display: flex;
  align-items: center;
  gap: 4px;
  color: ${V("red","03")};
  font-size: 14px;
  font-weight: 600;
`,ca=M`
  color: ${V("red","03")};
  font-size: 12px;
  line-height: 16px;
`,la=()=>et("div",{css:aa,children:[et("div",{css:sa,children:[y($o,{size:"12px"}),y("span",{children:"Error"})]}),y("div",{css:ca,children:"Configuration error, please modify"})]});class jr extends m.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(){this.setState({hasError:!0})}render(){return this.state.hasError?this.props.fallback:this.props.children}}Ft(jr,"defaultProps",{fallback:y(la,{})});const ua=3,Rn=m.memo(o=>{const{columnNumber:t,displayName:e,widgetType:n,parentNodeDisplayName:r}=o,i=N(Oe),a=N(O=>dt(O)[e].layoutInfo),s=ht(e),c=m.useMemo(()=>i[e]??{},[e,i]),l=yt(),d=N(Cr),u=N(Ae),f=m.useMemo(()=>{const O=Object.keys(d);let H="";for(let U=0;U<O.length;U++)if(d[O[U]].includes(e)){H=O[U];break}return H},[d,e]),p=m.useMemo(()=>{const H=i[f];return Ue(H)&&H.hasOwnProperty("disabled")&&H.disabled!=null?H.disabled:c==null?void 0:c.disabled},[i,f,c==null?void 0:c.disabled]),h=m.useCallback(O=>{Ge.addRuntimeProp(e,O)},[e]),g=m.useCallback(()=>{Ge.deleteRuntimeProp(e)},[e]),{dynamicHeight:v="fixed",dynamicMinHeight:C,dynamicMaxHeight:x}=c,S=m.useCallback(O=>{var z;if(u)return;const H=G.getState(),K=((z=dt(H)[e])==null?void 0:z.layoutInfo.h)??0;v!=="fixed"&&(x&&O>x-(Vt+ne)*2&&(O=x-(Vt+ne)*2),C&&O<=C-(Vt+ne)*2&&(O=C-(Vt+ne)*2));const q=Math.max(Math.ceil((O+(Vt+ne)*2)/B),ua);q!==K&&l(Sr.updateWidgetLayoutInfoReducer({displayName:e,layoutInfo:{h:q},parentNode:r,effectRows:q-K}))},[l,e,v,x,C,u,r]),w=m.useCallback(O=>{l(Xn.updateExecutionByDisplayNameReducer({displayName:e,value:O}))},[l,e]),_=m.useCallback(O=>{l(Xn.updateExecutionByMultiDisplayNameReducer(O))},[l]),D=m.useCallback((O,H)=>{Ue(O)&&l(Dt.updateComponentPropsReducer({displayName:e,updateSlice:O,notUseUndoRedo:H}))},[l,e]),b=m.useCallback((O,H,U)=>{!O||!Ue(H)||l(Dt.updateComponentPropsReducer({displayName:O,updateSlice:H,notUseUndoRedo:U}))},[l]),P=m.useCallback((O,H,U)=>{const K=mt(s.props,H,[]),q=mt(s.props,"$dynamicAttrPaths",[]),z=In(K).filter(X=>X.eventType===O).map(X=>({...X,originEnable:X.enabled})),j=Ge.getCurrentPageCalcContext(U);return{dynamicPaths:q,needRunEvents:z,finalContext:j}},[s==null?void 0:s.props]),E=m.useCallback((O,H="events",U,K)=>{const{dynamicPaths:q,needRunEvents:z,finalContext:j}=P(O,H,U);q==null||q.forEach(X=>{const rt=Ke(K)?K(X):St(ue(X).slice(1)),vt=mt(z,rt,"");if(vt)try{const ct=Fn(`events${rt}`,vt,j);f?qt(z,rt,Array.isArray(ct)?ct[0]:ct):qt(z,rt,ct)}catch{qt(z,rt,void 0)}}),z.forEach(X=>{zn(X,j)})},[P,f]),R=m.useCallback((O,H="events",U,K,q)=>{const{dynamicPaths:z,needRunEvents:j,finalContext:X}=P(O,H);z==null||z.forEach(rt=>{const vt=Ke(K)?K(rt):St(ue(rt).slice(2)),ct=mt(j,vt,"");if(ct)try{const Z=Fn(`events${vt}`,ct,X);let A=Z;f&&(A=Array.isArray(Z)?Z[0]:Z),Array.isArray(Z)&&bi(U)&&(!Ke(q)||q(ct,Z))&&(A=Z[U]),qt(j,vt,A)}catch{qt(j,vt,void 0)}}),j.forEach(rt=>{zn(rt,X)})},[P,f]),L=wr(n);if(!L)return null;const T=L.widget,{hidden:k,borderColor:Y,backgroundColor:F,radius:I,borderWidth:$,shadow:W}=c,tt=isNaN(Number(I))?I==null?void 0:I.toString():I+"px",nt=isNaN(Number($))?$==null?void 0:$.toString():$+"px";return y(jr,{children:k?null:y("div",{css:Di(Y,nt,tt,F,W,n),id:e,children:y(m.Suspense,{fallback:y(Xo,{animation:!0,text:!1,image:{shape:"square",w:"100%",h:"100%",mr:"0 !important"},h:"100%",w:"100%"}),children:y(T,{...c,h:a.h,w:a.w,columnNumber:t,handleUpdateOriginalDSLMultiAttr:D,handleUpdateOriginalDSLOtherMultiAttr:b,handleUpdateDsl:w,updateComponentHeight:S,handleUpdateMultiExecutionResult:_,displayName:e,childrenNode:s.childrenNode,componentNode:s,disabled:p,triggerEventHandler:E,triggerMappedEventHandler:R,updateComponentRuntimeProps:h,deleteComponentRuntimeProps:g})})})})});Rn.displayName="TransformWidgetWrapper";const da=o=>o.currentApp.collaborators.components,fa=(o,t,e)=>{const n=o[t];return n?n.filter(r=>r.id!==e):[]},Ur=o=>o.currentApp.dragShadow,pa=_n([Ur],o=>Object.values(o)),ha=_n([Ur],o=>Object.keys(o).map(t=>{if(o[t].length>0)return o[t][0]})),Jt=vr();async function ga(o){const t=Dr(G.getState()),e=Fo(o,["displayName","actionID"]),n=oe.generateDisplayName(o.actionType==="globalData"?"state":o.actionType),r={...e,displayName:n};if(o.actionType==="globalData"){G.dispatch(Dt.setGlobalStateReducer({key:r.displayName,value:r.content.initialValue,oldKey:""}));return}if(t){const i={...r,actionID:zo()};G.dispatch(ce.addActionItemReducer(i)),Jt.success({content:It.t("editor.action.action_list.message.success_created")});return}try{const i=await ni(r);Jt.success({content:It.t("editor.action.action_list.message.success_created")}),G.dispatch(ce.addActionItemReducer(i.data))}catch(i){xr(i)?(Jt.error({content:It.t("editor.action.action_list.message.failed")}),oe.removeDisplayName(n)):oe.removeDisplayName(n)}}async function ql(o){const t=Dr(G.getState()),{actionID:e,displayName:n}=o;if(t){G.dispatch(J.resetSelectedActionReducer(n)),G.dispatch(ce.removeActionItemReducer({actionID:e,displayName:n})),Jt.success({content:It.t("editor.action.action_list.message.success_deleted")});return}try{await ei(e),G.dispatch(J.resetSelectedActionReducer(n)),G.dispatch(ce.removeActionItemReducer({actionID:e,displayName:n})),Jt.success({content:It.t("editor.action.action_list.message.success_deleted")})}catch(r){xr(r)&&Jt.error({content:It.t("editor.action.action_list.message.failed")})}}var bt=(o=>(o.ADD="ADD",o.UPDATE="UPDATE",o))(bt||{});const On=new Map,va=(o,t)=>{On.set(o,t)},ma=o=>{On.delete(o)},Gr=o=>On.get(o),xe=(o,t)=>o.y<t.y+t.h&&o.y+o.h>t.y&&o.x<t.x+t.w&&o.x+o.w>t.x,ya=(o,t)=>o.y<t.y+t.h&&o.y+o.h>t.y,ye=(o,t,e)=>_t.getSnapShotArrayByParentDisplayName(o).filter(i=>!e.includes(i.displayName)).filter(i=>xe(t,i.layoutInfo)),qn=(o,t)=>{if(o.layoutInfo.y<t.layoutInfo.y)return-1;if(o.layoutInfo.y>t.layoutInfo.y)return 1;if(o.layoutInfo.y===t.layoutInfo.y){if(o.layoutInfo.x>t.layoutInfo.x)return 1;if(o.layoutInfo.x<t.layoutInfo.x)return-1}return 0},Ca=(o,t,e,n)=>{var l;const r=n||_t.getSnapShotArrayByParentDisplayName(t),i=r.filter(d=>!e.includes(d.displayName)),a=[...e],c=i.sort(qn).filter(d=>xe(o,d.layoutInfo));if(c.length>0){const d=[{compareNode:{displayName:"root",...o},crossingWidgetInfos:c}],u=new Map;for(;d.length>0;){const f=d.shift();if(f){const{compareNode:p,crossingWidgetInfos:h}=f;a.push(p.displayName),u.get(p.displayName)&&(p.y=((l=u.get(p.displayName))==null?void 0:l.layoutInfo.y)??0),h.forEach(g=>{if(xe(p,g.layoutInfo)){const v={...g,layoutInfo:{...g.layoutInfo,y:p.y+p.h}};u.set(g.displayName,v)}}),h.forEach(g=>{const v=u.get(g.displayName),x=r.filter(S=>![...a,v.displayName].includes(S.displayName)).filter(S=>{var _;const w={...S.layoutInfo};return u.get(S.displayName)&&(w.y=((_=u.get(S.displayName))==null?void 0:_.layoutInfo.y)??0),xe(v.layoutInfo,w)}).map(S=>{var _;const w={...S.layoutInfo};return u.get(S.displayName)&&(w.y=((_=u.get(S.displayName))==null?void 0:_.layoutInfo.y)??0),{...S,layoutInfo:w}}).sort(qn);if(x.length>0){const S=d.findIndex(w=>w.compareNode.displayName===v.displayName);S!==-1&&d.splice(S,1),d.push({compareNode:{displayName:v.displayName,x:v.layoutInfo.x,y:v.layoutInfo.y,w:v.layoutInfo.w,h:v.layoutInfo.h},crossingWidgetInfos:x})}})}}return u}},Sa=(o,t,e,n,r,i=!1)=>{if(t<0||e<0)return;const a=br.state.matches[0].params.appId,s=Mn(G.getState());if(!a||!s.userID)return;const c=Le.getBinaryRoom("app",a),l=Er(_r.MOVE_CURSOR,Ir.CURSOR,!0,s.userID,s.nickname,i?-1:1,o,"",t,e,n,r,0,0,0,0);c==null||c.send(l)},_e=Nn(Sa,50,{leading:!0,trailing:!0}),wa=(o,t,e,n,r,i,a,s,c,l,d)=>{if(n<0||r<0||s<0||c<0||l<0||d<0)return;const u=br.state.matches[0].params.appId,f=Mn(G.getState());if(!u||!f.userID)return;const p=Le.getBinaryRoom("app",u),h=Er(_r.MOVE_STATE,Ir.COMPONENTS,!0,f.userID,f.nickname,o,t,e.join(","),n,r,i,a,s,c,l,d);p==null||p.send(h)},We=Nn(wa,50,{leading:!0,trailing:!0}),Da=(o,t,e)=>{const n=o??{x:0,y:0},r=t??{x:0,y:0},i=(r.x-n.x)/e,a=(r.y-n.y)/B;return{xRatio:i,yRatio:a}},He=o=>{const t=o.map(u=>u.x),e=o.map(u=>u.y),n=o.map(u=>u.x+u.w),r=o.map(u=>u.y+u.h),i=Math.min(...t),a=Math.min(...e),s=Math.max(...n),c=Math.max(...r),l=s-i,d=c-a;return{x:i,y:a,w:l,h:d}},xa=o=>{let t=0;const e=Gr(o);return e&&e.current?e.current.scrollTop:t},ba=o=>{const t=Gr(o);return t&&t.current?t.current.getBoundingClientRect().top:0},Ea=(o,t,e,n,r,i,a,s=0,c=0,l=1,d=le)=>{const{xRatio:u,yRatio:f}=Da(o,t,n),p=e??{x:0,y:0},h=p.x-i,g=p.y+a-r,v=h/n,C=g/B,x=u*l*n+p.x-i,w=(f*B+p.y+a-r)/B,_=x/n,D=Math.min(Math.round(_),d-1)-c,b=Math.round(w)-s,P=w%1>=.5,E=Et(Math.floor(v),0,d-1),R=Math.round(C),L=C%1>=.5;return{widgetY:b,widgetX:D,mouseHoveredTopHalf:P,mouseRealY:R,mouseRealX:E,mouseRealTopHalf:L}},Zn=(o,t,e,n=t)=>{let r=t,i=e;return o.forEach(a=>{const s=a.layoutInfo.x,c=a.layoutInfo.x+a.layoutInfo.w;s<=n&&(r=Math.max(r,c)),c>n&&(i=Math.min(i,s))}),{leftLimit:r,rightLimit:i}},Ia=(o,t,e,n=t.y,r=t.x,i=!0,a=zt)=>{var R,L;const{h:s,w:c,x:l,y:d}=t;let u=d;const f={...t,h:n-u,x:r,w:1},p=ye(o,f,e).filter(T=>T.layoutInfo.y<=n).map(T=>T.layoutInfo.y+T.layoutInfo.h);if(p.length>0){const T=Math.max(...p);T&&(u=Math.min(T,n),i=!1)}let h={...t,y:u,h:1};a===1&&(h={...h,w:1,x:r});const g=ye(o,h,e),{leftLimit:v,rightLimit:C}=Zn(g,t.x,t.x+t.w,r);if(C-v<a){i=!0;const T=g.reduce((Y,F)=>{var I,$;return(((I=F==null?void 0:F.layoutInfo)==null?void 0:I.y)??0)<(($=Y==null?void 0:Y.layoutInfo)==null?void 0:$.y)?F:Y}).layoutInfo.y,k=Math.max(...g.map(Y=>Y.layoutInfo.y+Y.layoutInfo.h));T!=null&&k!=null&&(u=n-T<k-n?T:k)}const S={...t,h:i?0:1,y:u},w=ye(o,S,e);let _=l,D=c;if(w.length>0){const{leftLimit:T,rightLimit:k}=Zn(w,t.x,t.x+t.w,r);if(k-T<a)return null;T!==t.x&&T>l&&(_=T,D-=T-l),k!==t.x+t.w&&k<_+D&&(D=k-_)}const b={...t,x:_,w:D,y:u},P=ye(o,b,e);let E=s;return P.length>0&&(E=(L=(R=P.reduce((T,k)=>{var Y,F;return((Y=k==null?void 0:k.layoutInfo)==null?void 0:Y.y)<((F=T==null?void 0:T.layoutInfo)==null?void 0:F.y)?k:T}))==null?void 0:R.layoutInfo)==null?void 0:L.y),{y:u,x:_,w:D,previewH:P.length>0?E-u>0?s:0:E}},Me=(o,t,e)=>{const{x:n,w:r,y:i,h:a}=o;if(e){const d=Et(r,1,t),u=Et(n,0,t-d),f=Math.max(i,0);return{x:u,w:d,y:f,previewH:a}}const s=Et(n,0,t),c=Et(r,1,t-s),l=Math.max(i,0);return{x:s,w:c,y:l,previewH:a}},_a=(o,t,e,n,r=1)=>{const i=Math.round(o*t/e);return Et(i,r,n)},Kr=o=>{if(o.length<=1)return!0;const t=o.sort((e,n)=>e.y<n.y?-1:e.y>n.y?1:0);for(let e=0;e<t.length;e++)for(let n=e+1;n<t.length;n++)if(ya(t[e],t[n]))return!1;return!0},Ma=(o,t,e,n)=>{const{initialClientOffset:r,initialSourceClientOffset:i,clientOffset:a,item:s}=e;if(!s)return null;const c=document.querySelector(`[data-outer-canvas-container="${o}"]`),l=window.getComputedStyle(c),d=parseFloat(l.getPropertyValue("padding-left")),u=c.getBoundingClientRect().left+d,f=ba(o),{draggedComponents:p,draggedDisplayName:h,alignTop:g,dragEffect:v,unitWWhenDragged:C,columnNumberWhenDragged:x}=s,S=xa(o),w=Kr(p.map(W=>W.layoutInfo)),_=p.map(W=>W.displayName),D=He(p.map(W=>W.layoutInfo)),b=p.find(W=>W.displayName===h);if(!b)return null;let P=o!==p[0].parentNode?bt.ADD:v;const E=b.layoutInfo.y-D.y,R=b.layoutInfo.x-D.x,L=v===bt.ADD||_.length>1?D.w:_a(D.w,C,t,n),T=Ea(r,i,a,t,f,u,S,E,R,1,n),k={y:g||P===bt.ADD?T.mouseRealY-D.y:T.widgetY-D.y,x:P===bt.ADD?T.mouseRealX-D.x:T.widgetX-D.x},Y=g||P===bt.ADD?T.mouseRealTopHalf:T.mouseHoveredTopHalf,F={...D,x:D.x+k.x,y:D.y+k.y,w:L},I=Ia(o,F,_,T.mouseRealY,T.mouseRealX,Y,_.length>1?F.w:1),$={y:((I==null?void 0:I.y)??0)-D.y,x:((I==null?void 0:I.x)??0)-D.x};if(p.length===1&&T.mouseRealY<=D.y+$.y&&(s.alignTop=!0),p.length>1&&(s.alignTop=s.alignTop||T.mouseRealY<=$.y+D.y),I){We(1,o,_,Math.floor(I.w/2/t),Math.floor(I.previewH/2/B),I.w/2/t-Math.floor(I.w/2/t),I.previewH/2/B-Math.floor(I.previewH/2/B),I.x,I.y,I.w,I.previewH);const W=Me({...I,h:I.previewH},n,p.length>1);return p.length>1&&n!==x&&!w?(s.dropResult={shape:void 0,canDrop:!1,columnNumberWhenDrag:x,columnNumberWhenDrop:n},{shape:W,canDrop:!1}):(s.dropResult={shape:W,canDrop:!0,columnNumberWhenDrag:x,columnNumberWhenDrop:n},{shape:W,canDrop:!0})}else return null};class Ot{static switchFocus(t,e){this.currentFocus=t,this.currentClickPosition=e}static getClickPosition(){return this.currentClickPosition}static getFocus(){return this.currentFocus}}Ft(Ot,"currentFocus","none"),Ft(Ot,"currentClickPosition");const Pa=(o,t,e,n,r="displayName")=>{const i=[],a=[];return Object.keys(o).forEach(s=>{const c=ue(s);(r==="displayName"&&e===c[0]||r==="globalDataKey"&&e===c[1])&&o[s].forEach(d=>{const u=ue(d),f=u[0]===e?n:u[0],p=[...u];p.splice(0,1,f);const h=St(p),g=mt(t,h);if(Tr(g)){const v=g.replace(e,n),C=St(u.slice(1)),x=t[f];ii(x)&&a.push({displayName:f,actionID:x.$actionID,propsSlice:{[C]:v}}),ai(x)&&i.push({displayName:f,propsSlice:{[C]:v}})}})}),{updateWidgetSlice:i,updateActionSlice:a}},Je=(o,t,e,n)=>{const r={};return o.forEach((i,a)=>{if(i.widgetID===t){const s=St([n,a,"widgetID"]);r[s]=e}if(i.queryID===t){const s=St([n,a,"queryID"]);r[s]=e}if(i.stateDisplayName===t){const s=St([n,a,"stateDisplayName"]);r[s]=e}if(i.actionType===si.SET_ROUTER){if(i.pagePath===t){const s=St([n,a,"pagePath"]);r[s]=e}if(i.viewPath===t){const s=St([n,a,"viewPath"]);r[s]=e}}}),r},Ta=(o,t,e,n)=>{const r=[],i=[];return e.forEach(a=>{const{content:s}=a,{successEvent:c,failedEvent:l}=s;if(Array.isArray(c)){const u=Je(c,o,t,"content.successEvent");i.push({displayName:a.displayName,actionID:a.actionID,propsSlice:u})}if(Array.isArray(l)){const u=Je(l,o,t,"content.failedEvent");i.push({displayName:a.displayName,actionID:a.actionID,propsSlice:u})}}),Object.values(n).forEach(a=>{const{props:s}=a;if(Array.isArray(s==null?void 0:s.events)){const c="events",l=Je(s.events,o,t,c);r.push({displayName:a.displayName,propsSlice:l})}}),{updateWidgetSlice:r,updateActionSlice:i}},Na=(o,t)=>{const e={};o.forEach(r=>{const{displayName:i}=r;e[i]?e[i].propsSlice={...e[i].propsSlice,...r.propsSlice}:e[i]=r});const n={};return t.forEach(r=>{const{displayName:i}=r;n[i]?n[i].propsSlice={...n[i].propsSlice,...r.propsSlice}:n[i]=r}),{updateWidgetSlice:Object.values(e),updateActionSlice:Object.values(n)}},Zl=(o,t,e,n="displayName")=>{const r=o.getState(),i=Mr(r),a=Pr(r),{updateActionSlice:s,updateWidgetSlice:c}=Pa(i,a,t,e,n),{updateActionSlice:l,updateWidgetSlice:d}=Ta(t,e,oi(r),ri(r)),u=s.concat(...l),f=c.concat(...d),{updateActionSlice:p,updateWidgetSlice:h}=Na(f,u);o.dispatch(Dt.batchUpdateMultiComponentSlicePropsReducer(h)),o.dispatch(ce.batchUpdateMultiActionSlicePropsReducer(p))},ka=(o,t)=>{const e=G.getState(),n=Mr(e),r=Pr(e),i={};return Object.keys(n).forEach(a=>{n[a].forEach(c=>{const l=ue(c);if(l[0]!==o)return;const u=[...l],f=St(u),p=mt(r,f);if(Tr(p)){const h=p.replace(o,t),g=St(l.slice(1));i[g]=h}})}),i},Ra=o=>{const t=He(o);return o.map(e=>({...e,x:e.x-t.x,y:e.y-t.y}))},Oa=(o,t)=>{const e=Ra(o),n=He(o),r=Me(n,t,o.length>1),i=o.length<=1;return e.map(a=>({...a,x:a.x+r.x,y:a.y+r.y,w:i?r.w:a.w})).map(a=>{const s=Me(a,t,o.length>1);return{...a,x:s.x,y:s.y,w:s.w}})},be=vr(),Qe=(o,t=le,e=le,n)=>{if(e!==t&&!Kr(o)){be.error({content:It.t("frame.message.session.error")});return}const r=Oa(o,e),i=r.map(a=>a.type);Qt(te.DUPLICATE,{element:"component",parameter1:i,parameter3:n}),G.dispatch(Dt.addComponentReducer(r))};class ie{static copyActionByActionID(t){const n=ci(G.getState()).find(r=>r.actionID===t);n?this.currentCopyAction=n:this.currentCopyAction=null}static copyComponentNodeByDisplayName(t){if(t.length>0){const e=dt(G.getState());_t.setSnapshot(e);const n=ve(t[0]);this.currentCopyComponentNodes=t.map(r=>ht(r)),this.copiedColumnNumber=n}}static paste(t){const e=dt(G.getState());switch(_t.setSnapshot(e),Ot.getFocus()){case"data_action":case"action":this.currentCopyAction!=null&&ga(this.currentCopyAction);break;case"data_component":case"canvas":if(this.currentCopyComponentNodes!=null){const n=Ot.getClickPosition(),r=this.currentCopyComponentNodes.filter(s=>s.type==="MODAL_WIDGET").map(s=>{const c=ht(s.parentNode);return this.copyComponent(Pt(s.displayName),c.displayName,s.x,s.y)}),i=this.currentCopyComponentNodes.filter(s=>s.type!=="MODAL_WIDGET").map(s=>{const c=e[s.displayName];return{...s,x:c.layoutInfo.x,y:c.layoutInfo.y,w:c.layoutInfo.w,h:c.layoutInfo.h}}),a=[...r];if(n)switch(n.type){case"component":let s=ht(n.displayName);if(s){const d=e[s.displayName];s={...s,x:d.layoutInfo.x,y:d.layoutInfo.y,w:d.layoutInfo.w,h:d.layoutInfo.h}}if(s&&s.parentNode){const d=ve(s.displayName);switch(s.type){case"FORM_WIDGET":case"MODAL_WIDGET":{const u=ht(s.childrenNode[1]);if(u){let f=0;a.push(...i.map(p=>{const h=this.copyComponent(Pt(p.displayName),u.displayName,0,f);return f+=p.h,h}))}break}case"CONTAINER_WIDGET":{const u=li(G.getState()).result,{currentIndex:f}=u[s.displayName],p=ht(s.childrenNode[f]);if(p){let h=0;a.push(...i.map(g=>{const v=this.copyComponent(Pt(g.displayName),p.displayName,0,h);return h+=g.h,v}))}break}case"LIST_WIDGET":case"GRID_LIST_WIDGET":{const u=ht(s.childrenNode[0]);if(u){let f=0;a.push(...i.map(p=>{const h=this.copyComponent(Pt(p.displayName),u.displayName,0,f);return f+=p.h,h}))}break}default:{const u=ht(s.parentNode);if(u){let f=Number.MAX_SAFE_INTEGER,p=Number.MAX_SAFE_INTEGER;i.forEach(h=>{f=Math.min(f,h.x),p=Math.min(p,h.y)}),a.push(...i.map(h=>this.copyComponent(Pt(h.displayName),u.displayName,s.x+h.x-f,s.y+s.h+h.y-p)))}}}Qe(a,this.copiedColumnNumber,d,t)}else be.normal({content:It.t("frame.paste_no_aimed")});break;case"inner_container":if(n.clickPosition.length!==2){be.normal({content:It.t("frame.paste_no_aimed")});return}const c=ht(n.displayName);if(c){const d=ve(c.displayName);let u=Number.MAX_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER;this.currentCopyComponentNodes.forEach(h=>{u=Math.min(u,h.x),f=Math.min(f,h.y)});const p=this.currentCopyComponentNodes.map(h=>{const g=e[h.displayName],v={...h,x:g.layoutInfo.x,y:g.layoutInfo.y,w:g.layoutInfo.w,h:g.layoutInfo.h};if(v.type==="MODAL_WIDGET"){const C=ht(v.parentNode);return this.copyComponent(Pt(v.displayName),C.displayName,v.x,v.y)}return this.copyComponent(Pt(v.displayName),c.displayName,n.clickPosition[0]+v.x-u,n.clickPosition[1]+v.y-f)});Qe(p,this.copiedColumnNumber,d,t)}else be.normal({content:It.t("frame.paste_no_aimed")});break;case"group":const l=ht(n.displayName);if(l){const d=ve(l.displayName);let u=Number.MAX_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER;this.currentCopyComponentNodes.forEach(h=>{u=Math.min(u,h.x),f=Math.min(f,h.y)});const p=this.currentCopyComponentNodes.map(h=>{const g=e[h.displayName],v={...h,x:g.layoutInfo.x,y:g.layoutInfo.y,w:g.layoutInfo.w,h:g.layoutInfo.h};if(v.type==="MODAL_WIDGET"){const C=ht(v.parentNode);return this.copyComponent(Pt(v.displayName),C.displayName,v.x,v.y)}return this.copyComponent(Pt(v.displayName),l.displayName,n.clickPosition[0]+v.x-u,n.clickPosition[1]+n.clickPosition[3]+v.y-f)});Qe(p,this.copiedColumnNumber,d,t)}}}break}}static copyComponent(t,e,n,r){const i=oe.generateDisplayName(t.type,t.showName),a=ka(t.displayName,i),s=In({...t,props:t.props??{},displayName:i,x:n,y:r,w:t.w,h:t.h,parentNode:e});return Object.keys(a).forEach(c=>{qt(s,`props.${c}`,a[c])}),Array.isArray(t.childrenNode)&&(s.childrenNode=t.childrenNode.map(c=>this.copyComponent(c,s.displayName,c.x,c.y))),s}}Ft(ie,"currentCopyComponentNodes",null),Ft(ie,"copiedColumnNumber",le),Ft(ie,"currentCopyAction",null);const Vr=m.createContext({});Vr.displayName="ShortCutContext";const Aa=()=>{const t=("userAgentData"in navigator?navigator.userAgentData.platform:navigator.platform).toLocaleLowerCase();if(/(mac|iphone|ipod|ipad)/i.test(t))return"macOS";if(/(win)/i.test(t))return"Windows";if(/(linux)/i.test(t))return"Linux"},Jn=()=>Aa()==="macOS",qr=m.createContext({}),Jl=o=>{const{children:t}=o,e=m.useRef([]),n=yt(),r=c=>{e.current.push(c),e.current=Array.from(new Set(e.current));const l=[...e.current];n(J.updateHoveredComponent(l))},i=c=>{const l=e.current.indexOf(c);if(l===-1)return;e.current.splice(l,1);const d=[...e.current];n(J.updateHoveredComponent(d))},a=()=>{e.current=[],n(J.updateHoveredComponent([]))},s={hoveredWidgets:e.current,addHoverWidget:r,deleteHoverWidget:i,resetHoverWidget:a};return y(qr.Provider,{value:s,children:t})},La=()=>{const t=$t().getMonitor().isDragging(),e=yt(),n=m.useContext(qr);m.useEffect(()=>{t&&n.hoveredWidgets.length>0&&e(J.updateHoveredComponent([]))},[e,n.hoveredWidgets.length,t]);const r=m.useCallback(a=>{if(t)return;const s=a.currentTarget.getAttribute("data-displayname");s&&n.addHoverWidget(s)},[n,t]),i=m.useCallback(a=>{const s=a.currentTarget.getAttribute("data-displayname");s&&n.deleteHoverWidget(s)},[n]);return{handleMouseEnter:r,handleMouseLeave:i}};function Wa(o){G.dispatch(J.updateShowDot(!0));const t=o.map(e=>e.displayName);G.dispatch(J.setDraggingNodeIDsReducer(t))}function Ha(o,t,e=!1){G.dispatch(J.updateShowDot(!1));const n=o.map(r=>r.displayName);G.dispatch(J.setDraggingNodeIDsReducer([])),t&&(Ot.switchFocus("canvas",{displayName:n[0],type:"component",clickPosition:[]}),G.dispatch(J.updateSelectedComponent(n))),e&&!t&&oe.removeDisplayName(o[0].displayName)}const Ba=M`
  width: 100%;
  height: 100%;
`,Zr=o=>{const{children:t,displayName:e,canDrag:n=!0,columnNumber:r,unitWidth:i,parentNodeDisplayName:a}=o,s=N(Rt),c=N(Nr),l=N(At),[,d]=Xr(()=>({type:"components",canDrag:s&&n&&!c,end:(u,f)=>{const p=f.getDropResult();We(-1,"",[],0,0,0,0,0,0,0,0);const{draggedComponents:h}=u,g=h.map(v=>v.widgetType);Qt(te.DRAG,{element:"component",parameter1:g}),Ha(h,!!(p!=null&&p.isDropOnCanvas),!1)},item:()=>{const u=G.getState();let f=dt(u);_t.setSnapshot(f);let p=[],h=l;return h.includes(e)||(h=[e]),p=Object.values(f).filter(g=>h.includes(g.displayName)||g.displayName===e),Wa(p),_e(a,0,0,0,0,!0),{draggedComponents:p,dragEffect:bt.UPDATE,draggedDisplayName:e,columnNumberWhenDragged:r,unitWWhenDragged:i}}}),[s,c,l,e,i,r,n,a]);return y("div",{css:Ba,ref:d,children:t})},Ya=o=>m.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o},m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.5 5C6.22386 5 6 4.77614 6 4.5L6 2L3 2L3 10L9 10L9 5L6.5 5ZM10 4.5V5L10 10.5C10 10.7761 9.77614 11 9.5 11L2.5 11C2.22386 11 2 10.7761 2 10.5L2 1.5C2 1.22386 2.22386 1 2.5 1L6 1L6.5 1L7 1.5L9.5 4L10 4.5ZM8.08579 4L7 2.91421L7 4H8.08579ZM4 7V6L8 6V7L4 7ZM4 9H7V8L4 8V9Z",fill:"white"})),$a=(o,t)=>{const e=o>=3?32:14*o+4*(o-1);let n=M`
    margin-left: 8px;
  `;return t&&(n=M``),M`
    display: flex;
    ${n};
    gap: 4px;
    height: 16px;
    max-width: 50px;
    flex-shrink: 0;
    flex-grow: 1;
    justify-content: flex-start;
    align-self: center;
    overflow: hidden;
    align-items: center;
    min-width: ${e}px;
  `},Xa=M`
  width: 14px;
  height: 14px;
  line-height: 14px;
  text-align: center;
  border-radius: 50%;
  background-color: ${Nt(`--${kt}-white-06`)};
  color: ${Nt(`--${kt}-white-01`)};
  display: flex;
  flex-grow: 0;
  flex-shrink: 0;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  & > svg {
    width: 8px;
    height: 8px;
  }
`,Fa=M`
  width: 154px;
  padding: 16px;
  left: 14px;
  top: -1px;
  max-height: 234px;
  overflow: scroll;
  position: absolute;
  border-radius: 8px;
  box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.08);
  background-color: ${Nt(`--${kt}-white-01`)};
`,za=M`
  height: 24px;
  display: flex;
  color: ${Nt(`--${kt}-grayBlue-02`)};
  align-items: center;
  padding: 0;
  font-weight: 500;
  font-size: 12px;
  gap: 8px;
  flex: none;
  width: 100%;
  &:not(:last-child) {
    margin-bottom: 12px;
  }
`,ja=M`
  height: 22px;
  line-height: 22px;
  color: ${Nt(`--${kt}-grayBlue-02`)};
  margin-bottom: 12px;
  padding: 0;
  font-weight: 500;
  font-family: "PingFang SC";
  font-style: normal;
  font-size: 14px;
  width: 100%;
`,Ua=M`
  height: 20px;
  line-height: 20px;
  font-size: 12px;
  font-family: "Inter";
  font-style: normal;
  flex-grow: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,Ga=(o,t)=>(Object.keys(o)||[]).filter(n=>!t.includes(n)),Ka=o=>{var r;const t=G.getState().currentApp.appInfo.appId??"",{id:e="",uid:n=""}=kr(G.getState())??{};(r=Le.getTextRoom("app",t))==null||r.send(Rr(Ar.COOPERATE_ATTACH,Or.COMPONENTS,!0,{type:"attachComponent",payload:[]},e,n,o))},Jr=o=>{var r;const t=G.getState().currentApp.appInfo.appId??"",{id:e="",uid:n=""}=kr(G.getState())??{};(r=Le.getTextRoom("app",t))==null||r.send(Rr(Ar.COOPERATE_DISATTACH,Or.COMPONENTS,!0,{type:"attachComponent",payload:[]},e,n,o))},Ql=(o,t)=>{Ka(o);const e=Ga(t,o);e.length&&Jr(e)},tu=(o,t)=>{let e=t.getState().config.selectedComponents;Array.isArray(e)&&e.length>0&&(e=e.filter(n=>!o.payload.displayNames.includes(n))),t.dispatch(J.updateSelectedComponent(e)),Jr(o.payload.displayNames)},Va=14,qa=4,Za=34,Ja=50,Qa=70,Qr=({users:o,disableMargin:t,currentState:e,containerWidth:n})=>{const[r,i]=m.useState(!1),[a,s]=bn(),{t:c}=Gt(),l=o.length,{showMoreIcon:d,displayDataList:u}=m.useMemo(()=>{let p=!1,h=[];const g=o.length;return g<3?{showMoreIcon:!1,displayDataList:o}:e==="right"?n>Qa?{showMoreIcon:g!==3,displayDataList:g===3?o:o.slice(0,2)}:{showMoreIcon:!0,displayDataList:o.slice(0,1)}:e==="left"&&s.width<=Ja||t?{showMoreIcon:!0,displayDataList:o.slice(0,1)}:{showMoreIcon:p,displayDataList:h}},[s.width,n,e,t,o]),f=m.useMemo(()=>et(jt,{children:[u.map(({avatar:p,id:h,nickname:g},v)=>y(Kn,{userID:h,nickname:g,avatar:p,showType:"components",showTooltips:!0},v)),d&&y(mr,{trigger:"hover",content:et("div",{css:Fa,children:[y("div",{css:ja,children:c("editor.component.editor_list")}),o.map(({avatar:p,id:h,nickname:g},v)=>et("div",{css:za,children:[y(Kn,{userID:h,nickname:g,avatar:p,showType:"components",type:"list"},v),y("span",{css:Ua,children:g||""})]},v))]}),popupVisible:r,onVisibleChange:i,position:"bottom-start",showArrow:!1,withoutPadding:!0,colorScheme:"white",children:y("div",{css:Xa,children:y(jo,{})})})]}),[u,r,d,c,o]);return l?y("div",{css:$a(l,t),ref:a,children:f}):null};Qr.displayName="CollaboratorsList";const un=18,Qn=48,tr=12,ts=(o,t)=>{const e=N(Oe,(i,a)=>i===a),n=mt(e,o,{});return m.useMemo(()=>{if(t==="CONTAINER_WIDGET"&&n.hasOwnProperty("currentIndex")&&n.hasOwnProperty("viewList")){const{currentIndex:i,viewList:a}=n;if(!Array.isArray(a)||i>=a.length)return o+" / View 1";const s=a[i]?a[i].label:i;return o+" / "+s}return o},[o,n,t])},es=M`
  margin-left: 4px;
`,ns=(o,t,e,n,r)=>{let i=M`
    border-radius: 4px 4px 0 0;
  `;const a=e?Nt(`--${kt}-red-03`):Nt(`--${kt}-techPurple-03`);return M`
    height: ${un}px;
    padding: 1px 4px 1px 0;
    background-color: ${a};
    ${i};
    display: flex;
    position: absolute;
    top: ${r}px;
    left: 0;
    align-items: center;
    font-size: 12px;
    color: #fff;
    max-width: ${o}px;
    min-width: ${t}px;
    visibility: ${n?"hidden":"visible"};
    z-index: 100;
    cursor: move;
  `},rs=M`
  display: flex;
  min-width: 12px;
  flex-grow: 1;
  align-items: center;
`,os=M`
  width: 12px;
  height: 12px;
  flex: none;
`,is=M`
  overflow: hidden;
  text-overflow: ellipsis;
  line-height: 16px;
`,as=M`
  height: 100%;
  margin-left: 4px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
`,ss=M`
  width: 320px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  font-size: 14px;
  color: ${V("grayBlue","02")};
  word-break: break-all;
`,cs=o=>{const{t}=Gt();switch(o.widgetType){case"LIST_WIDGET":return y(mr,{content:et("div",{css:ss,children:[y("span",{children:t("widget.list.doc1")}),y("span",{children:t("widget.list.doc2")})]}),trigger:"hover",colorScheme:"white",position:"right-start",children:y("span",{css:as,children:y(Ya,{})})});default:return null}},ls=o=>{const{displayName:t,isError:e,maxWidth:n,widgetTop:r,widgetType:i,userList:a}=o,[s,c]=m.useState("right"),[l,d]=bn(),u=m.useRef(0),f=N(Pn),p=ts(t,i);m.useEffect(()=>{d.width>u.current&&s!=="right"&&c("right"),d.width<u.current&&s!=="left"&&c("left"),u.current=d.width},[d.width,s]);const h=r+Bt>=un?-un:0,g=a.length>=3?Qn:a.length*Va+(a.length||1-1)*qa+tr||tr,v=d.width<=(a.length>=2?Qn:Za);return et("div",{css:ns(n,g,e,f,h),id:"moveBar",ref:l,children:[et(jt,{children:[et("div",{css:rs,children:[y(Uo,{css:os}),y("span",{css:is,children:p})]}),y(Qr,{users:a,disableMargin:v,currentState:s,containerWidth:d.width})]}),e&&y(Go,{color:Nt(`--${kt}-white-05`),css:es}),y(cs,{widgetType:i})]})},us=(o,t,e,n)=>M`
  position: absolute;
  top: 0;
  left: 0;
  transform: translate(${o}px, ${t}px);
  pointer-events: ${e?"none":"auto"};
  display: ${e?"none":"block"};
  z-index: ${n?5:0};
`,ds=o=>{const{x:t,y:e,children:n,displayName:r}=o,i=N(At),s=N(ui).includes(r),c=m.useMemo(()=>i.some(l=>r===l),[r,i]);return y("div",{css:us(t,e,s,c),children:n})},fs=(o,t,e)=>{const n=Et(o.y,0,1/0),r=Et(o.h,t,1/0),i=Et(o.w,zt,e);return{x:Et(o.x,0,e-i),y:n,w:i,h:r}},Xt=(o,t)=>{const e=yt();return Xr(()=>({type:"resizeHandler",end:()=>{e(J.updateShowDot(!1))},item:()=>{const r=G.getState();let i=dt(r);return _t.setSnapshot(i),e(J.updateShowDot(!0)),e(J.setResizingNodeIDsReducer([t])),{barPosition:o,displayName:t}}}),[o,t])},eu=()=>{const o=N(Rt),t=yt(),e=m.useRef([]);return zr(()=>({accept:["resizeHandler"],canDrop:()=>o,hover:r=>{const{displayName:i}=r,s=_t.getSnapshot()[i],c=document.querySelector(`[data-scroll-container="${s.parentNode}"]`);c&&(c.dataset.isDraggingOver="true")},drop:r=>{const{displayName:i,dragResult:a}=r;if(!a)return;const c=_t.getSnapshot()[i];t(Dt.updateComponentLayoutInfoReducer({displayName:i,layoutInfo:{x:a.x,y:a.y,w:a.w,h:a.h===c.layoutInfo.h?void 0:a.h},parentNode:c.parentNode})),t(J.setResizingNodeIDsReducer([])),We(-1,"",[],0,0,0,0,0,0,0,0),Qt(te.DRAG,{element:"component",parameter1:c.widgetType}),e.current=[];const l=document.querySelector(`[data-scroll-container="${c.parentNode}"]`);l&&(l.dataset.isDraggingOver="false")}}),[o])},ps=o=>{const t=m.useRef([]),e=yt(),n=Fr(a=>({isDragging:a.isDragging(),item:a.getItem(),clientOffset:a.getClientOffset()})),r=m.useMemo(()=>Nn(a=>{const s=_t.getSnapshot(),c=s[a.displayName],l=Ca({x:a.layoutInfo.x,y:a.layoutInfo.y,w:a.layoutInfo.w,h:a.layoutInfo.h},a.parentNode,[a.displayName]),d=[{displayName:a.displayName,layoutInfo:a.layoutInfo.h===c.layoutInfo.h?{x:a.layoutInfo.x,y:a.layoutInfo.y,w:a.layoutInfo.w}:{x:a.layoutInfo.x,y:a.layoutInfo.y,w:a.layoutInfo.w,h:a.layoutInfo.h}}];for(let u=0;u<t.current.length;u++){const f=t.current[u];if(l&&l.has(f))continue;const p=s[f];p&&d.push({displayName:f,layoutInfo:{x:p.layoutInfo.x,y:p.layoutInfo.y,w:p.layoutInfo.w,h:p.layoutInfo.h}})}t.current=[],l&&l.size>0&&l.forEach(u=>{d.push({displayName:u.displayName,layoutInfo:{x:u.layoutInfo.x,y:u.layoutInfo.y,w:u.layoutInfo.w,h:u.layoutInfo.h}}),t.current=Array.from(new Set([...t.current,u.displayName]))}),e(Sr.batchUpdateWidgetLayoutInfoReducer(d))},16),[e]),i=m.useCallback((a,s)=>{const{barPosition:c,displayName:l}=s,u=_t.getSnapshot()[l];if(!a||!u)return;const f=u.parentNode;if(!f)return;const p=document.querySelector(`[data-canvas-container="${f}"]`),h=document.querySelector(`[data-scroll-container="${f}"]`);if(!p||!h)return;h.dataset.isDraggingOver="true";const g=Number(p.dataset.unitWidth);if(isNaN(g))return;const v=Number(p.dataset.columnNumber);if(isNaN(v))return;const C=p.getBoundingClientRect(),x=C.top,S=C.left,w=Math.round((a.y-x)/B),_=Math.round((a.x-S)/g),D=u.layoutInfo,b=_-(c.includes("l")?D.x:D.x+D.w),P=w-(c.includes("t")?D.y:D.y+D.h);let E=0,R=0;c.includes("t")&&(E=P,R=-P),!c.includes("t")&&c.includes("b")&&(R=P);let L=0,T=0;c.includes("l")&&(L=b,T=-b),!c.includes("l")&&c.includes("r")&&(T=b);const k={x:L,y:E,w:T,h:R},Y={...D,x:D.x+k.x,y:D.y+k.y,w:D.w+k.w,h:D.h+k.h},F=fs(Y,Y.minH,v),I={x:F.x-D.x,y:F.y-D.y,w:F.w-D.w,h:F.h-D.h};k.h&&k.h===-1*k.y&&(Math.abs(I.y)<Math.abs(I.h)?I.h=-1*I.y:I.y=-1*I.h),k.w&&(k.w===-1*k.x?Math.abs(I.x)<Math.abs(I.w)?I.w=-1*I.x:I.x=-1*I.w:k.x||(I.w+=I.x,I.x=0));const $={x:D.x+I.x,y:D.y+I.y,w:D.w+I.w,h:D.h+I.h},W={...u,layoutInfo:{...D,...$}};s.dragResult=$,We(2,f,[l],0,0,0,0,$.x,$.y,$.w,$.h),r(W)},[r]);o&&n.isDragging&&i(n.clientOffset??{x:0,y:0},n.item)},hs=o=>{let t;switch(o){case"t":t=M`
        left: 0;
        right: 0;
        margin: auto;
        height: 5px;
        width: 24px;
      `;break;case"b":t=M`
        left: 0;
        right: 0;
        margin: auto;
        height: 5px;
        width: 24px;
      `;break;case"l":t=M`
        bottom: 0;
        top: 0;
        margin: auto;
        width: 5px;
        height: 24px;
      `;break;case"r":t=M`
        bottom: 0;
        top: 0;
        margin: auto;
        width: 5px;
        height: 24px;
      `;break;default:t=M``}return M`
    ${t};
    box-sizing: border-box;
    position: absolute;
    border-radius: 2.5px;
    background-color: ${V("white","01")};
  `};function Be(o){let t;switch(o){case"t":t=M`
        top: -3px;
        left: 0;
        right: 0;
        height: 5px;
        cursor: row-resize;
      `;break;case"b":t=M`
        bottom: -3px;
        left: 0;
        right: 0;
        height: 5px;
        cursor: row-resize;
      `;break;case"l":t=M`
        bottom: 0;
        left: -3px;
        top: 0;
        width: 5px;
        cursor: col-resize;
      `;break;case"r":t=M`
        bottom: 0;
        right: -3px;
        top: 0;
        cursor: col-resize;
        width: 5px;
      `;break;default:t=M``}return M`
    ${t};
    position: absolute;
  `}function Ye(o,t=!1){let e=hs(o);const n=t?V("techPink","03"):V("techPurple","03");return M`
    ${e};
    border: 1px solid ${n};
    :hover {
      background-color: ${t?V("techPink","03"):V("techPurple","03")};
    }
    :active {
      background-color: ${t?V("techPink","03"):V("techPurple","03")};
    }
  `}function $e(o){let t;switch(o){case"tl":t=M`
        top: -3px;
        left: -3px;
        cursor: nwse-resize;
      `;break;case"tr":t=M`
        cursor: nesw-resize;
        top: -3px;
        right: -3px;
      `;break;case"bl":t=M`
        cursor: nesw-resize;
        bottom: -3px;
        left: -3px;
      `;break;case"br":t=M`
        cursor: nwse-resize;
        bottom: -3px;
        right: -3px;
      `;break;default:t=M``;break}return M`
    ${t};
    box-sizing: border-box;
    border: 1px solid ${V("techPurple","03")};
    height: 5px;
    width: 5px;
    position: absolute;
    background: ${V("white","01")};
    z-index: 150;
    &:active {
      background: ${V("techPurple","03")};
    }

    &:hover {
      background: ${V("techPurple","03")};
    }
  `}const to=m.memo(o=>{const{displayName:t}=o,[,e]=Xt("tl",t);return y("div",{css:$e("tl"),ref:e})});to.displayName="TopLeftResizeHandler";const eo=m.memo(o=>{const{displayName:t}=o,[,e]=Xt("tr",t);return y("div",{css:$e("tr"),ref:e})});eo.displayName="TopRightResizeHandler";const no=m.memo(o=>{const{displayName:t}=o,[,e]=Xt("bl",t);return y("div",{css:$e("bl"),ref:e})});no.displayName="BottomLeftResizeHandler";const ro=m.memo(o=>{const{displayName:t}=o,[,e]=Xt("br",t);return y("div",{css:$e("br"),ref:e})});ro.displayName="BottomRightResizeHandler";const oo=m.memo(o=>{const{displayName:t}=o,[,e]=Xt("t",t);return y("div",{css:Be("t"),ref:e,children:y("div",{className:"handler",css:Ye("t")})})});oo.displayName="TopResizeHandler";const io=m.memo(o=>{const{displayName:t}=o,[,e]=Xt("b",t);return y("div",{css:Be("b"),ref:e,children:y("div",{className:"handler",css:Ye("b")})})});io.displayName="BottomResizeHandler";const ao=m.memo(o=>{const{displayName:t}=o,[,e]=Xt("l",t);return y("div",{css:Be("l"),ref:e,children:y("div",{className:"handler",css:Ye("l")})})});ao.displayName="LeftResizeHandler";const so=m.memo(o=>{const{displayName:t}=o,[,e]=Xt("r",t);return y("div",{css:Be("r"),ref:e,children:y("div",{className:"handler",css:Ye("r")})})});so.displayName="RightResizeHandler";const co=o=>{const{resizeDirection:t,displayName:e}=o;return et("div",{className:"resize-handler-container",children:[t===gt.ALL&&y(to,{displayName:e}),t!==gt.HORIZONTAL&&y(oo,{displayName:e}),t===gt.ALL&&y(eo,{displayName:e}),t!==gt.VERTICAL&&y(ao,{displayName:e}),t!==gt.VERTICAL&&y(so,{displayName:e}),t===gt.ALL&&y(no,{displayName:e}),t!==gt.HORIZONTAL&&y(io,{displayName:e}),t===gt.ALL&&y(ro,{displayName:e})]})};co.displayName="ResizeHandler";const gs=m.memo(co),vs=(o,t)=>{const{width:e,height:n,minHeight:r,minWidth:i}=o,{isLikeProductionMode:a,isSelected:s,hasEditors:c,isHover:l,isDragging:d,shownDot:u}=t;return M`
    width: ${e}px;
    height: ${n}px;
    min-width: ${i}px;
    min-height: ${r}px;
    position: relative;
    ${di(a,s,c,l,d,u)}
  `},ms=M`
  background-color: rgba(101, 74, 236, 0.1);
  width: 100%;
  height: 100%;
`,ys=o=>{const{unitW:t,displayName:e,children:n,widgetHeight:r,widgetTop:i,widgetLeft:a,widgetWidth:s,widgetType:c,columnNumber:l,parentNodeDisplayName:d}=o,{t:u}=Gt(),f=m.useContext(Vr),h=N(ha).some(j=>{var X;return(X=j==null?void 0:j.displayNames)==null?void 0:X.includes(e)}),g=N(Rt),v=N(At),C=N(Oe),S=N(dt)[e],w=mt(C,e,{}),_=N(Lr),D=N(Ae),b=mt(w,"dynamicHeight","fixed")==="limited",P=m.useMemo(()=>v.some(j=>e===j),[e,v]),{handleMouseEnter:E,handleMouseLeave:R}=La(),L=yt(),T=N(fi),k=N(Tn),Y=m.useMemo(()=>{const j=Object.keys(k);return j.length>0&&j.some(X=>Array.isArray(k[X])&&k[X].length>0&&X.startsWith(e))},[e,k]),F=N(pi),I=F.includes(e),$=F.length>0,W=c!=="MODAL_WIDGET",tt=m.useMemo(()=>{var X,rt;return(w.resizeDirection??((rt=(X=wr(w.$widgetType))==null?void 0:X.config)==null?void 0:rt.resizeDirection))||gt.ALL},[w.$widgetType,w.resizeDirection]),nt=N(hi),O=nt[nt.length-1]===e,H=N(Pn),U=N(da),K=m.useMemo(()=>fa(U,e,T),[U,T,e]),q=j=>{const X=G.getState(),rt=Rt(X);if($||!rt)return;const vt=gi(X),ct=dt(X);if(Ot.switchFocus("canvas",{displayName:e,type:"component",clickPosition:[]}),j.stopPropagation(),Qt(te.SELECT,{element:"component",parameter1:"click"}),Jn()&&j.metaKey||j.shiftKey||!Jn()&&j.ctrlKey){let Z=In(v);const A=Z.findIndex(Q=>e===Q);A!==-1?Z.splice(A,1):Z.push(e);const lt=Z.map(Q=>vt[Q]);if(!lt.every(Q=>Q===lt[0]))return;if(Z.length>1){const Q=ct[Z[0]].parentNode;if(!Z.every(Ct=>ct[Ct].parentNode===Q)){const Ct=ct[Z[Z.length-1]].parentNode;Z=Z.filter(pt=>{const Fe=ct[pt].parentNode;return Ct===Fe})}}Z=Array.from(new Set(Z)),L(J.updateSelectedComponent(Z));return}L(J.updateSelectedComponent([e]))},z=m.useCallback(j=>{Ot.switchFocus("canvas",{displayName:e,type:"component",clickPosition:[]}),j.stopPropagation(),L(J.updateSelectedComponent([e]))},[e,L]);return h?null:y(jt,{children:y(ds,{x:a,y:i,displayName:e,children:y(Ko,{disabled:!g,position:"right-start",trigger:"contextmenu",dropList:et(Vo,{w:"184px",children:[y($n,{value:"duplicate",title:u("editor.context_menu.duplicate"),onClick:()=>{ie.copyComponentNodeByDisplayName([e]),ie.paste("duplicate")}}),y($n,{deleted:!0,value:"delete",title:u("editor.context_menu.delete"),onClick:()=>{f.showDeleteDialog([e],"widget",{source:"manage_delete"})}})]}),onVisibleChange:j=>{j&&Qt(te.SHOW,{element:"component_management_canvas",parameter1:c})},children:et("div",{"data-displayname":e,"data-parentnode":d,onMouseEnter:E,onMouseLeave:R,onClick:q,onContextMenu:z,css:vs({width:s,height:r,minWidth:zt*t,minHeight:((S==null?void 0:S.layoutInfo.minH)??3)*B},{isLikeProductionMode:H,isSelected:P,hasEditors:K.length>0,isHover:O,isDragging:!1,shownDot:_}),children:[et(Zr,{displayName:e,parentNodeDisplayName:d,canDrag:W,unitWidth:t,columnNumber:l,children:[!H&&(P||O||K.length>0||_)&&y(ls,{isError:Y,displayName:e,maxWidth:s,widgetTop:i,widgetType:c,userList:K,columnNumber:l}),I?y("div",{css:ms}):et(jt,{children:[n,g&&P&&!D&&b&&y(kn,{containerHeight:r,displayName:e})]})]}),P&&!H&&y(gs,{resizeDirection:tt,displayName:e})]})})})})},Cs=M`
  width: 100%;
  height: 100%;
`,Ss=({isSelected:o,hasError:t,isEditor:e,isLimitedModeAndOverLap:n=!1})=>M`
  width: 100%;
  height: 100%;
  padding: ${Vt}px;
  background-color: ${e&&t&&!o?V("red","08"):"transparent"};
  ${n&&o?"border-bottom:unset !important":""}
  ${e&&"cursor: move"}
`,lo=o=>{const{displayName:t,widgetHeight:e,children:n}=o,r=N(Oe),i=N(At),a=N(Rt),s=N(Tn),c=m.useMemo(()=>i.some(p=>t===p),[t,i]),l=mt(r,t,{}),d=m.useMemo(()=>{const p=Object.keys(s);return p.length>0&&p.some(h=>Array.isArray(s[h])&&s[h].length>0&&h.startsWith(t))},[t,s]),f=(l==null?void 0:l.dynamicHeight)==="limited"&&((l==null?void 0:l.dynamicMaxHeight)===e||(l==null?void 0:l.dynamicMinHeight)===e);return y("div",{css:Cs,children:y("div",{css:Ss({hasError:d,isSelected:c,isEditor:a,isLimitedModeAndOverLap:f}),children:n})})};lo.displayName="WrapperContainer";const uo=m.memo(lo),nu=(o,t,e)=>{const n=G.getState(),r=dt(n);let i=o.displayName;e&&(i=i.replace(e,""));const a=mt(r,i,void 0);if(!a)return{x:-1,y:-1,w:-1,h:-1};const s=a.layoutInfo,{x:c,y:l,w:d,h:u}=s,f=(c||o.x)*t,p=(l||o.y)*B,h=(d||o.w)*t,g=(u||o.h)*B;return{x:f,y:p,w:h,h:g}},fo=(o,t,e)=>{const n=N(dt);return m.useMemo(()=>{let i=o;e&&(i=i.replace(e,""));const a=mt(n,i,void 0);if(!a)return{left:-1,top:-1,width:-1,height:-1};const s=a.layoutInfo,{x:c,y:l,w:d,h:u}=s;return{left:c*t,top:l*B,width:d*t,height:u*B}},[o,e,n,t])},po=o=>{const{unitW:t,displayName:e,parentNodeDisplayName:n,widgetType:r,columnNumber:i}=o,{width:a,height:s,left:c,top:l}=fo(e,t),d=r!=="MODAL_WIDGET",u=N(Rt),f=N(At),p=m.useMemo(()=>f.some(h=>e===h),[e,f]);return et(ys,{displayName:e,unitW:t,widgetHeight:s,widgetWidth:a,widgetTop:d?l:0,widgetLeft:d?c:0,parentNodeDisplayName:n,widgetType:r,columnNumber:i,children:[y(uo,{displayName:e,widgetHeight:s,children:y(Rn,{displayName:e,widgetType:r,parentNodeDisplayName:n,columnNumber:i})}),u&&(f==null?void 0:f.length)===1&&p&&y(kn,{containerHeight:a,displayName:e})]})},ws=m.memo(po);po.displayName="NewScaleSquare";const Ds=(o,t)=>t?o?"error":"normal":"production",xs=(o,t,e)=>{switch(o){case gt.HORIZONTAL:return{right:y("div",{css:Wt(t,e,"r"),children:y("div",{className:"handler",css:Ht(t,e,"r")})}),left:y("div",{css:Wt(t,e,"l"),children:y("div",{className:"handler",css:Ht(t,e,"l")})})};case gt.VERTICAL:return{top:y("div",{css:Wt(t,e,"t"),children:y("div",{className:"handler",css:Ht(t,e,"t")})}),bottom:y("div",{css:Wt(t,e,"b"),children:y("div",{className:"handler",css:Ht(t,e,"b")})})};case gt.ALL:default:return{topLeft:y("div",{css:me(t,e,"tl")}),top:y("div",{css:Wt(t,e,"t"),children:y("div",{className:"handler",css:Ht(t,e,"t")})}),topRight:y("div",{css:me(t,e,"tr")}),right:y("div",{css:Wt(t,e,"r"),children:y("div",{className:"handler",css:Ht(t,e,"r")})}),bottomRight:y("div",{css:me(t,e,"br")}),bottom:y("div",{css:Wt(t,e,"b"),children:y("div",{className:"handler",css:Ht(t,e,"b")})}),bottomLeft:y("div",{css:me(t,e,"bl")}),left:y("div",{css:Wt(t,e,"l"),children:y("div",{className:"handler",css:Ht(t,e,"l")})})}}},bs=o=>{const t=N(Tn),e=m.useMemo(()=>{const r=Object.keys(t);return r.length>0&&r.some(i=>Array.isArray(t[i])&&t[i].length>0&&i.startsWith(o))},[o,t]),n=N(Rt);return Ds(e,n)},Es=o=>{const{unitW:t,displayName:e,parentNodeDisplayName:n,widgetType:r,columnNumber:i}=o,{width:a,height:s}=fo(e,t),c=yt(),d=N(dt)[e],u=(d==null?void 0:d.layoutInfo)??{},f=r!=="MODAL_WIDGET",p=N(Rt),h=N(At),g=m.useMemo(()=>h.some(S=>e===S),[e,h]),v=bs(e),C=m.useCallback((S,w,_,D)=>{let b=Math.round((a+D.width)/t),P=Math.round((s+D.height)/B);b=b<zt?zt:b,P=P<u.minH?u.minH:P,c(Dt.updateComponentLayoutInfoReducer({displayName:e,layoutInfo:{x:0,y:0,w:b,h:P},parentNode:n})),c(J.setDraggingNodeIDsReducer([])),c(J.updateShowDot(!1))},[c,e,s,u.minH,n,t,a]),x=m.useCallback(S=>{S.preventDefault(),S.stopPropagation(),c(J.setDraggingNodeIDsReducer([e])),c(J.updateShowDot(!0))},[c,e]);return y(Ei,{bounds:"parent",size:{width:a,height:s},minWidth:zt*t,minHeight:d.layoutInfo.minH*B,handleComponent:xs(gt.ALL,g,v),onResizeStart:x,onResizeStop:C,children:et("div",{css:vi,onClick:S=>S.stopPropagation(),children:[y(Zr,{displayName:e,parentNodeDisplayName:n,canDrag:f,columnNumber:i,unitWidth:t,children:y(uo,{displayName:e,widgetHeight:s,children:y(Rn,{displayName:e,widgetType:r,parentNodeDisplayName:n})})}),p&&(h==null?void 0:h.length)===1&&g&&y(kn,{containerHeight:a,displayName:e})]})})},ho=o=>{const{displayName:t,unitW:e,parentNodeDisplayName:n,columnNumber:r}=o,a=N(dt)[t],s=a.containerType,c=a.widgetType;switch(s){case"EDITOR_SCALE_SQUARE":return c==="MODAL_WIDGET"?y(Es,{displayName:t,widgetType:c,unitW:e,parentNodeDisplayName:n,columnNumber:r}):y(ws,{displayName:t,widgetType:c,unitW:e,parentNodeDisplayName:n,columnNumber:r});default:return null}};ho.displayName="ComponentParser";const Is=m.memo(ho),_s=(o,t,e,n,r)=>M`
  position: absolute;
  top: 0;
  left: 0;
  width: ${e}px;
  height: ${n}px;
  transform: translate(${t}px, ${o-1}px);
  background-color: ${r?"rgba(101, 74, 236, 0.1)":"rgba(255, 71, 71, 0.1)"};
  border-top: 3px solid
    ${r?V("techPurple","03"):V("red","03")};
  z-index: 10;
`,Ms=o=>{const{unitW:t,parentNodeDisplayName:e,columnNumber:n}=o,r=Fr(c=>({isDragging:c.isDragging(),item:c.getItem(),clientOffset:c.getClientOffset(),differenceFromInitialOffset:c.getDifferenceFromInitialOffset(),initialClientOffset:c.getInitialClientOffset(),initialSourceClientOffset:c.getInitialSourceClientOffset()})),i=Ma(e,t,r,n);if(!i)return null;const{shape:a,canDrop:s}=i;return y("div",{css:_s(a.y*B,a.x*t,a.w*t,a.previewH*B,s)})},Ps=m.memo(Ms),go=o=>m.createElement("svg",{width:18,height:22,viewBox:"0 0 18 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o},m.createElement("g",{filter:"url(#filter0_d_9287_1752)"},m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 18.7435V3L14.4141 14.422H7.48054L7.33185 14.5439L3 18.7435Z",fill:"white"})),m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.98425 5.2627V16.2832L6.90566 13.4601L7.0631 13.3232L12.0184 13.3313L3.98425 5.2627Z",fill:"currentColor"}),m.createElement("defs",null,m.createElement("filter",{id:"filter0_d_9287_1752",x:1,y:2,width:15.4141,height:19.7432,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},m.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),m.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),m.createElement("feOffset",{dy:1}),m.createElement("feGaussianBlur",{stdDeviation:1}),m.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),m.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),m.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_9287_1752"}),m.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_9287_1752",result:"shape"})))),Ts=o=>M`
  min-width: 32px;
  max-width: 102px;
  padding: 4px 8px;
  overflow: hidden;
  text-overflow: ellipsis;
  background-color: ${o};
  border: 1px solid ${V("white","01")};
  border-radius: 4px;
  color: ${V("white","01")};
  font-size: 12px;
  font-weight: 500;
`,vo=o=>M`
  color: ${o};
  z-index: 10;
  position: absolute;
  user-select: none;
  pointer-events: none;
  top: 0;
  left: 0;
`,Ns=o=>{const{userID:t,nickName:e,integerPartX:n,integerPartY:r,decimalPartX:i,decimalPartY:a,unitW:s,status:c}=o,l=(n+i)*s,d=r+a,u=Wr(t),f=yt(),{t:p}=Gt(),h=m.useCallback(()=>{f(jn.removeAnimationEndCursorInfo(t))},[f,t]),g=c===-1;return m.useEffect(()=>{g&&f(jn.leaveContainerReducer(t))},[f,g,t]),y(yr,{children:et(En.span,{css:vo(u),initial:{x:l-6,y:d-8.5},animate:{x:l-6,y:d-8.5},transition:{duration:.16},onAnimationComplete:h,children:[y(go,{}),y(mo,{nickName:(e==null?void 0:e.trim())!==""?e:p("widget.collaborative.no_name"),bgColor:u})]})})},mo=o=>{const{nickName:t,bgColor:e}=o;return y("div",{css:Ts(e),children:t})},ks=o=>{const{userID:t,nickName:e,integerPartX:n,integerPartY:r,decimalPartX:i,decimalPartY:a,unitW:s}=o,c=(n+i)*s,l=(r+a)*B,d=Wr(t),{t:u}=Gt();return y(yr,{children:et(En.span,{css:vo(d),initial:{x:c,y:l},animate:{x:c,y:l},transition:{duration:.16},children:[y(go,{}),y(mo,{nickName:(e==null?void 0:e.trim())!==""?e:u("widget.collaborative.no_name"),bgColor:d})]})})},Rs=M`
  border: 1px dashed ${V("techPurple","03")};
  position: absolute;
  z-index: 6;
  pointer-events: none;
`,Os=M`
  width: 100%;
  height: 100%;
  background-color: ${V("techPurple","03")};
  opacity: 0.16;
  pointer-events: none;
`,As=(o,t,e,n)=>({x:o<0?0:o+e>n?n-e:o,y:t<0?0:t}),Ls=o=>{const{x:t,y:e,landingX:n,landingY:r,status:i,userID:a,unitW:s,columns:c,nickname:l,integerPartX:d,integerPartY:u,decimalPartX:f,decimalPartY:p}=o,h=yt(),g=m.useCallback(()=>{h(i===-1?Un.deleteDragShadowInfoReducer(a):Un.removeAnimationEndDragShadowInfoReducer(a))},[h,i,a]),v=As(t,e,n,c);return y(jt,{children:et(En.div,{css:Rs,initial:{x:v.x*s,y:v.y*B,width:n*s,height:r*B},animate:{x:v.x*s,y:v.y*B,width:n*s,height:r*B},transition:{duration:.16},onAnimationComplete:g,children:[y("div",{css:Os}),i!==2&&y(ks,{userID:a,nickName:l,integerPartX:d,integerPartY:u,decimalPartX:f,decimalPartY:p,status:i,unitW:s})]})})},Ws=o=>{const{unitW:t,parentDisplayName:e,columns:n}=o,r=N(pa);return y(jt,{children:r.map(i=>{const a=i[0];return(a==null?void 0:a.parentDisplayName)===e&&y(Ls,{x:a.rectX,y:a.rectY,landingX:a.rectW,landingY:a.rectH,unitW:t,displayNames:a.displayNames,userID:a.userID,status:a.status,parentDisplayName:a.parentDisplayName,columns:n,integerPartX:a.xInteger,integerPartY:a.yInteger,decimalPartX:a.xMod,decimalPartY:a.yMod,nickname:a.nickname},a.userID)})})},Hs=o=>o.currentApp.cursor,Bs=_n([Hs],o=>Object.values(o)),Ys=o=>{const{unitW:t,displayName:e}=o,n=N(Bs);return y(jt,{children:n.map(r=>{const i=r[0];return(i==null?void 0:i.parentDisplayName)===e&&y(Ns,{nickName:i.nickname,userID:i.userID,decimalPartX:i.xMod,decimalPartY:i.yMod,integerPartX:i.xInteger,integerPartY:i.yInteger,status:i.status,unitW:t},i.userID)})})};var $s="function",Xs="object",Fs="string",zs=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],wt=1e-7;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function js(){for(var o=0,t=0,e=arguments.length;t<e;t++)o+=arguments[t].length;for(var n=Array(o),r=0,t=0;t<e;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)n[r]=i[a];return n}function Pe(o){return o&&typeof o===Xs}function Te(o){return Array.isArray(o)}function de(o){return typeof o===Fs}function yo(o){return typeof o===$s}function Us(o,t){var e=o===""||o==" ",n=t===""||t==" ";return n&&e||o===t}function Co(o,t,e,n,r){var i=An(o,t,e);return i?e:Gs(o,t,e+1,n,r)}function An(o,t,e){if(!o.ignore)return null;var n=t.slice(Math.max(e-3,0),e+3).join("");return new RegExp(o.ignore).exec(n)}function Gs(o,t,e,n,r){for(var i=function(l){var d=t[l].trim();if(d===o.close&&!An(o,t,l))return{value:l};var u=l,f=fe(r,function(p){var h=p.open;return h===d});if(f&&(u=Co(f,t,l,n,r)),u===-1)return a=l,"break";l=u,a=l},a,s=e;s<n;++s){var c=i(s);if(s=a,typeof c=="object")return c.value;if(c==="break")break}return-1}function Ln(o,t){var e=de(t)?{separator:t}:t,n=e.separator,r=n===void 0?",":n,i=e.isSeparateFirst,a=e.isSeparateOnlyOpenClose,s=e.isSeparateOpenClose,c=s===void 0?a:s,l=e.openCloseCharacters,d=l===void 0?zs:l,u=d.map(function(b){var P=b.open,E=b.close;return P===E?P:P+"|"+E}).join("|"),f="(\\s*"+r+"\\s*|"+u+"|\\s+)",p=new RegExp(f,"g"),h=o.split(p).filter(Boolean),g=h.length,v=[],C=[];function x(){return C.length?(v.push(C.join("")),C=[],!0):!1}for(var S=function(b){var P=h[b].trim(),E=b,R=fe(d,function(k){var Y=k.open;return Y===P}),L=fe(d,function(k){var Y=k.close;return Y===P});if(R){if(E=Co(R,h,b,g,d),E!==-1&&c)return x()&&i||(v.push(h.slice(b,E+1).join("")),b=E,i)?(w=b,"break"):(w=b,"continue")}else if(L&&!An(L,h,b)){var T=js(d);return T.splice(d.indexOf(L),1),{value:Ln(o,{separator:r,isSeparateFirst:i,isSeparateOnlyOpenClose:a,isSeparateOpenClose:c,openCloseCharacters:T})}}else if(Us(P,r)&&!a)return x(),i?(w=b,"break"):(w=b,"continue");E===-1&&(E=g-1),C.push(h.slice(b,E+1).join("")),b=E,w=b},w,_=0;_<g;++_){var D=S(_);if(_=w,typeof D=="object")return D.value;if(D==="break")break}return C.length&&v.push(C.join("")),v}function Ks(o){return Ln(o,"")}function re(o){return Ln(o,",")}function Vs(o){var t=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(o);return!t||t.length<4?{}:{prefix:t[1],value:t[2],suffix:t[3]}}function So(o){var t=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(o);if(!t)return{prefix:"",unit:"",value:NaN};var e=t[1],n=t[2],r=t[3];return{prefix:e,unit:r,value:parseFloat(n)}}function dn(o){return o.replace(/[\s-_]([a-z])/g,function(t,e){return e.toUpperCase()})}function fn(){return Date.now?Date.now():new Date().getTime()}function Ne(o,t,e){e===void 0&&(e=-1);for(var n=o.length,r=0;r<n;++r)if(t(o[r],r,o))return r;return e}function fe(o,t,e){var n=Ne(o,t);return n>-1?o[n]:e}function wo(o,t,e){return Math.max(t,Math.min(o,e))}function er(o,t,e,n){return n===void 0&&(n=o[0]/o[1]),[[Tt(t[0],wt),Tt(t[0]/n,wt)],[Tt(t[1]*n,wt),Tt(t[1],wt)]].filter(function(r){return r.every(function(i,a){var s=t[a],c=Tt(s,wt);return e?i<=s||i<=c:i>=s||i>=c})})[0]||o}function qs(o,t,e,n){if(!n)return o.map(function(p,h){return wo(p,t[h],e[h])});var r=o[0],i=o[1],a=n===!0?r/i:n,s=er(o,t,!1,a),c=s[0],l=s[1],d=er(o,e,!0,a),u=d[0],f=d[1];return r<c||i<l?(r=c,i=l):(r>u||i>f)&&(r=u,i=f),[r,i]}function Zs(o){for(var t=o.length,e=0,n=t-1;n>=0;--n)e+=o[n];return e}function Js(o){for(var t=o.length,e=0,n=t-1;n>=0;--n)e+=o[n];return t?e/t:0}function nr(o,t){var e=t[0]-o[0],n=t[1]-o[1],r=Math.atan2(n,e);return r>=0?r:r+Math.PI*2}function Qs(o){return[0,1].map(function(t){return Js(o.map(function(e){return e[t]}))})}function rr(o){var t=Qs(o),e=nr(t,o[0]),n=nr(t,o[1]);return e<n&&n-e<Math.PI||e>n&&n-e<-Math.PI?1:-1}function pn(o,t){return Math.sqrt(Math.pow((t?t[0]:0)-o[0],2)+Math.pow((t?t[1]:0)-o[1],2))}function Tt(o,t){if(!t)return o;var e=1/t;return Math.round(o/t)/e}function tc(o,t){return o.classList?o.classList.contains(t):!!o.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function ec(o,t){o.classList?o.classList.add(t):o.className+=" "+t}function st(o,t,e,n){o.addEventListener(t,e,n)}function at(o,t,e,n){o.removeEventListener(t,e,n)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function nc(){for(var o=0,t=0,e=arguments.length;t<e;t++)o+=arguments[t].length;for(var n=Array(o),r=0,t=0;t<e;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)n[r]=i[a];return n}function ut(o){return Tt(o,wt)}function rc(o,t){return o.every(function(e,n){return ut(e-t[n])===0})}function oc(o,t){return!ut(o[0]-t[0])&&!ut(o[1]-t[1])}function tn(o){return o.length<3?0:Math.abs(Zs(o.map(function(t,e){var n=o[e+1]||o[0];return t[0]*n[1]-n[0]*t[1]})))/2}function ic(o,t){var e=t.width,n=t.height,r=t.left,i=t.top,a=Do(o),s=a.minX,c=a.minY,l=a.maxX,d=a.maxY,u=e/(l-s),f=n/(d-c);return o.map(function(p){return[r+(p[0]-s)*u,i+(p[1]-c)*f]})}function Do(o){var t=o.map(function(n){return n[0]}),e=o.map(function(n){return n[1]});return{minX:Math.min.apply(Math,t),minY:Math.min.apply(Math,e),maxX:Math.max.apply(Math,t),maxY:Math.max.apply(Math,e)}}function hn(o,t,e){var n=o[0],r=o[1],i=Do(t),a=i.minX,s=i.maxX,c=[[a,r],[s,r]],l=ke(c[0],c[1]),d=gn(t),u=[];if(d.forEach(function(h){var g=ke(h[0],h[1]),v=h[0];if(rc(l,g))u.push({pos:o,line:h,type:"line"});else{var C=bo(xo(l,g),[c,h]);C.forEach(function(x){h.some(function(S){return oc(S,x)})?u.push({pos:x,line:h,type:"point"}):ut(v[1]-r)!==0&&u.push({pos:x,line:h,type:"intersection"})})}}),!e&&fe(u,function(h){return h[0]===n}))return!0;var f=0,p={};return u.forEach(function(h){var g=h.pos,v=h.type,C=h.line;if(!(g[0]>n))if(v==="intersection")++f;else{if(v==="line")return;if(v==="point"){var x=fe(C,function(_){return _[1]!==r}),S=p[g[0]],w=x[1]>r?1:-1;S?S!==w&&++f:p[g[0]]=w}}}),f%2===1}function ke(o,t){var e=o[0],n=o[1],r=t[0],i=t[1],a=r-e,s=i-n;Math.abs(a)<wt&&(a=0),Math.abs(s)<wt&&(s=0);var c=0,l=0,d=0;return a?s?(c=-s/a,l=1,d=-c*e-n):(l=1,d=-n):s&&(c=-1,d=e),[c,l,d]}function xo(o,t){var e=o[0],n=o[1],r=o[2],i=t[0],a=t[1],s=t[2],c=e===0&&i===0,l=n===0&&a===0,d=[];if(c&&l)return[];if(c){var u=-r/n,f=-s/a;return u!==f?[]:[[-1/0,u],[1/0,u]]}else if(l){var p=-r/e,h=-s/i;return p!==h?[]:[[p,-1/0],[p,1/0]]}else if(e===0){var g=-r/n,v=-(a*g+s)/i;d=[[v,g]]}else if(i===0){var g=-s/a,v=-(n*g+r)/e;d=[[v,g]]}else if(n===0){var v=-r/e,g=-(i*v+s)/a;d=[[v,g]]}else if(a===0){var v=-s/i,g=-(e*v+r)/n;d=[[v,g]]}else{var v=(n*s-a*r)/(a*e-n*i),g=-(e*v+r)/n;d=[[v,g]]}return d.map(function(C){return[C[0],C[1]]})}function bo(o,t){var e=t.map(function(u){return[0,1].map(function(f){return[Math.min(u[0][f],u[1][f]),Math.max(u[0][f],u[1][f])]})}),n=[];if(o.length===2){var r=o[0],i=r[0],a=r[1];if(ut(i-o[1][0])){if(!ut(a-o[1][1])){var l=Math.max.apply(Math,e.map(function(u){return u[0][0]})),d=Math.min.apply(Math,e.map(function(u){return u[0][1]}));if(ut(l-d)>0)return[];n=[[l,a],[d,a]]}}else{var s=Math.max.apply(Math,e.map(function(u){return u[1][0]})),c=Math.min.apply(Math,e.map(function(u){return u[1][1]}));if(ut(s-c)>0)return[];n=[[i,s],[i,c]]}}return n.length||(n=o.filter(function(u){var f=u[0],p=u[1];return e.every(function(h){return 0<=ut(f-h[0][0])&&0<=ut(h[0][1]-f)&&0<=ut(p-h[1][0])&&0<=ut(h[1][1]-p)})})),n.map(function(u){return[ut(u[0]),ut(u[1])]})}function gn(o){return nc(o.slice(1),[o[0]]).map(function(t,e){return[o[e],t]})}function ac(o,t){var e=o.slice(),n=t.slice();rr(e)===-1&&e.reverse(),rr(n)===-1&&n.reverse();var r=gn(e),i=gn(n),a=r.map(function(d){return ke(d[0],d[1])}),s=i.map(function(d){return ke(d[0],d[1])}),c=[];a.forEach(function(d,u){var f=r[u],p=[];s.forEach(function(h,g){var v=xo(d,h),C=bo(v,[f,i[g]]);p.push.apply(p,C.map(function(x){return{index1:u,index2:g,pos:x,type:"intersection"}}))}),p.sort(function(h,g){return pn(f[0],h.pos)-pn(f[0],g.pos)}),c.push.apply(c,p),hn(f[1],n)&&c.push({index1:u,index2:-1,pos:f[1],type:"inside"})}),i.forEach(function(d,u){if(hn(d[1],e)){var f=!1,p=Ne(c,function(h){var g=h.index2;return g===u?(f=!0,!1):!!f});p===-1&&(f=!1,p=Ne(c,function(h){var g=h.index1,v=h.index2;return g===-1&&v+1===u?(f=!0,!1):!!f})),p===-1?c.push({index1:-1,index2:u,pos:d[1],type:"inside"}):c.splice(p,0,{index1:-1,index2:u,pos:d[1],type:"inside"})}});var l={};return c.filter(function(d){var u=d.pos,f=u[0]+"x"+u[1];return l[f]?!1:(l[f]=!0,!0)})}function vn(o,t){var e=ac(o,t);return e.map(function(n){var r=n.pos;return r})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mn=function(){return mn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mn.apply(this,arguments)};function sc(){for(var o=0,t=0,e=arguments.length;t<e;t++)o+=arguments[t].length;for(var n=Array(o),r=0,t=0;t<e;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)n[r]=i[a];return n}var cc=function(){function o(){this._events={}}var t=o.prototype;return t.on=function(e,n){if(Pe(e))for(var r in e)this.on(r,e[r]);else this._addEvent(e,n,{});return this},t.off=function(e,n){if(!e)this._events={};else if(Pe(e))for(var r in e)this.off(r);else if(!n)this._events[e]=[];else{var i=this._events[e];if(i){var a=Ne(i,function(s){return s.listener===n});a>-1&&i.splice(a,1)}}return this},t.once=function(e,n){var r=this;return n&&this._addEvent(e,n,{once:!0}),new Promise(function(i){r._addEvent(e,i,{once:!0})})},t.emit=function(e,n){var r=this;n===void 0&&(n={});var i=this._events[e];if(!e||!i)return!0;var a=!1;return n.eventType=e,n.stop=function(){a=!0},n.currentTarget=this,sc(i).forEach(function(s){s.listener(n),s.once&&r.off(e,s.listener)}),!a},t.trigger=function(e,n){return n===void 0&&(n={}),this.emit(e,n)},t._addEvent=function(e,n,r){var i=this._events;i[e]=i[e]||[];var a=i[e];a.push(mn({listener:n},r))},o}();const Xe=cc;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yn=function(o,t){return yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])},yn(o,t)};function lc(o,t){yn(o,t);function e(){this.constructor=o}o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ot=function(){return ot=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ot.apply(this,arguments)};function uc(o,t){var e=t[0]-o[0],n=t[1]-o[1],r=Math.atan2(n,e);return r>=0?r:r+Math.PI*2}function en(o){return uc([o[0].clientX,o[0].clientY],[o[1].clientX,o[1].clientY])/Math.PI*180}function dc(o){return o.touches&&o.touches.length>=2}function Ce(o){return o?o.touches?pc(o.touches):[Eo(o)]:[]}function fc(o){return o&&(o.type.indexOf("mouse")>-1||"button"in o)}function or(o,t,e){var n=e.length,r=ae(o,n),i=r.clientX,a=r.clientY,s=r.originalClientX,c=r.originalClientY,l=ae(t,n),d=l.clientX,u=l.clientY,f=ae(e,n),p=f.clientX,h=f.clientY,g=i-d,v=a-u,C=i-p,x=a-h;return{clientX:s,clientY:c,deltaX:g,deltaY:v,distX:C,distY:x}}function nn(o){return Math.sqrt(Math.pow(o[0].clientX-o[1].clientX,2)+Math.pow(o[0].clientY-o[1].clientY,2))}function pc(o){for(var t=Math.min(o.length,2),e=[],n=0;n<t;++n)e.push(Eo(o[n]));return e}function Eo(o){return{clientX:o.clientX,clientY:o.clientY}}function ae(o,t){t===void 0&&(t=o.length);for(var e={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=0;n<t;++n){var r=o[n];e.originalClientX+="originalClientX"in r?r.originalClientX:r.clientX,e.originalClientY+="originalClientY"in r?r.originalClientY:r.clientY,e.clientX+=r.clientX,e.clientY+=r.clientY}return t?{clientX:e.clientX/t,clientY:e.clientY/t,originalClientX:e.originalClientX/t,originalClientY:e.originalClientY/t}:e}var rn=function(){function o(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return o.prototype.getAngle=function(t){return t===void 0&&(t=this.prevClients),en(t)},o.prototype.getRotation=function(t){return t===void 0&&(t=this.prevClients),en(t)-en(this.startClients)},o.prototype.getPosition=function(t,e){t===void 0&&(t=this.prevClients);var n=or(t||this.prevClients,this.prevClients,this.startClients),r=n.deltaX,i=n.deltaY;return this.movement+=Math.sqrt(r*r+i*i),this.prevClients=t,n},o.prototype.getPositions=function(t){t===void 0&&(t=this.prevClients);var e=this.prevClients;return this.startClients.map(function(n,r){return or([t[r]],[e[r]],[n])})},o.prototype.getMovement=function(t){var e=this.movement;if(!t)return e;var n=ae(t,this.length),r=ae(this.prevClients,this.length),i=n.clientX-r.clientX,a=n.clientY-r.clientY;return Math.sqrt(i*i+a*a)+e},o.prototype.getDistance=function(t){return t===void 0&&(t=this.prevClients),nn(t)},o.prototype.getScale=function(t){return t===void 0&&(t=this.prevClients),nn(t)/nn(this.startClients)},o.prototype.move=function(t,e){this.startClients.forEach(function(n){n.clientX-=t,n.clientY-=e}),this.prevClients.forEach(function(n){n.clientX-=t,n.clientY-=e})},o}(),ir=["textarea","input"],hc=function(o){lc(t,o);function t(e,n){n===void 0&&(n={});var r=o.call(this)||this;r.options={},r.flag=!1,r.pinchFlag=!1,r.data={},r.isDrag=!1,r.isPinch=!1,r.isMouse=!1,r.isTouch=!1,r.clientStores=[],r.targets=[],r.prevTime=0,r.doubleFlag=!1,r._dragFlag=!1,r._isTrusted=!1,r._isMouseEvent=!1,r._isSecondaryButton=!1,r._preventMouseEvent=!1,r._prevInputEvent=null,r.onDragStart=function(u,f){if(f===void 0&&(f=!0),!(!r.flag&&u.cancelable===!1)){var p=r.options,h=p.container,g=p.pinchOutside,v=p.preventWheelClick,C=p.preventRightClick,x=p.preventDefault,S=p.checkInput,w=p.preventClickEventOnDragStart,_=p.preventClickEventOnDrag,D=p.preventClickEventByCondition,b=r.isTouch,P=!r.flag;if(r._isSecondaryButton=u.which===3||u.button===2,v&&(u.which===2||u.button===1)||C&&(u.which===3||u.button===2))return r.stop(),!1;if(P){var E=document.activeElement,R=u.target;if(R){var L=R.tagName.toLowerCase(),T=ir.indexOf(L)>-1,k=R.isContentEditable;if(T||k){if(S||E===R||E&&k&&E.isContentEditable&&E.contains(R))return!1}else if((x||u.type==="touchstart")&&E){var Y=E.tagName.toLowerCase();(E.isContentEditable||ir.indexOf(Y)>-1)&&E.blur()}(w||_||D)&&st(window,"click",r._onClick,!0)}r.clientStores=[new rn(Ce(u))],r.flag=!0,r.isDrag=!1,r._isTrusted=f,r._dragFlag=!0,r._prevInputEvent=u,r.data={},r.doubleFlag=fn()-r.prevTime<200,r._isMouseEvent=fc(u),!r._isMouseEvent&&r._preventMouseEvent&&(r._preventMouseEvent=!1);var F=r._preventMouseEvent||r.emit("dragStart",ot(ot({data:r.data,datas:r.data,inputEvent:u,isMouseEvent:r._isMouseEvent,isSecondaryButton:r._isSecondaryButton,isTrusted:f,isDouble:r.doubleFlag},r.getCurrentStore().getPosition()),{preventDefault:function(){u.preventDefault()},preventDrag:function(){r._dragFlag=!1}}));F===!1&&r.stop(),r._isMouseEvent&&r.flag&&x&&u.preventDefault()}if(!r.flag)return!1;var I=0;if(P?(r._attchDragEvent(),b&&g&&(I=setTimeout(function(){st(h,"touchstart",r.onDragStart,{passive:!1})}))):b&&g&&at(h,"touchstart",r.onDragStart),r.flag&&dc(u)){if(clearTimeout(I),P&&u.touches.length!==u.changedTouches.length)return;r.pinchFlag||r.onPinchStart(u)}}},r.onDrag=function(u,f){if(r.flag){var p=r.options.preventDefault;!r._isMouseEvent&&p&&u.preventDefault(),r._prevInputEvent=u;var h=Ce(u),g=r.moveClients(h,u,!1);if(r._dragFlag){if(r.pinchFlag||g.deltaX||g.deltaY){var v=r._preventMouseEvent||r.emit("drag",ot(ot({},g),{isScroll:!!f,inputEvent:u}));if(v===!1){r.stop();return}}r.pinchFlag&&r.onPinch(u,h)}r.getCurrentStore().getPosition(h,!0)}},r.onDragEnd=function(u){if(r.flag){var f=r.options,p=f.pinchOutside,h=f.container,g=f.preventClickEventOnDrag,v=f.preventClickEventOnDragStart,C=f.preventClickEventByCondition,x=r.isDrag;(g||v||C)&&requestAnimationFrame(function(){r._allowClickEvent()}),!C&&!v&&g&&!x&&r._allowClickEvent(),r.isTouch&&p&&at(h,"touchstart",r.onDragStart),r.pinchFlag&&r.onPinchEnd(u);var S=u!=null&&u.touches?Ce(u):[],w=S.length;w===0||!r.options.keepDragging?r.flag=!1:r._addStore(new rn(S));var _=r._getPosition(),D=fn(),b=!x&&r.doubleFlag;r._prevInputEvent=null,r.prevTime=x||b?0:D,r.flag||(r._dettachDragEvent(),r._preventMouseEvent||r.emit("dragEnd",ot({data:r.data,datas:r.data,isDouble:b,isDrag:x,isClick:!x,isMouseEvent:r._isMouseEvent,isSecondaryButton:r._isSecondaryButton,inputEvent:u,isTrusted:r._isTrusted},_)),r.clientStores=[],r._isMouseEvent||(r._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){r._preventMouseEvent=!1})})))}},r.onBlur=function(){r.onDragEnd()},r._allowClickEvent=function(){at(window,"click",r._onClick,!0)},r._onClick=function(u){r._allowClickEvent(),r._preventMouseEvent=!1;var f=r.options.preventClickEventByCondition;f!=null&&f(u)||(u.stopPropagation(),u.preventDefault())},r._onContextMenu=function(u){var f=r.options;f.preventRightClick?r.onDragEnd(u):u.preventDefault()},r._passCallback=function(){};var i=[].concat(e);r.options=ot({checkInput:!1,container:i.length>1?window:i[0],preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var a=r.options,s=a.container,c=a.events,l=a.checkWindowBlur;if(r.isTouch=c.indexOf("touch")>-1,r.isMouse=c.indexOf("mouse")>-1,r.targets=i,r.isMouse&&(i.forEach(function(u){st(u,"mousedown",r.onDragStart),st(u,"mousemove",r._passCallback)}),st(s,"contextmenu",r._onContextMenu)),l&&st(window,"blur",r.onBlur),r.isTouch){var d={passive:!1};i.forEach(function(u){st(u,"touchstart",r.onDragStart,d),st(u,"touchmove",r._passCallback,d)})}return r}return t.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.getMovement=function(e){return this.getCurrentStore().getMovement(e)+this.clientStores.slice(1).reduce(function(n,r){return n+r.movement},0)},t.prototype.isDragging=function(){return this.isDrag},t.prototype.isFlag=function(){return this.flag},t.prototype.isPinchFlag=function(){return this.pinchFlag},t.prototype.isDoubleFlag=function(){return this.doubleFlag},t.prototype.isPinching=function(){return this.isPinch},t.prototype.scrollBy=function(e,n,r,i){i===void 0&&(i=!0),this.flag&&(this.clientStores[0].move(e,n),i&&this.onDrag(r,!0))},t.prototype.move=function(e,n){var r=e[0],i=e[1],a=this.getCurrentStore(),s=a.prevClients;return this.moveClients(s.map(function(c){var l=c.clientX,d=c.clientY;return{clientX:l+r,clientY:d+i,originalClientX:l,originalClientY:d}}),n,!0)},t.prototype.triggerDragStart=function(e){this.onDragStart(e,!1)},t.prototype.setEventData=function(e){var n=this.data;for(var r in e)n[r]=e[r];return this},t.prototype.setEventDatas=function(e){return this.setEventData(e)},t.prototype.getCurrentEvent=function(e){return e===void 0&&(e=this._prevInputEvent),ot(ot({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:e})},t.prototype.getEventData=function(){return this.data},t.prototype.getEventDatas=function(){return this.data},t.prototype.unset=function(){var e=this,n=this.targets,r=this.options.container;this.off(),at(window,"blur",this.onBlur),this.isMouse&&(n.forEach(function(i){at(i,"mousedown",e.onDragStart)}),at(r,"contextmenu",this._onContextMenu)),this.isTouch&&(n.forEach(function(i){at(i,"touchstart",e.onDragStart)}),at(r,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},t.prototype.onPinchStart=function(e){var n=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>n)){var r=new rn(Ce(e));this.pinchFlag=!0,this._addStore(r);var i=this.emit("pinchStart",ot(ot({data:this.data,datas:this.data,angle:r.getAngle(),touches:this.getCurrentStore().getPositions()},r.getPosition()),{inputEvent:e,isTrusted:this._isTrusted}));i===!1&&(this.pinchFlag=!1)}},t.prototype.onPinch=function(e,n){if(!(!this.flag||!this.pinchFlag||n.length<2)){var r=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",ot(ot({data:this.data,datas:this.data,movement:this.getMovement(n),angle:r.getAngle(n),rotation:r.getRotation(n),touches:r.getPositions(n),scale:r.getScale(n),distance:r.getDistance(n)},r.getPosition(n)),{inputEvent:e,isTrusted:this._isTrusted}))}},t.prototype.onPinchEnd=function(e){if(this.pinchFlag){var n=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var r=this.getCurrentStore();this.emit("pinchEnd",ot(ot({data:this.data,datas:this.data,isPinch:n,touches:r.getPositions()},r.getPosition()),{inputEvent:e}))}},t.prototype.getCurrentStore=function(){return this.clientStores[0]},t.prototype.moveClients=function(e,n,r){var i=this._getPosition(e,r),a=this.isDrag;(i.deltaX||i.deltaY)&&(this.isDrag=!0);var s=!1;return!a&&this.isDrag&&(s=!0),ot(ot({data:this.data,datas:this.data},i),{movement:this.getMovement(e),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:n,isTrusted:this._isTrusted,isFirstDrag:s})},t.prototype._addStore=function(e){this.clientStores.splice(0,0,e)},t.prototype._getPosition=function(e,n){var r=this.getCurrentStore(),i=r.getPosition(e,n),a=this.clientStores.slice(1).reduce(function(l,d){var u=d.getPosition();return l.distX+=u.distX,l.distY+=u.distY,l},i),s=a.distX,c=a.distY;return ot(ot({},i),{distX:s,distY:c})},t.prototype._attchDragEvent=function(){var e=this.options.container,n={passive:!1};this.isMouse&&(st(e,"mousemove",this.onDrag),st(e,"mouseup",this.onDragEnd)),this.isTouch&&(st(e,"touchmove",this.onDrag,n),st(e,"touchend",this.onDragEnd,n),st(e,"touchcancel",this.onDragEnd,n))},t.prototype._dettachDragEvent=function(){var e=this.options.container;this.isMouse&&(at(e,"mousemove",this.onDrag),at(e,"mouseup",this.onDragEnd)),this.isTouch&&(at(e,"touchstart",this.onDragStart),at(e,"touchmove",this.onDrag),at(e,"touchend",this.onDragEnd),at(e,"touchcancel",this.onDragEnd))},t}(Xe);function gc(o,t){return function(e){e&&(o[t]=e)}}function vc(o,t){return function(e){var n=e.prototype;o.forEach(function(r){t(n,r)})}}function mc(o,t){return t===void 0&&(t={}),function(e,n){o.forEach(function(r){var i=t[r]||r;i in e||(e[i]=function(){for(var a,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var l=(a=this[n])[r].apply(a,s);return l===this[n]?this:l})})}}var yc=function(){function o(){this.keys=[],this.values=[]}var t=o.prototype;return t.get=function(e){return this.values[this.keys.indexOf(e)]},t.set=function(e,n){var r=this.keys,i=this.values,a=r.indexOf(e),s=a===-1?r.length:a;r[s]=e,i[s]=n},o}(),Cc=function(){function o(){this.object={}}var t=o.prototype;return t.get=function(e){return this.object[e]},t.set=function(e,n){this.object[e]=n},o}(),Sc=typeof Map=="function",wc=function(){function o(){}var t=o.prototype;return t.connect=function(e,n){this.prev=e,this.next=n,e&&(e.next=this),n&&(n.prev=this)},t.disconnect=function(){var e=this.prev,n=this.next;e&&(e.next=n),n&&(n.prev=e)},t.getIndex=function(){for(var e=this,n=-1;e;)e=e.prev,++n;return n},o}();function Dc(o,t){var e=[],n=[];return o.forEach(function(r){var i=r[0],a=r[1],s=new wc;e[i]=s,n[a]=s}),e.forEach(function(r,i){r.connect(e[i-1])}),o.filter(function(r,i){return!t[i]}).map(function(r,i){var a=r[0],s=r[1];if(a===s)return[0,0];var c=e[a],l=n[s-1],d=c.getIndex();c.disconnect(),l?c.connect(l,l.next):c.connect(void 0,e[0]);var u=c.getIndex();return[d,u]})}var xc=function(){function o(e,n,r,i,a,s,c,l){this.prevList=e,this.list=n,this.added=r,this.removed=i,this.changed=a,this.maintained=s,this.changedBeforeAdded=c,this.fixed=l}var t=o.prototype;return Object.defineProperty(t,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(t,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),t.caculateOrdered=function(){var e=Dc(this.changedBeforeAdded,this.fixed),n=this.changed,r=[];this.cacheOrdered=e.filter(function(i,a){var s=i[0],c=i[1],l=n[a],d=l[0],u=l[1];if(s!==c)return r.push([d,u]),!0}),this.cachePureChanged=r},o}();function bc(o,t,e){var n=Sc?Map:e?Cc:yc,r=e||function(x){return x},i=[],a=[],s=[],c=o.map(r),l=t.map(r),d=new n,u=new n,f=[],p=[],h={},g=[],v=0,C=0;return c.forEach(function(x,S){d.set(x,S)}),l.forEach(function(x,S){u.set(x,S)}),c.forEach(function(x,S){var w=u.get(x);typeof w>"u"?(++C,a.push(S)):h[w]=C}),l.forEach(function(x,S){var w=d.get(x);typeof w>"u"?(i.push(S),++v):(s.push([w,S]),C=h[S]||0,f.push([w-C,S-v]),p.push(S===w),w!==S&&g.push([w,S]))}),a.reverse(),new xc(o,t,i,a,g,s,f,p)}var Ec=typeof Map=="function"?void 0:function(){var o=0;return function(t){return t.__DIFF_KEY__||(t.__DIFF_KEY__=++o)}}();function Ee(o,t){return bc(o,t,Ec)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cn=function(o,t){return Cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])},Cn(o,t)};function Ic(o,t){Cn(o,t);function e(){this.constructor=o}o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Zt=function(){return Zt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Zt.apply(this,arguments)};function _c(o){var t=o.container;return t===document.body?[t.scrollLeft||document.documentElement.scrollLeft,t.scrollTop||document.documentElement.scrollTop]:[t.scrollLeft,t.scrollTop]}function ar(o,t){return o.addEventListener("scroll",t),function(){o.removeEventListener("scroll",t)}}function Se(o){if(o){if(de(o))return document.querySelector(o)}else return null;if(yo(o))return o();if(o instanceof Element)return o;if("current"in o)return o.current;if("value"in o)return o.value}var Mc=function(o){Ic(t,o);function t(){var n=o!==null&&o.apply(this,arguments)||this;return n._startRect=null,n._startPos=[],n._prevTime=0,n._timer=0,n._prevScrollPos=[0,0],n._isWait=!1,n._flag=!1,n._currentOptions=null,n._lock=!1,n._unregister=null,n._onScroll=function(){var r=n._currentOptions;n._lock||!r||n.emit("scrollDrag",{next:function(i){n.checkScroll({container:r.container,inputEvent:i})}})},n}var e=t.prototype;return e.dragStart=function(n,r){var i=Se(r.container);if(!i){this._flag=!1;return}var a=0,s=0,c=0,l=0;if(i===document.body)c=window.innerWidth,l=window.innerHeight;else{var d=i.getBoundingClientRect();a=d.top,s=d.left,c=d.width,l=d.height}this._flag=!0,this._startPos=[n.clientX,n.clientY],this._startRect={top:a,left:s,width:c,height:l},this._prevScrollPos=this._getScrollPosition([0,0],r),this._currentOptions=r,this._registerScrollEvent(r)},e.drag=function(n,r){if(clearTimeout(this._timer),!!this._flag){var i=n.clientX,a=n.clientY,s=r.threshold,c=s===void 0?0:s,l=this,d=l._startRect,u=l._startPos;this._currentOptions=r;var f=[0,0];return d.top>a-c?(u[1]>d.top||a<u[1])&&(f[1]=-1):d.top+d.height<a+c&&(u[1]<d.top+d.height||a>u[1])&&(f[1]=1),d.left>i-c?(u[0]>d.left||i<u[0])&&(f[0]=-1):d.left+d.width<i+c&&(u[0]<d.left+d.width||i>u[0])&&(f[0]=1),!f[0]&&!f[1]?!1:this._continueDrag(Zt(Zt({},r),{direction:f,inputEvent:n,isDrag:!0}))}},e.checkScroll=function(n){var r=this;if(this._isWait)return!1;var i=n.prevScrollPos,a=i===void 0?this._prevScrollPos:i,s=n.direction,c=n.throttleTime,l=c===void 0?0:c,d=n.inputEvent,u=n.isDrag,f=this._getScrollPosition(s||[0,0],n),p=f[0]-a[0],h=f[1]-a[1],g=s||[p?Math.abs(p)/p:0,h?Math.abs(h)/h:0];return this._prevScrollPos=f,this._lock=!1,!p&&!h?!1:(this.emit("move",{offsetX:g[0]?p:0,offsetY:g[1]?h:0,inputEvent:d}),l&&u&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){r._continueDrag(n)},l)),!0)},e.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},e._getScrollPosition=function(n,r){var i=r.container,a=r.getScrollPosition,s=a===void 0?_c:a;return s({container:Se(i),direction:n})},e._continueDrag=function(n){var r=this,i,a=n.container,s=n.direction,c=n.throttleTime,l=n.useScroll,d=n.isDrag,u=n.inputEvent;if(!(!this._flag||d&&this._isWait)){var f=fn(),p=Math.max(c+this._prevTime-f,0);if(p>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){r._continueDrag(n)},p),!1;this._prevTime=f;var h=this._getScrollPosition(s,n);this._prevScrollPos=h,d&&(this._isWait=!0),l||(this._lock=!0);var g={container:Se(a),direction:s,inputEvent:u};return(i=n.requestScroll)===null||i===void 0||i.call(n,g),this.emit("scroll",g),this._isWait=!1,l||this.checkScroll(Zt(Zt({},n),{prevScrollPos:h,direction:s,inputEvent:u}))}},e._registerScrollEvent=function(n){this._unregisterScrollEvent();var r=n.checkScrollEvent;if(r){var i=r===!0?ar:r,a=Se(n.container);r===!0&&(a===document.body||a===document.documentElement)?this._unregister=ar(window,this._onScroll):this._unregister=i(a,this._onScroll)}},e._unregisterScrollEvent=function(){var n;(n=this._unregister)===null||n===void 0||n.call(this),this._unregister=null},t}(Xe);const Pc=Mc;var Sn=function(o,t){return Sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])},Sn(o,t)};function Tc(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Sn(o,t);function e(){this.constructor=o}o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Nc(o,t){return t={exports:{}},o(t,t.exports),t.exports}var he=Nc(function(o,t){function e(c){if(c&&typeof c=="object"){var l=c.which||c.keyCode||c.charCode;l&&(c=l)}if(typeof c=="number")return a[c];var d=String(c),u=n[d.toLowerCase()];if(u)return u;var u=r[d.toLowerCase()];if(u)return u;if(d.length===1)return d.charCodeAt(0)}e.isEventKey=function(l,d){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;if(u==null)return!1;if(typeof d=="string"){var f=n[d.toLowerCase()];if(f)return f===u;var f=r[d.toLowerCase()];if(f)return f===u}else if(typeof d=="number")return d===u;return!1}},t=o.exports=e;var n=t.code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(i=97;i<123;i++)n[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)n[i-48]=i;for(i=1;i<13;i++)n["f"+i]=i+111;for(i=0;i<10;i++)n["numpad "+i]=i+96;var a=t.names=t.title={};for(i in n)a[n[i]]=i;for(var s in r)n[s]=r[s]});he.code;he.codes;he.aliases;var kc=he.names;he.title;var sr={"+":"plus","left command":"meta","right command":"meta"},cr={shift:1,ctrl:2,alt:3,meta:4};function Io(o,t){var e=(kc[o]||t||"").toLowerCase();for(var n in sr)e=e.replace(n,sr[n]);return e.replace(/\s/g,"")}function _o(o,t){t===void 0&&(t=Io(o.keyCode,o.key));var e=Rc(o);return e.indexOf(t)===-1&&e.push(t),e.filter(Boolean)}function Rc(o){var t=[o.shiftKey&&"shift",o.ctrlKey&&"ctrl",o.altKey&&"alt",o.metaKey&&"meta"];return t.filter(Boolean)}function lr(o){var t=o.slice();return t.sort(function(e,n){var r=cr[e]||5,i=cr[n]||5;return r-i}),t}var ur,Oc=function(o){Tc(t,o);function t(n){n===void 0&&(n=window);var r=o.call(this)||this;return r.container=n,r.ctrlKey=!1,r.altKey=!1,r.shiftKey=!1,r.metaKey=!1,r.clear=function(){return r.ctrlKey=!1,r.altKey=!1,r.shiftKey=!1,r.metaKey=!1,r},r.keydownEvent=function(i){r.triggerEvent("keydown",i)},r.keyupEvent=function(i){r.triggerEvent("keyup",i)},r.blur=function(){r.clear(),r.trigger("blur")},st(n,"blur",r.blur),st(n,"keydown",r.keydownEvent),st(n,"keyup",r.keyupEvent),r}var e=t.prototype;return Object.defineProperty(t,"global",{get:function(){return ur||(ur=new t)},enumerable:!1,configurable:!0}),t.setGlobal=function(){return this.global},e.destroy=function(){var n=this.container;this.clear(),this.off(),at(n,"blur",this.blur),at(n,"keydown",this.keydownEvent),at(n,"keyup",this.keyupEvent)},e.keydown=function(n,r){return this.addEvent("keydown",n,r)},e.offKeydown=function(n,r){return this.removeEvent("keydown",n,r)},e.offKeyup=function(n,r){return this.removeEvent("keyup",n,r)},e.keyup=function(n,r){return this.addEvent("keyup",n,r)},e.addEvent=function(n,r,i){return Te(r)?this.on("".concat(n,".").concat(lr(r).join(".")),i):de(r)?this.on("".concat(n,".").concat(r),i):this.on(n,r),this},e.removeEvent=function(n,r,i){return Te(r)?this.off("".concat(n,".").concat(lr(r).join(".")),i):de(r)?this.off("".concat(n,".").concat(r),i):this.off(n,r),this},e.triggerEvent=function(n,r){this.ctrlKey=r.ctrlKey,this.shiftKey=r.shiftKey,this.altKey=r.altKey,this.metaKey=r.metaKey;var i=Io(r.keyCode,r.key),a=i==="ctrl"||i==="shift"||i==="meta"||i==="alt",s={key:i,isToggle:a,inputEvent:r,keyCode:r.keyCode,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey,metaKey:r.metaKey};this.trigger(n,s),this.trigger("".concat(n,".").concat(i),s);var c=_o(r,i);c.length>1&&this.trigger("".concat(n,".").concat(c.join(".")),s)},t}(Xe);const Ac=Oc;function Lc(o,t,e,n,r,i){for(var a=0;a<r;++a){var s=e+a*r,c=n+a*r;o[s]+=o[c]*i,t[s]+=t[c]*i}}function Wc(o,t,e,n,r){for(var i=0;i<r;++i){var a=e+i*r,s=n+i*r,c=o[a],l=t[a];o[a]=o[s],o[s]=c,t[a]=t[s],t[s]=l}}function Hc(o,t,e,n,r){for(var i=0;i<n;++i){var a=e+i*n;o[a]/=r,t[a]/=r}}function Bc(o,t){t===void 0&&(t=Math.sqrt(o.length));for(var e=o.slice(),n=Mo(t),r=0;r<t;++r){var i=t*r+r;if(!Tt(e[i],wt)){for(var a=r+1;a<t;++a)if(e[t*r+a]){Wc(e,n,r,a,t);break}}if(!Tt(e[i],wt))return[];Hc(e,n,r,t,e[i]);for(var a=0;a<t;++a){var s=a,c=a+r*t,l=e[c];!Tt(l,wt)||r===a||Lc(e,n,s,r,t,-l)}}return n}function Kt(o,t,e){e===void 0&&(e=Math.sqrt(o.length));var n=[],r=o.length/e,i=t.length/r;if(r){if(!i)return o}else return t;for(var a=0;a<e;++a)for(var s=0;s<i;++s){n[s*e+a]=0;for(var c=0;c<r;++c)n[s*e+a]+=o[c*e+a]*t[s*r+c]}return n}function Yc(o,t,e){e===void 0&&(e=t.length);var n=Kt(o,t,e),r=n[e-1];return n.map(function(i){return i/r})}function $c(o,t){return Kt(o,[1,0,0,0,0,Math.cos(t),Math.sin(t),0,0,-Math.sin(t),Math.cos(t),0,0,0,0,1],4)}function Xc(o,t){return Kt(o,[Math.cos(t),0,-Math.sin(t),0,0,1,0,0,Math.sin(t),0,Math.cos(t),0,0,0,0,1],4)}function Fc(o,t){return Kt(o,zc(t,4))}function we(o,t){var e=t[0],n=e===void 0?1:e,r=t[1],i=r===void 0?1:r,a=t[2],s=a===void 0?1:a;return Kt(o,[n,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1],4)}function on(o,t){var e=t[0],n=e===void 0?0:e,r=t[1],i=r===void 0?0:r,a=t[2],s=a===void 0?0:a;return Kt(o,[1,0,0,0,0,1,0,0,0,0,1,0,n,i,s,1],4)}function wn(o,t){return Kt(o,t,4)}function zc(o,t){var e=Math.cos(o),n=Math.sin(o),r=Mo(t);return r[0]=e,r[1]=n,r[t]=-n,r[t+1]=e,r}function Mo(o){for(var t=o*o,e=[],n=0;n<t;++n)e[n]=n%(o+1)?0:1;return e}function Wn(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function jc(o){return Gc(Kc(o))}function an(o,t){var e=Yc(o,[t[0],t[1]||0,t[2]||0,1],4),n=e[3]||1;return[e[0]/n,e[1]/n,e[2]/n]}function Uc(o,t){t===void 0&&(t=document.body);for(var e=o,n=Wn();e;){var r=getComputedStyle(e).transform;if(n=wn(jc(r),n),e===t)break;e=e.parentElement}return n=Bc(n,4),n[12]=0,n[13]=0,n[14]=0,n}function Gc(o){var t=Wn();return o.forEach(function(e){var n=e.matrixFunction,r=e.functionValue;n&&(t=n(t,r))}),t}function Kc(o){var t=Te(o)?o:Ks(o);return t.map(function(e){var n=Vs(e),r=n.prefix,i=n.value,a=null,s=r,c="";if(r==="translate"||r==="translateX"||r==="translate3d"){var l=re(i).map(function(R){return parseFloat(R)}),d=l[0],u=l[1],f=u===void 0?0:u,p=l[2],h=p===void 0?0:p;a=on,c=[d,f,h]}else if(r==="translateY"){var f=parseFloat(i);a=on,c=[0,f,0]}else if(r==="translateZ"){var h=parseFloat(i);a=on,c=[0,0,h]}else if(r==="scale"||r==="scale3d"){var g=re(i).map(function(R){return parseFloat(R)}),v=g[0],C=g[1],x=C===void 0?v:C,S=g[2],w=S===void 0?1:S;a=we,c=[v,x,w]}else if(r==="scaleX"){var v=parseFloat(i);a=we,c=[v,1,1]}else if(r==="scaleY"){var x=parseFloat(i);a=we,c=[1,x,1]}else if(r==="scaleZ"){var w=parseFloat(i);a=we,c=[1,1,w]}else if(r==="rotate"||r==="rotateZ"||r==="rotateX"||r==="rotateY"){var _=So(i),D=_.unit,b=_.value,P=D==="rad"?b:b*Math.PI/180;r==="rotate"||r==="rotateZ"?(s="rotateZ",a=Fc):r==="rotateX"?a=$c:r==="rotateY"&&(a=Xc),c=P}else if(r==="matrix3d")a=wn,c=re(i).map(function(R){return parseFloat(R)});else if(r==="matrix"){var E=re(i).map(function(R){return parseFloat(R)});a=wn,c=[E[0],E[1],0,0,E[2],E[3],0,0,0,0,1,0,E[4],E[5],0,1]}else s="";return{name:r,functionName:s,value:i,matrixFunction:a,functionValue:c}})}function Vc(o){for(var t=5381,e=o.length;e;)t=t*33^o.charCodeAt(--e);return t>>>0}var qc=Vc;function Zc(o){return qc(o).toString(36)}function Jc(o){if(o&&o.getRootNode){var t=o.getRootNode();if(t.nodeType===11)return t}}function Qc(o,t,e){return e.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(n,r){var i=r.trim();return(i?re(i):[""]).map(function(a){var s=a.trim();return s.indexOf("@")===0?s:s.indexOf(":global")>-1?s.replace(/\:global/g,""):s.indexOf(":host")>-1?""+s.replace(/\:host/g,"."+o):s?"."+o+" "+s:"."+o}).join(", ")+" {"})}function tl(o,t,e,n){var r=document.createElement("style");return r.setAttribute("type","text/css"),r.setAttribute("data-styled-id",o),e.nonce&&r.setAttribute("nonce",e.nonce),r.innerHTML=Qc(o,t,e),(n||document.head||document.body).appendChild(r),r}function el(o){var t="rCS"+Zc(o),e=0,n;return{className:t,inject:function(r,i){i===void 0&&(i={});var a=Jc(r),s=e===0,c;return(a||s)&&(c=tl(t,o,i,a)),s&&(n=c),a||++e,{destroy:function(){a?(a.removeChild(c),c=null):(e>0&&--e,e===0&&n&&(n.parentNode.removeChild(n),n=null))}}}}}var Dn=function(o,t){return Dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])},Dn(o,t)};function Po(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Dn(o,t);function e(){this.constructor=o}o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var it=function(){return it=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},it.apply(this,arguments)};function nl(o,t){var e={};for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&t.indexOf(n)<0&&(e[n]=o[n]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(o);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(o,n[r])&&(e[n[r]]=o[n[r]]);return e}function rl(o,t,e,n){var r=arguments.length,i=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(o,t,e,n);else for(var s=o.length-1;s>=0;s--)(a=o[s])&&(i=(r<3?a(i):r>3?a(t,e,i):a(t,e))||i);return r>3&&i&&Object.defineProperty(t,e,i),i}function se(o,t,e){if(e||arguments.length===2)for(var n=0,r=t.length,i;n<r;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return o.concat(i||Array.prototype.slice.call(t))}function ol(o){if("touches"in o){var t=o.touches[0]||o.changedTouches[0];return{clientX:t.clientX,clientY:t.clientY}}else return{clientX:o.clientX,clientY:o.clientY}}function il(o){if(typeof Map>"u")return o.filter(function(e,n){return o.indexOf(e)===n});var t=new Map;return o.filter(function(e){return t.has(e)?!1:(t.set(e,!0),!0)})}function dr(o,t){return document.elementFromPoint&&document.elementFromPoint(o,t)||null}function To(o,t,e){var n=o.tag,r=o.children,i=o.attributes,a=o.className,s=o.style,c=t||document.createElement(n);for(var l in i)c.setAttribute(l,i[l]);var d=c.children;if(r.forEach(function(f,p){To(f,d[p],c)}),a&&a.split(" ").forEach(function(f){tc(c,f)||ec(c,f)}),s){var u=c.style;for(var l in s)u[l]=s[l]}return!t&&e&&e.appendChild(c),c}function al(o,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var r=t||{},i=r.className,a=i===void 0?"":i,s=r.style,c=s===void 0?{}:s,l=nl(r,["className","style"]);return{tag:o,className:a,style:c,attributes:l,children:e}}function sn(o,t,e){o!==t&&e(o,t)}function fr(o,t,e){var n;e===void 0&&(e=o.data.boundArea);var r=o.distX,i=r===void 0?0:r,a=o.distY,s=a===void 0?0:a,c=o.data,l=c.startX,d=c.startY;if(t>0){var u=Math.sqrt((i*i+s*s)/(1+t*t)),f=t*u;i=(i>=0?1:-1)*f,s=(s>=0?1:-1)*u}var p=Math.abs(i),h=Math.abs(s),g=i<0?l-e.left:e.right-l,v=s<0?d-e.top:e.bottom-d;n=qs([p,h],[0,0],[g,v],!!t),p=n[0],h=n[1],i=(i>=0?1:-1)*p,s=(s>=0?1:-1)*h;var C=Math.min(0,i),x=Math.min(0,s),S=l+C,w=d+x;return{left:S,top:w,right:S+p,bottom:w+h,width:p,height:h}}function De(o){var t=o.getBoundingClientRect(),e=t.left,n=t.top,r=t.width,i=t.height;return{pos1:[e,n],pos2:[e+r,n],pos3:[e,n+i],pos4:[e+r,n+i]}}function pr(o,t,e){var n=Ee(o,t),r=n.list,i=n.prevList,a=n.added,s=n.removed,c=n.maintained;return se(se(se([],a.map(function(l){return r[l]}),!0),s.map(function(l){return i[l]}),!0),e?c.map(function(l){var d=l[1];return r[d]}):[],!0)}function hr(o){for(var t=0,e=o.length,n=1;n<e;++n)t=Math.max(pn(o[n],o[n-1]),t);return t}var No=el(`
:host {
    position: fixed;
    display: none;
    border: 1px solid #4af;
    background: rgba(68, 170, 255, 0.5);
    pointer-events: none;
    will-change: transform;
    z-index: 100;
}
`),ko="selecto-selection ".concat(No.className),Hn=["boundContainer","selectableTargets","selectByClick","selectFromInside","continueSelect","continueSelectWithoutDeselect","toggleContinueSelect","toggleContinueSelectWithoutDeselect","keyContainer","hitRate","scrollOptions","checkInput","preventDefault","ratio","getElementRect","preventDragFromInside","rootContainer","dragCondition","clickBySelectEnd","checkOverflow","innerScrollOptions"],sl=se(["dragContainer","cspNonce","preventClickEventOnDrag","preventClickEventOnDragStart","preventRightClick"],Hn,!0),Ro=["dragStart","drag","dragEnd","selectStart","select","selectEnd","keydown","keyup","scroll","innerScroll"],cl=["clickTarget","getSelectableElements","setSelectedTargets","getElementPoints","getSelectedTargets","findSelectableTargets","triggerDragStart","checkScroll","selectTargetsByPoints","setSelectedTargetsByPoints"],ll=function(o){Po(t,o);function t(n){n===void 0&&(n={});var r=o.call(this)||this;r.selectedTargets=[],r.dragScroll=new Pc,r._onDragStart=function(s,c){var l=s.data,d=s.clientX,u=s.clientY,f=s.inputEvent,p=r.options,h=p.selectFromInside,g=p.selectByClick,v=p.rootContainer,C=p.boundContainer,x=p.preventDragFromInside,S=x===void 0?!0:x,w=p.clickBySelectEnd,_=p.dragCondition;if(_&&!_(s)){s.stop();return}l.data={},l.innerWidth=window.innerWidth,l.innerHeight=window.innerHeight,r.findSelectableTargets(l),l.startSelectedTargets=r.selectedTargets,l.scaleMatrix=Wn(),l.containerX=0,l.containerY=0;var D={left:-1/0,top:-1/0,right:1/0,bottom:1/0};if(v){var b=r.container.getBoundingClientRect();l.containerX=b.left,l.containerY=b.top,l.scaleMatrix=Uc(r.container,v)}if(C){var P=Pe(C)&&"element"in C?it({left:!0,top:!0,bottom:!0,right:!0},C):{element:C,left:!0,top:!0,bottom:!0,right:!0},E=P.element,R=void 0;if(E){de(E)?R=document.querySelector(E):E===!0?R=r.container:R=E;var L=R.getBoundingClientRect();P.left&&(D.left=L.left),P.top&&(D.top=L.top),P.right&&(D.right=L.right),P.bottom&&(D.bottom=L.bottom)}}l.boundArea=D;var T={left:d,top:u,right:d,bottom:u,width:0,height:0},k=[];if(!h||g&&!w){var Y=r._findElement(c||dr(d,u),l.selectableTargets);k=Y?[Y]:[]}var F=k.length>0,I=!h&&F;if(I&&!g)return s.stop(),!1;var $=f.type,W=$==="mousedown"||$==="touchstart",tt=!s.isClick&&W?r.emit("dragStart",it(it({},s),{data:l.data})):!0;if(!tt)return s.stop(),!1;if(r.continueSelect?(k=pr(r.selectedTargets,k,r.continueSelectWithoutDeselect),l.startPassedTargets=r.selectedTargets):l.startPassedTargets=[],r._select(k,T,s,!0),l.startX=d,l.startY=u,l.selectFlag=!1,l.preventDragFromInside=!1,f.target){var nt=an(l.scaleMatrix,[d-l.containerX,u-l.containerY]);r.target.style.cssText+="position: ".concat(v?"absolute":"fixed",";")+"left:0px;top:0px;"+"transform: translate(".concat(nt[0],"px, ").concat(nt[1],"px)")}if(I&&g&&!w)f.preventDefault(),S&&(r._selectEnd(l.startSelectedTargets,l.startPassedTargets,T,s),l.preventDragFromInside=!0);else{l.selectFlag=!0,$==="touchstart"&&f.preventDefault();var O=r.options,H=O.scrollOptions,U=O.innerScrollOptions,K=!1;if(U){for(var q=s.inputEvent,z=q.target,j=null,X=z;X&&X!==document.body;){var rt=getComputedStyle(X).overflow!=="visible";if(rt){j=X;break}X=X.parentElement}j&&(l.innerScrollOptions=it({container:j,checkScrollEvent:!0},U===!0?{}:U),r.dragScroll.dragStart(s,l.innerScrollOptions),K=!0)}!K&&H&&H.container&&r.dragScroll.dragStart(s,H),w&&(l.selectFlag=!1,s.preventDrag())}return!0},r._onDrag=function(s){if(s.data.selectFlag){var c=r.scrollOptions,l=s.data.innerScrollOptions,d=l||(c==null?void 0:c.container);if(d&&!s.isScroll&&r.dragScroll.drag(s,l||c))return}r._checkSelected(s)},r._onDragEnd=function(s){var c=s.data,l=s.inputEvent,d=fr(s,r.options.ratio),u=c.selectFlag;if(l&&r.emit("dragEnd",it(it({isDouble:!!s.isDouble,isClick:!!s.isClick,isDrag:!1,isSelect:u},s),{data:c.data,rect:d})),r.target.style.cssText+="display: none;",u)c.selectFlag=!1,r.dragScroll.dragEnd();else if(r.selectByClick&&r.clickBySelectEnd){var f=r._findElement(dr(s.clientX,s.clientY),c.selectableTargets);r._select(f?[f]:[],d,s)}c.preventDragFromInside||r._selectEnd(c.startSelectedTargets,c.startPassedTargets,d,s)},r._onKeyDown=function(s){var c=r.options,l=!1;if(!r._keydownContinueSelect){var d=r._sameCombiKey(s,c.toggleContinueSelect);r._keydownContinueSelect=d,l=d}if(!r._keydownContinueSelectWithoutDeselection){var d=r._sameCombiKey(s,c.toggleContinueSelectWithoutDeselect);r._keydownContinueSelectWithoutDeselection=d,l=l||d}l&&r.emit("keydown",{keydownContinueSelect:r._keydownContinueSelect,keydownContinueSelectWithoutDeselection:r._keydownContinueSelectWithoutDeselection})},r._onKeyUp=function(s){var c=r.options,l=!1;if(r._keydownContinueSelect){var d=r._sameCombiKey(s,c.toggleContinueSelect,!0);r._keydownContinueSelect=!d,l=d}if(r._keydownContinueSelectWithoutDeselection){var d=r._sameCombiKey(s,c.toggleContinueSelectWithoutDeselect,!0);r._keydownContinueSelectWithoutDeselection=!d,l=l||d}l&&r.emit("keyup",{keydownContinueSelect:r._keydownContinueSelect,keydownContinueSelectWithoutDeselection:r._keydownContinueSelectWithoutDeselection})},r._onBlur=function(){(r._keydownContinueSelect||r._keydownContinueSelectWithoutDeselection)&&(r._keydownContinueSelect=!1,r._keydownContinueSelectWithoutDeselection=!1,r.emit("keyup",{keydownContinueSelect:r._keydownContinueSelect,keydownContinueSelectWithoutDeselection:r._keydownContinueSelectWithoutDeselection}))},r._onDocumentSelectStart=function(s){if(r.gesto.isFlag()){var c=r.dragContainer;c===window&&(c=document.documentElement);var l=c instanceof Element?[c]:[].slice.call(c),d=s.target;l.some(function(u){if(u===d||u.contains(d))return s.preventDefault(),!0})}},r.target=n.portalContainer;var i=n.container;r.options=it({portalContainer:null,container:null,dragContainer:null,selectableTargets:[],selectByClick:!0,selectFromInside:!0,clickBySelectEnd:!1,hitRate:100,continueSelect:!1,continueSelectWithoutDeselect:!1,toggleContinueSelect:null,toggleContinueSelectWithoutDeselect:null,keyContainer:null,scrollOptions:void 0,checkInput:!1,preventDefault:!1,boundContainer:!1,preventDragFromInside:!0,dragCondition:null,rootContainer:null,checkOverflow:!1,innerScrollOptions:!1,getElementRect:De,cspNonce:"",ratio:0},n);var a=r.options.portalContainer;return a&&(i=a.parentElement),r.container=i||document.body,r.initElement(),r.initDragScroll(),r.setKeyController(),r}var e=t.prototype;return e.setSelectedTargets=function(n){var r=this.selectedTargets,i=Ee(r,n),a=i.added,s=i.removed,c=i.prevList,l=i.list;return this.selectedTargets=n,{added:a.map(function(d){return l[d]}),removed:s.map(function(d){return c[d]}),beforeSelected:r,selected:n}},e.setSelectedTargetsByPoints=function(n,r){var i=Math.min(n[0],r[0]),a=Math.min(n[1],r[1]),s=Math.max(n[0],r[0]),c=Math.max(n[1],r[1]),l={left:i,top:a,right:s,bottom:c,width:s-i,height:c-a},d={ignoreClick:!0};this.findSelectableTargets(d);var u=this.hitTest(l,d),f=this.setSelectedTargets(u);return it(it({},f),{rect:l})},e.selectTargetsByPoints=function(n,r){var i=new MouseEvent("mousedown",{clientX:n[0],clientY:n[1],cancelable:!0,bubbles:!0}),a=new MouseEvent("mousemove",{clientX:r[0],clientY:r[1],cancelable:!0,bubbles:!0}),s=new MouseEvent("mousemove",{clientX:r[0],clientY:r[1],cancelable:!0,bubbles:!0}),c=this.gesto,l=c.onDragStart(i);l!==!1&&(c.onDrag(a),c.onDragEnd(s))},e.getSelectedTargets=function(){return this.selectedTargets},e.triggerDragStart=function(n){return this.gesto.triggerDragStart(n),this},e.destroy=function(){this.off(),this.keycon&&this.keycon.destroy(),this.gesto.unset(),this.injectResult.destroy(),this.dragScroll.dragEnd(),at(document,"selectstart",this._onDocumentSelectStart),this.keycon=null,this.gesto=null,this.injectResult=null,this.target=null,this.container=null,this.options=null},e.getElementPoints=function(n){var r=this.getElementRect||De,i=r(n),a=[i.pos1,i.pos2,i.pos4,i.pos3];if(r!==De){var s=n.getBoundingClientRect();return ic(a,s)}return a},e.getSelectableElements=function(){var n=[];return this.options.selectableTargets.forEach(function(r){if(yo(r)){var i=r();i&&n.push.apply(n,[].slice.call(i))}else if(r instanceof Node)n.push(r);else if(Pe(r))n.push(r.value||r.current);else{var a=[].slice.call(document.querySelectorAll(r));n.push.apply(n,a)}}),n},e.checkScroll=function(){if(this.gesto.isFlag()){var n=this.scrollOptions,r=this.gesto.getEventData().innerScrollOptions,i=r||(n==null?void 0:n.container);i&&this.dragScroll.checkScroll(it({inputEvent:this.gesto.getCurrentEvent()},r||n))}},e.findSelectableTargets=function(n){var r=this;n===void 0&&(n=this.gesto.getEventData());var i=this.getSelectableElements(),a=i.map(function(d){return r.getElementPoints(d)});n.selectableTargets=i,n.selectablePoints=a,n.selectableParentMap=null;var s=this.options,c=s.checkOverflow||s.innerScrollOptions;if(c){var l=new Map;n.selectableInnerScrollParentMap=l,n.selectableInnerScrollPathsList=i.map(function(d,u){for(var f=d.parentElement,p=[],h=[],g=function(){var v=l.get(f);if(!v){var C=getComputedStyle(f).overflow!=="visible";if(C){var x=De(f);v={parentElement:f,indexes:[],points:[x.pos1,x.pos2,x.pos4,x.pos3],paths:se([],h,!0)},p.push(f),p.forEach(function(S){l.set(S,v)}),p=[]}}v?(f=v.parentElement,l.get(f).indexes.push(u),h.push(f)):p.push(f),f=f.parentElement};f&&f!==document.body;)g();return h})}return s.checkOverflow||(n.selectableInners=i.map(function(){return!0})),this._refreshGroups(n),i},e.clickTarget=function(n,r){var i=ol(n),a=i.clientX,s=i.clientY,c={data:{selectFlag:!1},clientX:a,clientY:s,inputEvent:n,isClick:!0,isTrusted:!1,stop:function(){return!1}};return this._onDragStart(c,r)&&this._onDragEnd(c),this},e.setKeyController=function(){var n=this.options,r=n.keyContainer,i=n.toggleContinueSelect,a=n.toggleContinueSelectWithoutDeselect;this.keycon&&(this.keycon.destroy(),this.keycon=null),(i||a)&&(this.keycon=new Ac(r||window),this.keycon.keydown(this._onKeyDown).keyup(this._onKeyUp).on("blur",this._onBlur))},e.setKeyEvent=function(){var n=this.options,r=n.toggleContinueSelect,i=n.toggleContinueSelectWithoutDeselect;!r&&!i||this.keycon||this.setKeyController()},e.setKeyContainer=function(n){var r=this,i=this.options;sn(i.keyContainer,n,function(){i.keyContainer=n,r.setKeyController()})},e.getContinueSelect=function(){var n=this.options,r=n.continueSelect,i=n.toggleContinueSelect;return!i||!this._keydownContinueSelect?r:!r},e.getContinueSelectWithoutDeselect=function(){var n=this.options,r=n.continueSelectWithoutDeselect,i=n.toggleContinueSelectWithoutDeselect;return!i||!this._keydownContinueSelectWithoutDeselection?r:!r},e.setToggleContinueSelect=function(n){var r=this,i=this.options;sn(i.toggleContinueSelect,n,function(){i.toggleContinueSelect=n,r.setKeyEvent()})},e.setToggleContinueSelectWithoutDeselect=function(n){var r=this,i=this.options;sn(i.toggleContinueSelectWithoutDeselect,n,function(){i.toggleContinueSelectWithoutDeselect=n,r.setKeyEvent()})},e.setPreventDefault=function(n){this.gesto.options.preventDefault=n},e.setCheckInput=function(n){this.gesto.options.checkInput=n},e.initElement=function(){this.target=To(al("div",{className:ko}),this.target,this.container);var n=this.target,r=this.options,i=r.dragContainer,a=r.checkInput,s=r.preventDefault,c=r.preventClickEventOnDragStart,l=r.preventClickEventOnDrag,d=r.preventClickEventByCondition,u=r.preventRightClick,f=u===void 0?!0:u;this.dragContainer=typeof i=="string"?[].slice.call(document.querySelectorAll(i)):i||this.target.parentNode,this.gesto=new hc(this.dragContainer,{checkWindowBlur:!0,container:window,checkInput:a,preventDefault:s,preventClickEventOnDragStart:c,preventClickEventOnDrag:l,preventClickEventByCondition:d,preventRightClick:f}).on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd}),st(document,"selectstart",this._onDocumentSelectStart),this.injectResult=No.inject(n,{nonce:this.options.cspNonce})},e.hitTest=function(n,r,i){var a=this.options,s=a.hitRate,c=a.selectByClick,l=n.left,d=n.top,u=n.right,f=n.bottom,p=r.innerGroups,h=r.innerWidth,g=r.innerHeight,v=i==null?void 0:i.clientX,C=i==null?void 0:i.clientY,x=r.ignoreClick,S=[[l,d],[u,d],[u,f],[l,f]],w=So("".concat(s)),_=function(W,tt){var nt=x?!1:hn([v,C],W);if(c&&nt)return!0;var O=vn(S,W);if(!O.length)return!1;var H=tn(O),U=0;if(H===0&&tn(W)===0?(U=hr(W),H=hr(O)):U=tn(W),w.unit==="px")return H>=w.value;var K=wo(Math.round(H/U*100),0,100);return K>=Math.min(100,w.value)},D=r.selectableTargets,b=r.selectablePoints,P=r.selectableInners;if(!p)return D.filter(function(W,tt){return P[tt]?_(b[tt],D[tt]):!1});for(var E=[],R=Math.floor(l/h),L=Math.floor(u/h),T=Math.floor(d/g),k=Math.floor(f/g),Y=R;Y<=L;++Y){var F=p[Y];if(F)for(var I=T;I<=k;++I){var $=F[I];$&&$.forEach(function(W){var tt=b[W],nt=P[W],O=D[W];nt&&_(tt)&&E.push(O)})}}return il(E)},e.initDragScroll=function(){var n=this;this.dragScroll.on("scrollDrag",function(r){var i=r.next;i(n.gesto.getCurrentEvent())}).on("scroll",function(r){var i=r.container,a=r.direction,s=n.gesto.getEventData().innerScrollOptions;s?n.emit("innerScroll",{container:i,direction:a}):n.emit("scroll",{container:i,direction:a})}).on("move",function(r){var i=r.offsetX,a=r.offsetY,s=r.inputEvent,c=n.gesto;if(!(!c||!c.isFlag())){var l=n.gesto.getEventData(),d=l.boundArea;l.startX-=i,l.startY-=a;var u=n.gesto.getEventData().innerScrollOptions,f=u==null?void 0:u.container,p=!1;if(f){var h=l.selectableInnerScrollParentMap,g=h.get(f);g&&(g.paths.forEach(function(v){var C=h.get(v);C.points.forEach(function(x){x[0]-=i,x[1]-=a})}),g.indexes.forEach(function(v){l.selectablePoints[v].forEach(function(C){C[0]-=i,C[1]-=a})}),p=!0)}p||l.selectablePoints.forEach(function(v){v.forEach(function(C){C[0]-=i,C[1]-=a})}),n._refreshGroups(l),d.left-=i,d.right-=i,d.top-=a,d.bottom-=a,n.gesto.scrollBy(i,a,s.inputEvent),n._checkSelected(n.gesto.getCurrentEvent())}})},e._select=function(n,r,i,a){var s=i.inputEvent,c=i.data,l=this.setSelectedTargets(n);a&&this.emit("selectStart",it(it({},l),{rect:r,inputEvent:s,data:c.data,isTrusted:i.isTrusted})),(l.added.length||l.removed.length)&&this.emit("select",it(it({},l),{rect:r,inputEvent:s,data:c.data,isTrusted:i.isTrusted}))},e._selectEnd=function(n,r,i,a){var s=a.inputEvent,c=a.isDouble,l=a.data,d=Ee(n,this.selectedTargets),u=d.added,f=d.removed,p=d.prevList,h=d.list,g=Ee(r,this.selectedTargets),v=g.added,C=g.removed,x=g.prevList,S=g.list,w=s&&s.type,_=w==="mousedown"||w==="touchstart";this.emit("selectEnd",{startSelected:n,beforeSelected:r,selected:this.selectedTargets,added:u.map(function(D){return h[D]}),removed:f.map(function(D){return p[D]}),afterAdded:v.map(function(D){return S[D]}),afterRemoved:C.map(function(D){return x[D]}),isDragStart:_,isClick:!!a.isClick,isDouble:!!c,rect:i,inputEvent:s,data:l.data,isTrusted:a.isTrusted})},e._checkSelected=function(n,r){r===void 0&&(r=fr(n,this.options.ratio));var i=n.data,a=r.top,s=r.left,c=r.width,l=r.height,d=i.selectFlag,u=i.containerX,f=i.containerY,p=i.scaleMatrix,h=an(p,[s-u,a-f]),g=an(p,[c,l]),v=[];if(d){this.target.style.cssText+="display: block;left:0px;top:0px;"+"transform: translate(".concat(h[0],"px, ").concat(h[1],"px);")+"width:".concat(g[0],"px;height:").concat(g[1],"px;");var C=this.hitTest(r,i,n);v=pr(i.startPassedTargets,C,this.continueSelect&&this.continueSelectWithoutDeselect)}var x=this.emit("drag",it(it({},n),{data:i.data,isSelect:d,rect:r}));if(x===!1){this.target.style.cssText+="display: none;",n.stop();return}d&&this._select(v,r,n)},e._sameCombiKey=function(n,r,i){if(!r)return!1;var a=_o(n.inputEvent,n.key),s=[].concat(r),c=Te(s[0])?s:[s];if(i){var l=n.key;return c.some(function(d){return d.some(function(u){return u===l})})}return c.some(function(d){return d.every(function(u){return a.indexOf(u)>-1})})},e._findElement=function(n,r){for(var i=n;i&&!(r.indexOf(i)>-1);)i=i.parentElement;return i},e._refreshGroups=function(n){var r,i=n.innerWidth,a=n.innerHeight,s=n.selectablePoints;if(this.options.checkOverflow){var c=(r=this.gesto.getEventData().innerScrollOptions)===null||r===void 0?void 0:r.container,l=n.selectableInnerScrollParentMap,d=n.selectableInnerScrollPathsList;n.selectableInners=d.map(function(p,h){var g=!1;return p.every(function(v){if(g)return!0;if(v===c)return g=!0,!0;var C=l.get(v);if(C){var x=s[h],S=C.points,w=vn(x,S);if(!w.length)return!1}return!0})})}if(!i||!a)n.innerGroups=null;else{var u=n.selectablePoints,f={};u.forEach(function(p,h){var g=1/0,v=-1/0,C=1/0,x=-1/0;p.forEach(function(_){var D=Math.floor(_[0]/i),b=Math.floor(_[1]/a);g=Math.min(D,g),v=Math.max(D,v),C=Math.min(b,C),x=Math.max(b,x)});for(var S=g;S<=v;++S)for(var w=C;w<=x;++w)f[S]=f[S]||{},f[S][w]=f[S][w]||[],f[S][w].push(h)}),n.innerGroups=f}},t=rl([vc(Hn,function(n,r){var i={enumerable:!0,configurable:!0,get:function(){return this.options[r]}},a=dn("get ".concat(r));n[a]?i.get=function(){return this[a]()}:i.get=function(){return this.options[r]};var s=dn("set ".concat(r));n[s]?i.set=function(l){this[s](l)}:i.set=function(l){this.options[r]=l},Object.defineProperty(n,r,i)})],t),t}(Xe),ul=function(o){Po(t,o);function t(){return o!==null&&o.apply(this,arguments)||this}return t}(ll);const dl=ul;var xn=function(o,t){return xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])},xn(o,t)};function fl(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");xn(o,t);function e(){this.constructor=o}o.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Re=function(){return Re=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Re.apply(this,arguments)};function pl(o,t,e,n){var r=arguments.length,i=r<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(o,t,e,n);else for(var s=o.length-1;s>=0;s--)(a=o[s])&&(i=(r<3?a(i):r>3?a(t,e,i):a(t,e))||i);return r>3&&i&&Object.defineProperty(t,e,i),i}var gr=Ro.map(function(o){return dn("on ".concat(o))}),hl=function(o){fl(t,o);function t(){return o!==null&&o.apply(this,arguments)||this}var e=t.prototype;return e.render=function(){return m.createElement("div",{className:ko,ref:gc(this,"selectionElement")})},e.componentDidMount=function(){var n=this,r=this.props,i={};sl.forEach(function(a){a in r&&(i[a]=r[a])}),this.selecto=new dl(Re(Re({},i),{portalContainer:this.selectionElement})),Ro.forEach(function(a,s){n.selecto.on(a,function(c){var l=n.props,d=l[gr[s]]&&l[gr[s]](c);d===!1&&c.stop()})})},e.componentDidUpdate=function(n){var r=this.props,i=this.selecto;Hn.forEach(function(a){n[a]!==r[a]&&(i[a]=r[a])})},e.componentWillUnmount=function(){this.selecto.destroy()},pl([mc(cl)],t.prototype,"selecto",void 0),t}(m.PureComponent);const gl=hl,vl=(o,t,e,n)=>{const r=o[0][0],i=o[0][1],a=o[1][0],s=o[2][1];return[[r-e,i-n+t],[a-e,i-n+t],[a-e,s-n+t],[r-e,s-n+t]]},ml=o=>{var x;const{scrollContainerRef:t,canvasNodeDisplayName:e}=o,n=(x=t.current)==null?void 0:x.getBoundingClientRect(),r=m.useRef([0,0]),i=m.useRef([]),a=m.useRef(!1),s=m.useRef(void 0),c=m.useRef(0),l=m.useRef(null),d=N(At),u=N(mi),f=yt(),p=S=>{const{direction:w}=S;t.current.scrollBy(0,w[1]*10)},h=S=>S.inputEvent.target.getAttribute("data-isroot")==="true",g=S=>{var P,E;const w=((P=t.current)==null?void 0:P.scrollTop)??0,_=S.clientX-((n==null?void 0:n.x)??0),D=S.clientY-((n==null?void 0:n.y)??0)+w;s.current=w,c.current=w;let b=(E=t.current)==null?void 0:E.style;r.current=[_,D],b==null||b.setProperty("--illa-select-area-left",`${_}px`),b==null||b.setProperty("--illa-select-area-top",`${D}px`),i.current=d},v=S=>{var H,U;a.current=!0;const{rect:w,distX:_,clientY:D}=S;let b=(H=t.current)==null?void 0:H.style;const P=(n==null?void 0:n.y)??0,E=(n==null?void 0:n.x)??0,R=((U=t.current)==null?void 0:U.scrollTop)??0,L=D-((n==null?void 0:n.y)??0)+R,T=L-r.current[1],k=R-c.current>0?1:-1,Y=R-c.current,F=Math.abs(L-r.current[1])+(k===-1?-Y:0);let I=r.current[0],$=r.current[1];_<0&&(I+=_),T<0&&($=L),b==null||b.setProperty("--illa-select-area-left",`${I}px`),b==null||b.setProperty("--illa-select-area-top",`${$}px`),b==null||b.setProperty("--illa-select-area-width",`${w.width}px`),b==null||b.setProperty("--illa-select-area-height",`${F}px`);const W=[],tt=S.currentTarget.getSelectableElements(),nt=[[I,$],[I+w.width,$],[I+w.width,$+F],[I,$+F]];tt.forEach(K=>{const q=S.currentTarget.getElementPoints(K),z=vl(q,R,E,P);if(vn(z,nt).length>0){const X=K.getAttribute("data-displayname");X&&W.push(X)}});let O=!1;W.length===i.current.length&&(O=W.every((K,q)=>K===i.current[q])),O||(i.current=W,f(J.updateSelectedComponent(W)))},C=()=>{!a.current&&!u&&d.length>0?f(J.updateSelectedComponent([])):Qt(te.SELECT,{element:"component",parameter1:"drag"}),a.current=!1,s.current=void 0,c.current=0};return m.useEffect(()=>{const S=t.current;if(!S||!l.current)return;const w=()=>{var _;a.current&&((_=l.current)==null||_.checkScroll())};return S.addEventListener("scroll",w),()=>{S==null||S.removeEventListener("scroll",w)}},[n==null?void 0:n.x,n==null?void 0:n.y,t,f]),y(gl,{ref:l,container:t.current,dragContainer:t.current,selectableTargets:[`div[data-parentnode='${e}']`],onScroll:p,scrollOptions:{container:t.current,getScrollPosition:()=>[t.current.scrollLeft,t.current.scrollTop],throttleTime:30,threshold:0},dragCondition:h,onDragStart:g,onDrag:v,onDragEnd:C})},yl=o=>{const t=Math.min(...o.map(i=>i.y)),e=Math.min(...o.map(i=>i.x)),n=Math.max(...o.map(i=>i.y+i.h)),r=Math.max(...o.map(i=>i.x+i.w));return{x:e,y:t,w:r-e,h:n-t,minW:zt}},Cl=(o,t,e,n)=>M`
    position: absolute;
    border: 1px dashed ${V("techPurple","03")};
    width: ${o}px;
    height: ${t}px;
    left: 0;
    top: 0;
    transform: translate(${e}px, ${n}px);
    pointer-events: none;
  `,Oo=o=>{const{unitW:t,containerDisplayName:e}=o,n=N(At),r=N(dt),i=m.useMemo(()=>{let c=[];return n.forEach(l=>{if(!r[l])return null;c.push({...r[l].layoutInfo,parentNode:r[l].parentNode})}),c},[n,r]),a=i.every(c=>c.parentNode===e),s=yl(i);return n.length<=1||!a?null:y("div",{css:Cl(s.w*t,s.h*B,s.x*t,s.y*B)})};Oo.displayName="MultiSelectedScaleSquare";const Sl=m.memo(Oo),Ao=m.createContext({}),ru=o=>{const{children:t}=o,e=m.useRef([]),n=s=>{e.current.push(s)},r=s=>{const c=e.current.indexOf(s);c!==-1&&e.current.splice(c,1)},i=()=>{e.current=[]},a={hoveredWidgets:e.current,addHoverWidget:n,deleteHoverWidget:r,resetHoverWidget:i};return y(Ao.Provider,{value:a,children:t})},wl=(o,t=0)=>({x:o.x,y:o.y+t}),Dl=(o,t,e=0)=>{const{x:n,y:r}=wl(t,e);return{x:n-o.x,y:r-o.y}},xl=(o,t,e,n=0)=>{const r=Dl(t,e,n),i=r.x/o,a=Math.floor(i),s=i-a,c=Math.floor(r.y),l=r.y-c;return{xMod:s,yMod:l,xInteger:a,yInteger:c}},bl=(o,t,e,n=!1,r)=>{const i=Qo(),a=N(Mn),s=N(Ae),{width:c,height:l}=qo(),d=m.useRef({xInteger:0,yInteger:0,xMod:0,yMod:0}),u=m.useContext(Ao),f=m.useCallback(()=>{u.addHoverWidget(e)},[e,u]),p=m.useCallback(()=>{u.deleteHoverWidget(e),n&&!s&&_e(e,0,0,0,0,!0)},[e,s,n,u]),h=m.useCallback(C=>{var L,T;const{clientX:x,clientY:S}=C;if(u.hoveredWidgets.length===0||u.hoveredWidgets.at(-1)!==e)return;const w=(L=o.current)==null?void 0:L.getBoundingClientRect(),_={x:(w==null?void 0:w.left)??0,y:(w==null?void 0:w.top)??0},D={x,y:S},{xInteger:b,xMod:P,yInteger:E,yMod:R}=xl(t,_,D,(T=o.current)==null?void 0:T.scrollTop);d.current={xInteger:b,yInteger:E,xMod:P,yMod:R},Number.isInteger(b)&&Number.isInteger(E)&&!Number.isNaN(P)&&!Number.isNaN(R)&&!s&&_e(e,b,E,P,R)},[o,e,s,u.hoveredWidgets,t]),g=m.useCallback(()=>{document.hidden&&p()},[p]),v=m.useCallback(()=>{p()},[p]);return m.useEffect(()=>{const C=r.current;return C&&(C.addEventListener("mouseenter",f),C==null||C.addEventListener("mousemove",h),C==null||C.addEventListener("mouseleave",p)),()=>{C&&(C.removeEventListener("mouseenter",f),C.removeEventListener("mousemove",h),C.removeEventListener("mouseleave",p))}},[o,l,f,p,h,i.appId,t,a.nickname,a.userID,c,r]),m.useEffect(()=>(n&&(window.addEventListener("blur",p),window.addEventListener("visibilitychange",g),window.addEventListener("pagehide",v)),()=>{n&&(window.removeEventListener("blur",p),window.removeEventListener("visibilitychange",g),window.removeEventListener("pagehide",v))}),[n,p,v,g]),{cursorPositionRef:d}},El=o=>{const t=He(o.map(e=>e.layoutInfo));return o.map(e=>({...e,layoutInfo:{...e.layoutInfo,x:e.layoutInfo.x-t.x,y:e.layoutInfo.y-t.y}}))},Il=M`
  font-size: 14px;
  color: ${Nt(`--${kt}-grayBlue-04`)};
  text-align: center;
`,_l=(o=!1,t)=>M`
  height: 100%;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: ${o?"100%":15*B-2*Bt+t};
`,ou=M`
  width: 100%;
  height: 100%;
  display: flex;
`,Ml=({handleUpdateHeight:o,isInner:t,containerPadding:e="0"})=>{const{t:n}=Gt(),r=pe(e),i=r.paddingTop+r.paddingBottom;return m.useEffect(()=>{o&&o(13*B+i)},[o,i]),y("div",{css:_l(t,i),children:y("span",{css:Il,children:n("widget.container.empty")})})},Pl=(o,t,e=!0)=>{m.useLayoutEffect(()=>{const n=new ResizeObserver(r=>{if(!o)return;const i=r[0].contentRect.height;o(i)});return n&&t&&e&&(n.unobserve(t),n.observe(t)),()=>{t&&e&&n.unobserve(t)}},[t,e,o])},Tl=(o,t="transparent",e,n)=>{const{paddingTop:r,paddingBottom:i,paddingLeft:a,paddingRight:s}=pe(o);return M`
    height: 100%;
    width: 100%;
    padding: ${r}px ${s}px ${i}px
      ${a}px;
    position: relative;
    overflow: hidden;
    background: ${t};
    box-shadow: ${xi(e)};
    border: ${n?`1px solid ${n}`:"unset"};
  `},iu=o=>{const{paddingTop:t,paddingBottom:e,paddingLeft:n,paddingRight:r}=pe(o);return M`
    height: 100%;
    width: 100%;
    padding: ${t}px ${r}px ${e}px
      ${n}px;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
  `},au=o=>M`
  height: 100%;
  width: 100%;
  padding: ${o}px;
  position: relative;
  overflow: hidden auto;
`,Nl=M`
  width: 100%;
  height: 100%;
  position: relative;
  padding: ${Bt}px;
  overflow: hidden auto;
`,kl=o=>{const{paddingTop:t,paddingBottom:e,paddingLeft:n,paddingRight:r}=pe(o);return M`
    top: ${t}px;
    bottom: ${e}px;
    left: ${n}px;
    right: ${r}px;
    position: absolute;
    border: ${yi}px solid ${V("grayBlue","09")};
    pointer-events: none;
  `},Rl=o=>M`
  width: 100%;
  height: ${o?`${o}px`:"130vh"};
`,Ol=(o,t=!1)=>M`
    width: 100%;
    height: 100%;
    ${t?Ll(o):Al}
    position: relative;
  `,Al=M`
  background: unset;
`,Ll=o=>M`
    background-image: radial-gradient(
      circle at 1px 1px,
      ${V("grayBlue","08")} 1px,
      transparent 0px
    );
    background-repeat: repeat;
    background-size: ${o}px ${B}px;
  `,Wl=M`
  > .selecto-selection {
    position: absolute !important;
    transform: translate(
      var(--illa-select-area-left, 0),
      var(--illa-select-area-top, 0)
    ) !important;
    width: var(--illa-select-area-width, 0) !important;
    height: var(--illa-select-area-height, 0) !important;
    background: rgba(101, 74, 236, 0.08) !important;
    border: 1px solid ${V("techPurple","03")} !important;
  }
`,su=M`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: ${V("blackAlpha","04")};
  z-index: -1;
`,Lo=o=>{var vt,ct,Z;const{columnNumber:t=le,isRootCanvas:e,displayName:n,containerPadding:r,canResizeCanvas:i=!1,safeRowNumber:a=Si,minHeight:s,background:c,shadowSize:l="none",handleUpdateHeight:d}=o,u=N(Cr),f=m.useRef(null),p=m.useRef(!0),h=m.useRef(0),{y:g}=Zo(f),v=N(Ci),[C,x]=bn(),S=Jo(),w=m.useRef(null),{t:_}=Gt(),D=pe(r),b={top:x.top+D.paddingTop+Bt,left:x.left+D.paddingLeft+Bt,width:x.width-(D.paddingLeft+D.paddingRight+Bt*2),height:x.height-(D.paddingTop+D.paddingBottom+Bt*2)},P=N(Lr),E=b.width/t,[R,L]=m.useState(b.height),T=N(dt),k=Object.values(T).filter(A=>A.parentNode===n),Y=N(At),F=yt(),I=N(Ae),$=N(Nr),W=N(Pn),tt=N(Rt),nt=T[n],[O,H]=zr(()=>({accept:["components"],canDrop:()=>tt,drop:(A,lt)=>{var Bn;const Mt=lt.didDrop();if(!lt.isOver({shallow:!0})&&Mt)return{isDropOnCanvas:!!((Bn=lt.getDropResult())!=null&&Bn.isDropOnCanvas)};const{draggedComponents:Q,dropResult:ft,dragEffect:Ct}=A,pt=Q[0].parentNode;if(ft&&!ft.shape&&!ft.canDrop)return S.error({content:_("frame.message.session.error")}),{isDropOnCanvas:!1};if(!ft||!ft.shape)return{isDropOnCanvas:!1};const Fe=Q.some(xt=>xt.widgetType==="TABLE_WIDGET"),Wo=Object.values(u).some(xt=>xt.includes(n));if(Fe&&Wo)return S.error({content:_("editor.inspect.setter_tips.list.table_disallowed")}),{isDropOnCanvas:!1};const{shape:Lt,columnNumberWhenDrag:ze,columnNumberWhenDrop:je}=ft;if(Q.length===1)switch(Ct){case bt.ADD:{const xt=wi(Lt.x,Lt.y,Lt.w,Q[0].widgetType,Q[0].displayName,n,[],je/ze);xt.type==="MODAL_WIDGET"?F(Dt.addModalComponentReducer({currentPageDisplayName:v,modalComponentNode:xt})):F(Dt.addComponentReducer([xt]));break}case bt.UPDATE:{const xt=[{displayName:Q[0].displayName,x:Lt.x,y:Lt.y,w:Lt.w,h:Q[0].layoutInfo.h}];F(Dt.updateComponentPositionReducer({oldParentNodeDisplayName:pt,newParentNodeDisplayName:n,updateSlices:xt,columnNumberWhenDrag:ze,columnNumberWhenDrop:je}))}}if(Q.length>1&&Ct===bt.UPDATE){const Ho=El(Q).map(ee=>{const Yn=Me({x:ee.layoutInfo.x+Lt.x,y:ee.layoutInfo.y+Lt.y,w:ee.layoutInfo.w,h:ee.layoutInfo.h},t,Q.length>1);return{...Yn,h:Yn.previewH,displayName:ee.displayName}});F(Dt.updateComponentPositionReducer({oldParentNodeDisplayName:pt,newParentNodeDisplayName:n,updateSlices:Ho,columnNumberWhenDrag:ze,columnNumberWhenDrop:je}))}const ge=X.current;return _e(n,ge.xInteger,ge.yInteger,ge.xMod,ge.yMod),{isDropOnCanvas:!0}},collect:A=>({isOver:A.isOver({shallow:!0})})}),[tt,E,b,g,n,u]),U=m.useRef(0);va(n,f),m.useEffect(()=>()=>{ma(n)},[n]),m.useEffect(()=>{const A=f.current;if(!A)return;const lt=Mt=>{if(!O.isOver&&A.dataset.isDraggingOver!=="true"||!A||!e)return;const{top:Q,bottom:ft}=A.getBoundingClientRect(),{clientY:Ct}=Mt;window.clearInterval(U.current),U.current=window.setInterval(()=>{Ct<Q+B*a&&A.scrollBy({top:-8}),Ct>ft-B*a&&A.scrollBy({top:8})},160)};return A==null||A.addEventListener("mousemove",lt),()=>{A&&(A==null||A.removeEventListener("mousemove",lt)),window.clearInterval(U.current)}},[O.isOver,$,e,a]);const K=((vt=f.current)==null?void 0:vt.dataset.isDraggingOver)==="true",q=m.useRef(0),z=Math.max(...k.map(A=>A.layoutInfo.y+A.layoutInfo.h));m.useEffect(()=>{K&&isFinite(z)&&z>q.current&&(q.current=z),K||(q.current=z)},[K,z]),m.useEffect(()=>{const A=w.current;if(!A)return;const lt=A.getBoundingClientRect();if(!(isFinite(z)&&q.current>z&&$)){if(i){isFinite(z)?L(z*B):L(s);return}if(z*B<b.height){L(b.height);return}if(z*B>=lt.height-B*Gn){L(tt&&e?z*B+B*Gn:z*B);return}L(z*B)}},[i,b.height,tt,$,e,z,s]),m.useEffect(()=>{if(p.current&&I){p.current=!1,h.current=g;return}I||(p.current=!0,h.current=g)},[I,g]);const j=m.useCallback(A=>{d&&d(A+Bt*2+D.paddingTop+D.paddingBottom)},[d,D.paddingBottom,D.paddingTop]);Pl(j,w.current,i);const{cursorPositionRef:X}=bl(f,E,n,e,f),rt=m.useCallback(A=>{if(Y.length>1){let lt=Number.MAX_SAFE_INTEGER,Mt=Number.MAX_SAFE_INTEGER,Q=Number.MIN_SAFE_INTEGER,ft=Number.MIN_SAFE_INTEGER;Y.forEach(Ct=>{const pt=ht(Ct);pt&&(lt=Math.min(lt,pt.x),Mt=Math.min(Mt,pt.y),Q=Math.max(Q,pt.x+pt.w),ft=Math.max(ft,pt.y+pt.h))}),Ot.switchFocus("canvas",{displayName:n,type:"group",clickPosition:[lt,Mt,Q-lt,ft-Mt]})}else Ot.switchFocus("canvas",{displayName:n,type:"inner_container",clickPosition:ia(A.clientX-A.currentTarget.getBoundingClientRect().x,A.clientY-A.currentTarget.getBoundingClientRect().y,E,B,t)})},[t,n,Y,E]);return ps(K),et("div",{css:Tl(r,c,l),"data-outer-canvas-container":n,ref:C,children:[y("div",{css:Nl,ref:f,"data-scroll-container":n,"data-column-number":t,"data-unit-width":E,"data-is-dragging-over":!1,className:"scroll-container",children:y("div",{ref:A=>{H(A),w.current=A},css:Rl(R),onClick:rt,children:et("div",{css:[Ol(E,P),Wl],onClick:rt,"data-isroot":e,"data-canvas-container":n,"data-column-number":t,"data-unit-width":E,"data-list-widget-container":!0,children:[tt&&y(Ws,{unitW:E,parentDisplayName:n,columns:t}),tt&&y(Ys,{unitW:E,displayName:n}),((ct=nt==null?void 0:nt.childrenNode)==null?void 0:ct.length)>0?(Z=nt==null?void 0:nt.childrenNode)==null?void 0:Z.map(A=>y(Is,{displayName:A,unitW:E,parentNodeDisplayName:n,columnNumber:t},`${n}-${A}`)):e?null:y(Ml,{isInner:!0,containerPadding:r}),O.isOver&&tt&&y(Ps,{unitW:E,parentNodeDisplayName:n,columnNumber:t}),!W&&e&&y(ml,{scrollContainerRef:f,canvasNodeDisplayName:n}),!I&&!W&&y(Sl,{unitW:E,containerDisplayName:n})]})})}),P&&y("div",{css:kl(r)})]})};Lo.displayName="RenderComponentCanvasContainer";const cu=m.memo(Lo);export{Is as C,bt as D,jr as E,Ot as F,ru as M,cu as R,Vr as S,su as a,Jl as b,Kl as c,Vl as d,oa as e,He as f,Ca as g,tu as h,ou as i,Ml as j,zr as k,nu as l,Zl as m,au as n,iu as o,eu as p,ga as q,Xr as r,qn as s,We as t,Ql as u,Ha as v,Wa as w,Jn as x,ql as y,ie as z};
//# sourceMappingURL=renderComponentCanvasContainer-2e4cd54a.js.map
