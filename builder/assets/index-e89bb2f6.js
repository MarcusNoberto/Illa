import{q as ae,v as Pe,n as x,o as m,k as t,bq as Rn,B as te,F,bx as ja,A as St,l as S,cd as Ua,m as I,ce as En,aW as Ee,aY as He,aV as ge,s as qa,bC as Fe,aa as It,aT as Qa,bA as Oe,bB as ce,a1 as Bn,bQ as ve,O as Lt,aF as Ya,a8 as Ja,N as Xa,cf as _t,C as Le,b6 as kt,aw as Vn,aD as Ka,ay as ut,a2 as Hn,bz as Fn,aS as On,aE as zn,bd as eo,aQ as At,S as Be,M as Dt,D as Wn,ab as gt,ah as Tt,cg as Ke,aj as to,ch as no,ci as ue,cj as ao,am as oo,a4 as Zn,T as Gn,ck as io,a_ as jn,aB as so,cb as Un,z as ro,aZ as lo,I as Jt,cl as co,cm as po,cn as uo,co as go,aP as ho}from"./@illa-design-402f214a.js";import{fi as mo,fj as fo,fk as yo,fl as xo,fm as Co,fn as bo,fo as wo,fp as vo,fq as So,b as y,bC as Ae,e as W,u as R,bl as j,bk as Q,bf as N,dq as _e,ae as qn,bE as Ne,bF as xe,fr as Ce,cX as Re,t as be,E as de,a as A,bq as he,bV as $e,fs as Io,c3 as ze,ft as Mt,N as we,bh as X,H as Lo,Q as _o,fu as Pt,d1 as et,fv as ko,_ as Se,fw as se,bB as pe,aS as Qn,cj as Ve,fx as Nt,fy as Ge,cQ as P,dB as Yn,n as tt,d7 as $t,fz as Jn,b4 as Rt,fA as Xn,a9 as Ao,fB as Do,cu as Xt,bg as qe,bv as To,dr as Mo,fC as Po,fD as No,b9 as U,b7 as Me,fE as Kn,fF as $o,fG as Ro,fH as Eo,fI as Bo,fJ as Vo,eI as Ho,fK as Fo,fL as Oo,aB as Kt,fM as en,fN as zo,fO as tn,fP as Wo,fQ as Zo,aD as Qe,fR as Go,fS as jo,c4 as ea,I as Uo,cY as nn,bt as Et,dG as Bt,dY as qo,br as Qo,bs as ta,cm as na,fT as Yo,cn as ht,dO as Jo,f7 as Xo,dM as Ko,B as aa,q as oa,fU as ei,l as ia,fV as ti,fW as ni,cq as an,fX as ai,dh as je,fY as oi,cZ as ii,fZ as si,f_ as ri,f$ as li,g0 as ci,g1 as di,g2 as pi,g3 as ui,g4 as gi,bm as mt,g5 as hi,g6 as mi,g7 as fi,cN as yi,g8 as xi,g9 as Ci,a5 as nt,ga as bi,gb as wi,gc as vi,gd as Si,bD as Ii,ge as Li,w as ft,cO as sa,cy as yt,cw as xt,cz as Ct,gf as bt,cB as wt,cD as vt,fb as _i,fg as ki,fh as Ai,g as Di,bn as Ti,cP as Mi,f8 as Pi,gg as Ni,d as $i,gh as Ri,gi as Ei,c as Bi,S as Vi,gj as Hi}from"./index-2f1869ab.js";import{r as i,l as Fi,L as Vt,u as Ht,a as ra}from"./react-9b7e00e3.js";import{a as o,k as Ft}from"./@emotion-4f16718e.js";import{u as Ot}from"./hook-34b2061f.js";import{S as We,q as zt,r as Oi,t as zi,v as Wi,D as on,w as Zi,F as ne,x as me,y as Gi,z as fe}from"./renderComponentCanvasContainer-44ad78fe.js";import{i as Wt,g as ji,t as Ue}from"./lodash-lib-6e94956b.js";import{g as Ui}from"./layoutInfoListener-bba65cc8.js";import{C as Zt,a as Gt,b as la,M as qi,c as Qi}from"./index-9dcf4ab8.js";import{P as Yi}from"./index-323e87cb.js";import{q as ca,g as Ji,j as Xi,c as Ki,d as es,t as ts,v as sn,x as rn,n as ns,r as as,l as os,i as is,y as ss,z as rs,A as ls,B as cs,C as ds,D as ps,E as us,F as gs,G as hs}from"./style-bd23c0f2.js";import{c as ms,u as fs,a as ys,C as ln}from"./style-91620c64.js";import"./index-b8442d1a.js";const xs={baseId:"",tableName:""},Cs={cellFormat:"",fields:"",filterByFormula:"",maxRecords:"",offset:"",pageSize:"",sort:"",timeZone:"",userLocale:"",view:""},Du={recordID:""},Tu={records:""},Mu={records:""},Pu={recordID:"",record:""},Nu={recordIDs:""},$u={recordID:""},bs={baseConfig:xs,config:Cs,method:"list"},Ru={collectionID:"",documentID:"",data:""},ws={collectionID:"",filter:[{key:"",operator:"equal",value:""}],orderBy:[{key:"",value:"asc"}],limit:"{{100}}"},vs={method:"list",opts:ws},Ss={query:"",variables:[{key:"",value:""}],headers:[{key:"",value:""}]},Is={sql:""},Eu={table:"",type:"bulk_insert",records:""},Ls={mode:"sql-safe",query:Is},_s={aggregation:"",options:""},Bu={operations:"",options:""},Vu={query:""},Hu={filter:""},Fu={filter:""},Ou={query:"",field:"",options:""},zu={query:"",projection:"",sortBy:"",limit:"",skip:""},Wu={query:"",projection:"",skip:""},Zu={filter:"",update:"",options:""},Gu={document:""},ju={document:""},Uu={query:""},qu={filter:"",update:"",options:""},Qu={filter:"",update:"",options:""},Yu={document:""},ks={actionType:"aggregate",collection:"",typeContent:_s},As={mode:"sql-safe",query:""},Ds={raw:""},Ts={mode:"sql-safe",opts:Ds},Ms={mode:"raw",query:""},Ju={type:"text",content:""},Ps={url:"",method:"GET",urlParams:[{key:"",value:""}],headers:[{key:"",value:""}],cookies:[{key:"",value:""}],bodyType:"none",body:null},Ns={transformerString:`{{(function (){// Tip: assign your external references to variables instead of chaining off the curly brackets.
return 5})()}}`};function ke(n){switch(n){case"clickhouse":case"supabasedb":case"mariadb":case"tidb":case"mysql":case"postgresql":case"snowflake":case"hydra":case"neon":return As;case"mssql":return Ls;case"oracle9i":case"oracle":return Ts;case"restapi":return Ps;case"transformer":return Ns;case"redis":case"upstash":return Ms;case"mongodb":return ks;case"elasticsearch":return So;case"dynamodb":return vo;case"s3":return wo;case"smtp":return bo;case"googlesheets":return Co;case"firebase":return xo;case"graphql":return Ss;case"huggingface":case"hfendpoint":return yo;case"appwrite":return vs;case"couchdb":return fo;case"airtable":return bs;case"illadrive":return mo;default:return{}}}function da(n){return{agentType:n.agentType,model:n.model,variables:n.variables,input:"",modelConfig:{stream:!1}}}const jt=()=>{const n=y(Ae),e=W(),a=ae(),{t:l}=R(),c=i.useCallback(async(p,s,d,g)=>{if(p==null)return;const r=j.generateDisplayName(p),h=ke(p),C={actionType:p,displayName:r,resourceID:s,content:h,isVirtualResource:!1,...Ne,config:{public:!1,advancedConfig:xe,mockConfig:Ce}};if(n){const _={...C,actionID:Pe()};e(Q.addActionItemReducer(_)),e(N.changeSelectedAction(_)),d==null||d();return}g==null||g(!0);try{const{data:_}=await _e(C);a.success({content:l("editor.action.action_list.message.success_created")}),e(Q.addActionItemReducer(_)),e(N.changeSelectedAction(_)),d==null||d()}catch{a.error({content:l("editor.action.action_list.message.failed")}),j.removeDisplayName(r)}g==null||g(!1)},[e,a,l,n]),u=i.useCallback(async(p,s,d)=>{e(qn.addTeamAIAgentReducer({aiAgent:p}));const g=j.generateDisplayName("aiagent"),r=da(p),h={actionType:"aiagent",displayName:g,resourceID:p.aiAgentID,content:{...r,virtualResource:p},isVirtualResource:!0,...Ne,config:{public:!1,advancedConfig:xe,mockConfig:Ce,icon:p.icon}};if(n){const C={...h,actionID:Pe()};e(Q.addActionItemReducer(C)),e(N.changeSelectedAction(C)),s==null||s();return}d==null||d(!0);try{const{data:C}=await _e(h);a.success({content:l("editor.action.action_list.message.success_created")}),e(Q.addActionItemReducer(C)),e(N.changeSelectedAction(C)),s==null||s()}catch{a.error({content:l("editor.action.action_list.message.failed")}),j.removeDisplayName(g)}d==null||d(!1)},[e,n,a,l]);return[c,u]},$s=o`
  padding: 0;
  padding-top: 16px;
  padding-bottom: 8px;
  color: ${x("grayBlue","04")};
  font-size: 14px;
  font-weight: 500;
  line-height: 22px;
  margin: 0;
`,Rs=o`
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 536px;
`,Es=o`
  display: grid;
  gap: 16px;
  grid-template-columns: repeat(3, 168px);
`,Bs=o`
  display: flex;
  width: 100%;
  padding: 8px 16px;
  gap: 12px;
  align-items: center;
  border: 1px solid ${x("grayBlue","08")};
  border-radius: 8px;
  background-color: white;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  &:hover {
    box-shadow: 0 4px 10px 0 ${x("blackAlpha","07")};
    background-color: ${x("techPurple","08")};
    border-color: ${x("techPurple","03")};
  }
`,Vs=o`
  font-weight: 500;
  font-size: 12px;
  line-height: 20px;
  color: ${x("grayBlue","02")};
`,Hs=n=>{const{actionTypes:e,title:a,hasMore:l,changeLoading:c,filterFunc:u}=n,{t:p}=R(),[s,d]=i.useState(),[g,r]=i.useState(),h=y(Ae),C=y(Re),_=W(),L=ae(),b=v=>async()=>{switch(v){case"transformer":{const $=j.generateDisplayName(v),f=ke(v),E={actionType:v,displayName:$,content:f,isVirtualResource:!1,config:{public:!1,advancedConfig:xe,mockConfig:Ce},...Ne};if(h){const D={...E,actionID:Pe()};_(Q.addActionItemReducer(D)),_(N.changeSelectedAction(D));return}c(!0);try{const{data:D}=await _e(E);L.success({content:p("editor.action.action_list.message.success_created")}),_(Q.addActionItemReducer(D)),_(N.changeSelectedAction(D))}catch{L.error({content:p("editor.action.action_list.message.failed")}),j.removeDisplayName($)}finally{c(!1)}break}case"globalData":{const $=j.generateDisplayName("state");_(X.setGlobalStateReducer({key:$,value:"",oldKey:""}));const f={actionID:$,displayName:$,actionType:"globalData",triggerMode:"manually",isVirtualResource:!0,content:{initialValue:""},transformer:{enable:!1,rawData:""},config:{public:!1,advancedConfig:xe,mockConfig:Ce}};_(N.changeSelectedAction(f));break}case"illadrive":{const $=j.generateDisplayName(v),f=ke(v),E={actionType:v,displayName:$,content:f,isVirtualResource:!0,config:{public:!1,advancedConfig:xe,mockConfig:Ce},...Ne};try{const{data:D}=await _e(E);L.success({content:p("editor.action.action_list.message.success_created")}),_(Q.addActionItemReducer(D)),_(N.changeSelectedAction(D))}catch{L.error({content:p("editor.action.action_list.message.failed")}),j.removeDisplayName($)}break}default:d(!0),r(v)}},[w,M]=jt(),T=i.useCallback((v,$)=>{be(A.CLICK,de.EDITOR,{element:"resource_configure_save",parameter5:v.resourceType}),_($?he.updateResourceItemReducer(v):he.addResourceItemReducer(v)),w(v.resourceType,v.resourceID)},[_,w]);return m(F,{children:[m("div",{css:Rs,children:[t("h6",{css:$s,children:a}),l&&t(te,{colorScheme:"techPurple",variant:"text",rightIcon:t(Rn,{}),onClick:b(null),children:p("editor.action.panel.label.option.general.more")})]}),t("section",{css:Es,children:e.filter(u??(v=>v)).map(v=>m("button",{css:Bs,onClick:b(v),children:[t(i.Suspense,{children:$e(v,"16px")}),t("span",{css:Vs,children:Io(v)})]},v))}),s&&t(we,{basicTrack:be,pageName:de.EDITOR,children:t(ze,{allResource:C,createOrUpdateResourceCallback:T,children:t(Mt,{visible:s,onClose:()=>d(!1),defaultStep:g?"createAction":"select",defaultActionType:g,canBackToSelect:!1,handleDirectCreateAction:w,handleCreateAgentAction:M})})})]})},cn=i.memo(Hs);function Fs(n){return o`
    position: relative;
    width: 100%;
    height: ${n}px;
  `}const Os=o`
  width: 100%;
  display: flex;
  flex-direction: row;
  overflow: hidden;
  height: 100%;
`;o`
  height: 38px;
  display: flex;
  font-size: 14px;
  font-weight: 500;
  padding: 8px 24px;
  color: ${x("grayBlue","04")};
  align-items: center;
`;o`
  display: flex;
  height: 48px;
  align-items: center;
  flex-direction: row;
  padding-left: 24px;
`;o`
  font-size: 14px;
  font-weight: 400;
  margin-left: 192px;
  padding-bottom: 8px;
  line-height: 22px;
  padding-left: 24px;
  color: ${x("grayBlue","04")};
`;o`
  display: flex;
  height: 38px;
  align-items: center;
  padding-left: 24px;
`;o`
  display: flex;
  justify-content: end;
  min-width: 176px;
`;o`
  font-size: 14px;
  height: 22px;
  display: flex;
  align-items: center;
  color: ${x("grayBlue","02")};
  margin-left: 16px;
`;o`
  position: relative;
  font-size: 14px;
  padding-left: 24px;
  line-height: 22px;
  color: ${x("orange","03")};
`;o`
  position: absolute;
  font-size: 16px;
  line-height: 0;
  top: 3px;
  left: 0;
`;o`
  display: flex;
  width: 100%;
  padding-top: 8px;
  padding-left: 24px;
  align-items: flex-start;
`;o`
  width: 100%;
  padding: 8px 24px;
`;o`
  font-size: 16px;
  color: ${x("orange","03")};
`;const zs=n=>o`
  width: ${n};
  height: ${n};
  flex-shrink: 0;
  border-radius: 4px;
`;function Ye(n,e){return t("img",{src:n==null?void 0:n.icon,css:zs(e)})}const Ws=["restapi","mysql","postgresql","airtable","supabasedb"],Zs=["transformer","globalData"],dn=()=>{switch("development"){case"beta":return["ILAfx4p1C7c5","ILAfx4p1C7c4","ILAfx4p1C7c3","ILAfx4p1C7dm"];case"production":return["ILAfx4p1C7eu","ILAfx4p1C7en","ILAfx4p1C7ee","ILAfx4p1C7eh"];default:return["ILAfx4p1C7dC","ILAfx4p1C7dB","ILAfx4p1C7dA","ILAfx4p1C7dz"]}},Gs=o`
  padding: 0;
  padding-top: 16px;
  padding-bottom: 8px;
  color: ${x("grayBlue","04")};
  font-size: 14px;
  font-weight: 500;
  line-height: 22px;
  margin: 0;
`,js=o`
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 536px;
`,Us=o`
  display: grid;
  gap: 16px;
  padding-bottom: 16px;
  grid-template-columns: repeat(2, 260px);
`,it=o`
  display: flex;
  width: 100%;
  padding: 12px;
  gap: 8px;
  border: 1px solid ${x("grayBlue","08")};
  border-radius: 8px;
  background-color: white;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  &:hover {
    box-shadow: 0 4px 10px 0 ${x("blackAlpha","07")};
    background-color: ${x("techPurple","08")};
    border-color: ${x("techPurple","03")};
  }
`,pn=o`
  display: flex;
  flex-direction: column;
  justify-content: center;
`,un=o`
  display: inline-block;
  line-height: 16px;
  color: ${x("grayBlue","02")};
  font-size: 12px;
  font-weight: 500;
  text-align: left;
`,gn=o`
  width: 196px;
  overflow: hidden;
  text-overflow: ellipsis;
  line-height: 14px;
  font-size: 12px;
  color: ${x("grayBlue","03")};
  font-weight: 400;
  text-align: left;
  word-break: break-all;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
`,qs=n=>{const{agents:e,title:a,hasMore:l,changeLoading:c}=n,{t:u}=R(),[p,s]=i.useState(),[d,g]=i.useState([]),[r,h]=i.useState(!1),C=y(Ae),_=y(Re),L=W(),b=ae(),w=e.slice(0,4),[M,T]=jt(),v=i.useCallback((f,E)=>{be(A.CLICK,de.EDITOR,{element:"resource_configure_save",parameter5:f.resourceType}),L(E?he.updateResourceItemReducer(f):he.addResourceItemReducer(f)),M(f.resourceType,f.resourceID)},[L,M]),$=i.useCallback((f,E)=>async()=>{if(E){const Z=await Lo(f.aiAgentID);L(qn.addTeamAIAgentReducer({aiAgent:Z.data})),f=Z.data}const D=j.generateDisplayName("aiagent"),B=da(f),H={actionType:"aiagent",displayName:D,resourceID:f.aiAgentID,content:{...B,virtualResource:f},isVirtualResource:!0,...Ne,config:{public:!1,advancedConfig:xe,icon:f.icon}};if(C){const Z={...H,actionID:Pe()};L(Q.addActionItemReducer(Z)),L(N.changeSelectedAction(Z));return}c(!0);try{const{data:Z}=await _e(H);b.success({content:u("editor.action.action_list.message.success_created")}),L(Q.addActionItemReducer(Z)),L(N.changeSelectedAction(Z))}catch{b.error({content:u("editor.action.action_list.message.failed")}),j.removeDisplayName(D)}finally{c(!1)}},[c,L,C,b,u]);return i.useEffect(()=>{const f=new AbortController;return w.length<4&&(async()=>{h(!0);const B=dn().slice(w.length).map(H=>_o(H,f.signal));Promise.all(B).then(H=>{const Z=H.map(k=>k.data.aiAgent);g(Z)}).finally(()=>h(!1))})(),()=>{f.abort(),h(!1)}},[w.length]),m(F,{children:[m("div",{css:js,children:[t("h6",{css:Gs,children:a}),l&&t(te,{colorScheme:"techPurple",variant:"text",rightIcon:t(Rn,{}),onClick:()=>s(!0),children:u("editor.action.panel.label.option.general.more")})]}),m("section",{css:Us,children:[w.map(f=>m("button",{css:it,onClick:$(f),children:[Ye(f,"32px"),m("div",{css:pn,children:[t("span",{css:un,children:f.name}),t("span",{css:gn,children:f.description})]})]},f.aiAgentID)),w.length<4&&(r?dn().slice(4-w.length).map(f=>t("button",{css:it,children:t(ja,{text:!1,animation:!0,image:{shape:"square",w:"100%",h:"32px",mr:"0 !important"},h:"32px",w:"100%"})},f)):d.map(f=>m("button",{css:it,onClick:$(f,!0),children:[Ye(f,"32px"),m("div",{css:pn,children:[t("span",{css:un,children:f.name}),t("span",{css:gn,children:f.description})]})]},f.aiAgentID)))]}),p&&t(we,{basicTrack:be,pageName:de.EDITOR,children:t(ze,{allResource:_,createOrUpdateResourceCallback:v,children:t(Mt,{visible:p,onClose:()=>s(!1),defaultStep:"createAction",defaultActionType:"aiagent",canBackToSelect:!1,handleDirectCreateAction:M,handleCreateAgentAction:T})})})]})};i.memo(qs);const Qs=o`
  display: flex;
  width: 100%;
  height: 100%;
  padding: 24px 16px;
  overflow-x: auto;
`,Ys=o`
  width: 584px;
  height: 100%;
  position: relative;
  margin: 0 auto;
`,Js=o`
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: ${x("white","03")};
`,Xs=()=>{const{t:n}=R(),[e,a]=i.useState(!1);return y(Pt),t(F,{children:t("div",{css:Qs,children:m("div",{css:Ys,children:[m(F,{children:[t(cn,{title:n("editor.action.panel.label.general.connect-data-source"),actionTypes:Ws,changeLoading:a,hasMore:!0}),t(cn,{title:n("editor.action.panel.label.general.more-type"),actionTypes:Zs,changeLoading:a,hasMore:!1})]}),e&&t("div",{css:Js,children:t(St,{colorScheme:"techPurple"})})]})})})},Ks=i.memo(Xs),er=n=>{const e=ae(),a=y(et),{t:l}=R(),[c,u]=Fi(),p=c.get("status"),s=c.get("resourceID");i.useEffect(()=>{s==null||p==null||(p===String(ko.NotAuthenticated)?e.success({content:l("editor.action.form.tips.gs.successfully_authent")}):e.error({content:l("editor.action.form.tips.gs.failed_to_authentica")}),c.delete("status"),c.delete("resourceID"),u(c),n==null||n(s))},[a,n,e,s,u,p,l,c])},tr=o`
  width: 100%;
  height: 48px;
  display: flex;
  flex-direction: row;
  padding: 0 16px;
  align-items: center;
  color: ${S(`--${I}-grayBlue-04`)};
`,nr=o`
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
`;o`
  white-space: nowrap;
  font-size: 14px;
  color: ${S(`--${I}-grayBlue-04`)};
  flex: 1;
`;const ar=o`
  margin-right: 8px;

  & > span {
    border-radius: 8px !important;
    border-color: ${S(`--${I}-techPurple-03`)} !important;
    box-shadow: 0 0 8px 0
      ${Ua(S(`--${I}-techPurple-03`)).alpha(.2).hex()};
  }
`,or=o`
  color: ${S(`--${I}-grayBlue-05`)};
`,ir=o`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
`,sr=o`
  font-size: 14px;
  font-weight: 500;
  line-height: 22px;
  color: ${x("grayBlue","04")};
  margin: 0;
`,rr=n=>{const{t:e}=R(),{onSearch:a,setInSearchState:l}=n;return m("div",{css:o(tr,nr),children:[t(ge.div,{initial:{width:0,opacity:0},animate:{width:"100%",opacity:1},exit:{width:0,opacity:0},transition:{duration:.2},children:t(He,{colorScheme:"techPurple",prefix:t(En,{size:"12px",css:or}),placeholder:e("editor.action.action_list.placeholder.search"),onChange:a,onClear:()=>a(""),css:ar,allowClear:!0})}),t(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:t(te,{onClick:()=>{l(!1),a("")},variant:"text",colorScheme:"white",size:"small",children:e("editor.action.action_list.btn.close")})})]})},pa=n=>{const{onSearch:e}=n,[a,l]=i.useState(!1),{t:c}=R();return t(Ee,{children:a?t(rr,{setInSearchState:l,onSearch:e}):m("div",{css:ir,children:[t("h3",{css:sr,children:c("editor.action.action_list.title")}),t(Se,{iconSize:12,onClick:()=>l(!0),children:t(En,{})})]})})};pa.displayName="SearchHeader";const lr=n=>i.createElement("svg",{width:49,height:48,viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},i.createElement("path",{d:"m15.5 17 4 4M28.5 17l4 4M19.5 17l-4 4M32.5 17l-4 4",stroke:"#BBC0C9",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M17.924 29.52a.75.75 0 0 0 1.152.96l-1.152-.96zm12 .96a.75.75 0 0 0 1.152-.96l-1.152.96zM18.5 30l.576.48v.001l.002-.003.016-.019.073-.081a9.657 9.657 0 0 1 1.453-1.265c.994-.702 2.343-1.363 3.88-1.363v-1.5c-1.963 0-3.614.84-4.745 1.637a11.144 11.144 0 0 0-1.694 1.477 6.225 6.225 0 0 0-.097.11c-.012.012-.02.023-.028.03l-.008.01a.052.052 0 0 0-.002.004h-.001v.001L18.5 30zm6-2.25c1.537 0 2.886.66 3.88 1.363a9.657 9.657 0 0 1 1.453 1.265l.073.081.016.019a.128.128 0 0 1 .003.003L30.5 30l.576-.48v-.001l-.002-.001-.002-.003-.008-.01-.028-.032a9.142 9.142 0 0 0-.459-.48c-.31-.302-.762-.704-1.332-1.106-1.13-.798-2.782-1.637-4.745-1.637v1.5z",fill:"#BBC0C9"}),i.createElement("path",{clipRule:"evenodd",d:"M24.5 44c11.046 0 20-8.954 20-20s-8.954-20-20-20-20 8.954-20 20 8.954 20 20 20z",stroke:"#BBC0C9",strokeWidth:1.5,strokeLinejoin:"round"})),ua=qa({title:"AIAgentIcon",viewBox:"0 0 16 16",path:m(F,{children:[t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12.0005C9.80208 12.0005 11.4825 11.5765 12.7465 10.8391C13.1768 10.5882 13.5799 10.2862 13.9228 9.9375C13.9736 10.1208 14 10.3088 14 10.5005C14 12.4335 11.3137 14.0005 8 14.0005C4.68629 14.0005 2 12.4335 2 10.5005C2 10.3088 2.02641 10.1208 2.07721 9.9375C2.42015 10.2862 2.82323 10.5882 3.25349 10.8391C4.51754 11.5765 6.19792 12.0005 8 12.0005Z",fill:"#1D2129"}),t("path",{d:"M14 5C14 6.65685 11.3137 8 8 8C4.68629 8 2 6.65685 2 5C2 3.34315 4.68629 2 8 2C11.3137 2 14 3.34315 14 5Z",fill:"#1D2129"}),t("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 9C9.80208 9 11.4825 8.57602 12.7465 7.83865C13.1768 7.58767 13.5799 7.28575 13.9228 6.93702C13.9736 7.1203 14 7.30835 14 7.5C14 9.433 11.3137 11 8 11C4.68629 11 2 9.433 2 7.5C2 7.30835 2.02641 7.1203 2.07721 6.93702C2.42015 7.28575 2.82323 7.58767 3.25349 7.83865C4.51754 8.57602 6.19792 9 8 9ZM2.5774 6C3.54037 7.18247 5.60652 8 8 8C10.3935 8 12.4596 7.18248 13.4226 6C12.4596 4.81753 10.3935 4 8 4C5.60652 4 3.54037 4.81753 2.5774 6Z",fill:"#1D2129"})]})});ua.displayName="DatabaseIcon";const cr=o`
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  flex-shrink: 0;
  width: 16px;
  height: 16px;
`,dr=o`
  flex-shrink: 0;
  width: 8px;
  margin-left: 9px;
  height: 8px;
  margin-right: 9px;
  box-sizing: border-box;
  border-radius: 50%;
  background: ${S(`--${I}-blue-03`)};
`;function pr(n){return o`
    flex-shrink: 1;
    font-weight: 500;
    margin-left: 8px;
    overflow: hidden;
    color: ${n?S(`--${I}-red-03`):S(`--${I}-grayBlue-02`)};
    text-overflow: ellipsis;
    white-space: nowrap;
  `}o`
  color: ${S(`--${I}-grayBlue-04`)};
`;const ur=o`
  position: absolute;
  color: ${S(`--${I}-red-03`)};
  font-size: 8px;
  bottom: 0;
  right: 0;
`;function gr(n){return o`
    background: ${n?S(`--${I}-techPurple-08`):"transparent"};
    width: 100%;
    align-items: center;
    display: flex;
    flex-direction: row;
    padding-left: 16px;
    padding-right: 16px;
    height: 40px;
    font-size: 14px;

    &:hover {
      background: ${n?S(`--${I}-techPurple-08`):S(`--${I}-grayBlue-09`)};
    }
  `}const hr=o`
  color: ${S(`--${I}-grayBlue-02`)};
  display: flex;
  overflow: hidden;
  flex-direction: row;
  align-items: center;
  flex-grow: 1;
`,mr=o`
  font-size: 12px;
  font-weight: 400;
  color: ${x("grayBlue","04")};
`,st=ce,ga=i.forwardRef((n,e)=>{var O,G,ee,K,Y,re;const{action:a,onItemClick:l,onCopyItem:c,onDeleteItem:u}=n,{t:p}=R(),s=y(se),d=y(pe),g=ae(),r=y(V=>{const oe=V.currentApp.execution.error[a.displayName];return Qn(oe)?Object.keys(oe).length>0:!1}),h=y(Ae),C=y(Ve),_=(O=C[a.displayName])==null?void 0:O.startTime,L=(G=C[a.displayName])==null?void 0:G.endTime,b=(ee=C[a.displayName])==null?void 0:ee.isRunning,w=(re=(Y=(K=C[a.displayName])==null?void 0:K.config)==null?void 0:Y.mockConfig)==null?void 0:re.enabled,[M,T]=i.useState(0),v=i.useCallback(()=>window.setInterval(()=>{const V=new Date().getTime()-_;T(V)},10),[_]);i.useEffect(()=>{let V=-1;return b&&(V=v()),()=>{V!==-1&&window.clearInterval(V)}},[b,v]);const $=i.useMemo(()=>(s==null?void 0:s.actionID)===a.actionID&&!Wt(s,d),[a.actionID,d,s]),[f,E]=i.useState(!1),[D,B]=i.useState(!1),H=W(),Z=i.useCallback(async V=>{if(V===a.displayName){E(!1);return}if(!Nt(V)){g.error({content:p("editor.display_name.validate_error",{displayName:V})}),E(!1);return}if(j.isAlreadyGenerate(V)){g.error({content:p("editor.display_name.duplicate_error",{displayName:V})}),E(!1);return}const oe={...a,displayName:V};if(a.actionType==="globalData"){j.addDisplayNames([V]),j.removeDisplayName(a.displayName),H(X.setGlobalStateReducer({key:V,value:a.content.initialValue,oldKey:a.displayName})),E(!1);return}if(h){H(Q.updateActionDisplayNameReducer({newDisplayName:V,oldDisplayName:a.displayName,actionID:oe.actionID})),E(!1);return}B(!0);try{await Ge(oe),H(Q.updateActionDisplayNameReducer({newDisplayName:V,oldDisplayName:a.displayName,actionID:oe.actionID})),E(!1)}catch{g.error({content:p("change_fail")}),E(!1)}B(!1)},[a,h,H,g,p]),k=i.useCallback((V,oe)=>{if(V&&oe){const z=oe-V;return z>1e3?`${(z/1e3).toFixed(2)}s`:`${z}ms`}else return""},[]),q=i.useCallback(V=>V>1e3?`${(V/1e3).toFixed(2)}s`:`${V}ms`,[]);return t(Oe,{trigger:"contextmenu",position:"right-start",dropList:m(Fe,{w:"184px",children:[t(st,{value:"rename",title:p("editor.action.action_list.contextMenu.rename"),onClick:()=>{P(A.RENAME,{element:"action_rename",parameter1:a.actionType,parameter2:"manage"}),E(!0)}},"rename"),t(st,{value:"duplicate",title:p("editor.action.action_list.contextMenu.duplicate"),onClick:()=>{P(A.DUPLICATE,{element:"action_duplicate",parameter1:a.actionType}),c(a)}},"duplicate"),t(st,{value:"delete",title:p("editor.action.action_list.contextMenu.delete"),deleted:!0,onClick:()=>{P(A.DELETE,{element:"action_delete",parameter1:a.actionType}),u(a)}},"delete")]}),children:m("div",{css:gr((s==null?void 0:s.displayName)===a.displayName),ref:e,onClick:()=>{l(a)},onDoubleClick:()=>{l(a),E(!0)},children:[m("div",{css:hr,children:[m("div",{css:cr,children:[t(i.Suspense,{children:a.actionType==="aiagent"&&"virtualResource"in a.content?Ye(a.content.virtualResource,"16px"):$e(a.actionType,"16px")}),r&&t(It,{css:ur})]}),f?t(He,{ml:"8px",colorScheme:"techPurple",size:"small",onPressEnter:V=>{Z(V.currentTarget.value)},defaultValue:a.displayName,autoFocus:!0,disabled:D,suffix:D&&t(Qa,{c:x("grayBlue","05"),spin:!0}),onBlur:V=>{Z(V.target.value)}}):t("div",{css:pr(r),children:a.displayName}),$&&t("div",{css:dr})]}),t("div",{css:mr,children:w?p("editor.action.panel.option.mock.label"):b?q(M):k(_,L)})]})})});ga.displayName="ActionListItem";const fr=o`
  width: 255px;
  min-width: 255px;
  display: flex;
  flex-direction: column;
  border-right: 1px solid ${x("grayBlue","08")};
`,yr=o`
  flex-shrink: 1;
`,xr=o`
  flex-grow: 1;
  width: 100%;
  height: 0;
  flex-shrink: 0;
  overflow-y: auto;
`,Cr=o`
  width: 100%;
`,br=o`
  margin: 8px 16px;
  padding: 8px 12px;
  font-size: 12px;
  color: ${S(`--${I}-grayBlue-04`)};
  border-radius: 4px;
  border: dashed 1px ${S(`--${I}-grayBlue-08`)};
`,rt=o`
  display: flex;
  align-items: center;
  gap: 8px;
`,lt=o`
  font-size: 16px;
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
`;o`
  display: flex;
  align-items: center;
  justify-content: space-between;
`;o`
  display: flex;
  align-items: center;
  gap: 4px;
  color: ${x("techPurple","03")};
  font-size: 12px;
  font-style: normal;
  line-height: 20px;
`;const wr=n=>{const{searchActionValue:e}=n,a=y(se),l=y(pe),c=y(Ae),u=y(Re),p=i.useContext(We),[s,d]=i.useState(),[g,r]=i.useState(),h=y(Yn),C=y(tt),_=Ot(),L=h.filter(D=>D.displayName.toLowerCase().includes(e.toLowerCase())),{t:b}=R(),w=W(),M=Bn(),T=ae(),v=D=>async()=>{switch(D){case"transformer":{const B=j.generateDisplayName(D),H=ke(D),Z={actionType:D,displayName:B,content:H,isVirtualResource:!1,config:{public:!1,advancedConfig:xe,mockConfig:Ce},...Ne};if(c){const k={...Z,actionID:Pe()};w(Q.addActionItemReducer(k)),w(N.changeSelectedAction(k));return}try{const{data:k}=await _e(Z);T.success({content:b("editor.action.action_list.message.success_created")}),w(Q.addActionItemReducer(k)),w(N.changeSelectedAction(k))}catch{T.error({content:b("editor.action.action_list.message.failed")}),j.removeDisplayName(B)}break}case"globalData":{const B=j.generateDisplayName("state");w(X.setGlobalStateReducer({key:B,value:"",oldKey:""}));const H={actionID:B,displayName:B,actionType:"globalData",triggerMode:"manually",isVirtualResource:!0,content:{initialValue:""},transformer:{enable:!1,rawData:""},config:{public:!1,advancedConfig:xe,mockConfig:Ce}};w(N.changeSelectedAction(H));break}case"illadrive":{if(!Jn(C)){_({modalType:"upgrade",from:"drive_action"});return}const B=j.generateDisplayName(D),H=ke(D),k={...Ui(B,""),actionType:D,content:H,isVirtualResource:!0};if(c){const q={...k,actionID:Pe()};w(Q.addActionItemReducer(q)),w(N.changeSelectedAction(q));return}try{const{data:q}=await _e(k);T.success({content:b("editor.action.action_list.message.success_created")}),w(Q.addActionItemReducer(q)),w(N.changeSelectedAction(q))}catch{T.error({content:b("editor.action.action_list.message.failed")}),j.removeDisplayName(B)}break}default:d(!0),r(D)}},[$,f]=jt(),E=i.useCallback((D,B)=>{be(A.CLICK,de.EDITOR,{element:"resource_configure_save",parameter5:D.resourceType}),w(B?he.updateResourceItemReducer(D):he.addResourceItemReducer(D)),$(D.resourceType,D.resourceID,()=>{d(!1)})},[w,$]);return m(F,{children:[t(Oe,{dropList:m(Fe,{w:"222px",children:[t(ce,{value:"database",title:m("div",{css:rt,children:[t("span",{css:lt,children:t(ua,{})}),b("editor.action.panel.label.option.general.create-resource")]}),onClick:v(null)},"database"),t(ce,{value:"transformer",title:m("div",{css:rt,children:[t("span",{css:lt,children:$e("transformer","16px")}),b("editor.action.panel.label.option.general.js")]}),onClick:v("transformer")},"transformer"),t(ce,{value:"globalData",title:m("div",{css:rt,children:[t("span",{css:lt,children:$e("globalData","16px")}),b("editor.action.panel.label.option.general.global-data")]}),onClick:v("globalData")},"globalData"),$t]}),children:t(te,{colorScheme:"techPurple",variant:"light",ml:"16px",mr:"16px",mb:"8px",_css:yr,children:m(ve,{size:"4px",direction:"horizontal",alignItems:"center",children:[t(Lt,{size:"14px"}),b("editor.action.action_list.btn.new")]})})}),m("div",{css:xr,children:[L.length!=0&&t(Ya,{_css:Cr,bordered:!1,split:!1,data:L,render:D=>t(ga,{action:D,onCopyItem:zt,onDeleteItem:B=>{B.actionType==="globalData"?p.showDeleteDialog([B.displayName],"globalData"):p.showDeleteDialog([B.displayName],"action")},onItemClick:B=>{if(a===null){w(N.changeSelectedAction(B));return}(a==null?void 0:a.displayName)!==B.displayName&&(Wt(l,a)?w(N.changeSelectedAction(B)):M.show({children:b("editor.action.action_list.message.confirm_switch"),onOk:()=>{w(N.changeSelectedAction(B))},okButtonProps:{colorScheme:"red"}}))}}),renderRaw:!0,renderKey:D=>D.displayName}),L.length==0&&e!==""&&t(Ja,{paddingVertical:"23px",divideSize:"4px",icon:t(lr,{}),description:b("editor.action.action_list.tips.not_found")}),L.length==0&&e==""&&t("div",{css:br,children:b("editor.action.action_list.tips.empty")}),s&&t(we,{basicTrack:be,pageName:de.EDITOR,children:t(ze,{allResource:u,createOrUpdateResourceCallback:E,children:t(Mt,{visible:s,onClose:()=>d(!1),defaultStep:g?"createAction":"select",defaultActionType:g,canBackToSelect:!g,handleDirectCreateAction:$,handleCreateAgentAction:f})})})]})]})},ha=n=>{const{className:e}=n,[a,l]=i.useState(""),c=i.useCallback(s=>{l(s)},[]),u=y(et),p=W();return er(s=>{const d=u.find(g=>g.resourceID===s);d&&p(N.changeSelectedAction(d))}),m("div",{className:e,css:fr,children:[t(pa,{onSearch:c}),t(wr,{searchActionValue:a})]})};ha.displayName="ActionList";const vr=o`
  padding-top: 120px;
  position: absolute;
  display: flex;
  flex-direction: column;
  width: 100%;
  pointer-events: none;
  justify-content: end;
  height: 100%;
`;function Sr(n){return o`
    visibility: ${n?"visible":"hidden"};
    position: relative;
    pointer-events: auto;
    z-index: 10;
  `}o`
  width: 100%;
  background: ${x("grayBlue","09")};
  height: 40px;
  display: flex;
  flex-direction: row;
  padding: 0 16px;
  align-items: center;
`;const Ir=o`
  width: 100%;
  background: ${x("grayBlue","09")};
  height: 48px;
  padding: 8px 16px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: relative;
`,Lr=o`
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  gap: 8px;
  height: 32px;
`,_r=o`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 0 8px;
  gap: 10px;
  cursor: pointer;
  width: 82px;
  height: 32px;
  font-size: 14px;
`,kr=o`
  line-height: 22px;
`,Ar=n=>n?o`
      box-shadow: inset 0px -2px 0px ${x("grayBlue","02")};
    `:o``,Dr=o`
  display: flex;
  flex-direction: row;
  align-items: center;
  padding: 0;
  gap: 24px;
  height: 24px;
  position: absolute;
  right: 40px;
`,hn=o`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 4px;
  color: ${x("grayBlue","04")};
  font-size: 14px;
  line-height: 22px;
`,Tr=n=>o`
  font-weight: 500;
  font-size: 14px;

  color: ${n>=400?x("red","03"):x("green","03")};
`,Mr=o`
  font-weight: 500;
  font-size: 14px;

  color: ${x("grayBlue","02")};
`,Pr=o`
  font-weight: 500;
  flex-grow: 1;
  font-size: 14px;
  margin-left: 8px;
`,Nr=o`
  border: none;
  border-radius: 0;
  background-color: ${x("white","01")};

  .cm-editor.Í¼1 {
    border: none;
    border-radius: 0;

    & > .cm-scroller > .cm-gutters {
      border-radius: 0;
    }
  }
`,$r=o`
  top: -5px;
  cursor: row-resize;
  width: 100%;
  position: absolute;
  transition: all 0.2s;
  height: 5px;
  z-index: 10;

  &:hover {
    background: ${S(`--${I}-grayBlue-08`)};
  }
`,Rr=(n,e,a,l,c,u)=>{const p=n==null?void 0:n.current,s=c==null?void 0:c.current;if(!p)return;const{height:d}=p.getBoundingClientRect(),g=d-e;if(l){const r=l();if(Xa(r)&&g>r)return}g<window.innerHeight&&g>a&&(p.style.height=`${g}px`,s&&(s.style.paddingBottom=`${g+48}px`),u==null||u())},at=n=>{const{resizeRef:e,placeholderRef:a,minHeight:l=300,getMaxHeight:c,onChange:u}=n,[p,s]=i.useState(!1);return i.useEffect(()=>{const d=g=>{g.preventDefault(),Rr(e,g.movementY,l,c,a,()=>{u==null||u()})};return p&&window.addEventListener("mousemove",d),()=>{window.removeEventListener("mousemove",d)}},[c,l,p,u,a,e]),i.useEffect(()=>{const d=()=>s(!1);return window.addEventListener("mouseup",d),()=>{window.removeEventListener("mouseup",d)}},[c,l]),t("div",{css:$r,onMouseDown:()=>{s(!0)}})};at.displayName="DragBar";var ye=(n=>(n.RESPONSE="response",n.HEADERS="headers",n.RAW_DATA="rawData",n))(ye||{});const ma=i.forwardRef((n,e)=>{const{handleResultTabsClick:a,showType:l,statusCode:c,runningTimes:u,tabsConfig:p,onClose:s,isError:d}=n,g=p.filter(h=>h.shown),{t:r}=R();return m("div",{ref:e,css:Ir,children:[g.length>1?m(F,{children:[t("div",{css:Lr,children:g.map(h=>t("div",{css:[_r,Ar(l===h.name)],"data-key":h.name,onClick:a(h.name),children:t("div",{css:kr,children:h.title})},h.name))}),m("div",{css:Dr,children:[c&&m("div",{css:hn,children:[r("editor.action.panel.result.restapi.status"),t("span",{css:Tr(c),children:c})]}),m("div",{css:hn,children:["Times",t("span",{css:Mr,children:`${u}ms`})]})]})]}):m(F,{children:[d?t(It,{c:x("red","03")}):t(_t,{c:x("green","03")}),t("span",{css:Pr,children:r(d?"editor.action.panel.status.ran_failed":"editor.action.panel.status.ran_successfully")})]}),t(Le,{cur:"pointer",c:x("grayBlue","05"),onClick:s})]})});ma.displayName="RestAPIHeader";const Er=(n,e)=>{switch(n){case ye.HEADERS:return e.responseHeader;case ye.RAW_DATA:return e.rawResult;case ye.RESPONSE:default:return e.result}},fa=n=>{var E,D;const{onClose:e,visible:a}=n,l=i.useRef(null),c=i.useRef(null),[u,p]=i.useState(ye.RESPONSE),s=y(se)??{},d=y(B=>{const H=Ve(B);if(s.displayName)return H[s.displayName]}),{t:g}=R(),r=a&&((d==null?void 0:d.data)!==void 0||(d==null?void 0:d.runResult)!==void 0),h=(E=d==null?void 0:d.runResult)==null?void 0:E.error,C=d==null?void 0:d.data,_=d==null?void 0:d.rawData,L=d==null?void 0:d.responseHeaders,b=((d==null?void 0:d.endTime)??0)-((d==null?void 0:d.startTime)??0),[w,M]=i.useState(260),T=i.useCallback(B=>()=>{p(B)},[]),v={result:C,rawResult:_,responseHeader:L},$=[{title:g("editor.action.panel.result.restapi.response"),name:ye.RESPONSE,shown:!!C},{title:g("editor.action.panel.result.restapi.rawdata"),name:ye.RAW_DATA,shown:!!_},{title:g("editor.action.panel.result.restapi.headers"),name:ye.HEADERS,shown:!!L}],f=Er(u,v);return t("div",{css:vr,children:m("div",{css:Sr(r),ref:l,children:[t(at,{minHeight:300,resizeRef:l,onChange:()=>{M(l.current.offsetHeight-c.current.offsetHeight)}}),t(ma,{showType:u,runningTimes:b,onClose:e,handleResultTabsClick:T,ref:c,statusCode:L==null?void 0:L.statusCode,statusText:L==null?void 0:L.statusText,tabsConfig:$,isError:h}),t(Zt,{height:w+"px",wrapperCss:Nr,showLineNumbers:!0,editable:!1,value:h?(D=d==null?void 0:d.runResult)==null?void 0:D.message:JSON.stringify(f,void 0,2),lang:Gt.JSON})]})})};fa.displayName="ActionResult";const Br=o`
  width: 100%;
  border-radius: 8px;
  display: flex;
  align-items: center;
  &:hover {
    background-color: ${S(`--${I}-grayBlue-09`)};
    cursor: pointer;

    svg {
      opacity: 1;
    }
    .text-container {
      padding-left: 16px;
    }
  }
  transition: all 200ms;
`,Vr=o`
  height: 100%;
  display: inline-flex;
  min-height: 32px;
  font-size: 14px;
  align-items: center;
  box-sizing: border-box;
  max-lines: 1;
  white-space: nowrap;
  border-radius: 8px;
  color: ${S(`--${I}-grayBlue-02`)};
  font-weight: 500;
  position: relative;
  svg {
    width: 14px;
    height: 14px;
    margin-left: 8px;
    opacity: 0;
    color: ${S(`--${I}-grayBlue-05`)};
    transition: all 200ms;
  }
  transition: all 200ms;
`,Hr=o`
  position: relative;
  display: flex;
  align-items: center;
  svg {
    position: absolute;
    right: -22px;
  }
`,Fr=n=>{const{displayName:e,updateDisplayNameByBlur:a,onMouseEnter:l,onClick:c,onBlur:u,onValidate:p}=n,[s,d]=i.useState(e),[g,r]=i.useState(!1),{t:h}=R(),C=i.useRef(null),_=M=>{d(M)},L=()=>{g||(r(!0),c==null||c(),setTimeout(()=>{var M;(M=C.current)==null||M.focus()},100))},b=ae(),w=i.useCallback(()=>{if(r(!1),e!==s){if(u==null||u(s),!Nt(s)){b.error({content:h("editor.display_name.validate_error",{displayName:s})}),p==null||p("failed"),d(e);return}if(j.isAlreadyGenerate(s)){b.error({content:h("editor.display_name.duplicate_error",{displayName:s})}),p==null||p("failed"),d(e);return}p==null||p("suc"),a(s)}},[e,s,b,u,p,h,a]);return t("div",{css:Br,onMouseEnter:l,className:"editable-text-container",onClick:L,children:g?t(He,{colorScheme:"techPurple",value:s,onChange:_,onBlur:w,onPressEnter:w,inputRef:C,className:"input-container"}):t("span",{css:Vr,className:"text-container",children:m("span",{css:Hr,children:[s,t(kt,{})]})})})},Or=o`
  display: flex;
  width: 100%;
  padding: 12px 16px;
  gap: 8px;
`,zr=n=>o`
  padding: 1px 4px;
  height: 24px;
  line-height: 24px;
  border-radius: 4px;
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  font-weight: ${n?500:400};
  color: ${n?x("grayBlue","02"):x("grayBlue","03")};
  :hover {
    background-color: ${x("grayBlue","09")};
  }
`,Wr=(n,e)=>{const a=e.find(l=>l.key===n);return a?a.element:null},ya=n=>{const{items:e,activeKey:a,containerStyle:l,handleClickChangeTab:c}=n,[u,p]=i.useState(a),s=i.useCallback(d=>{const r=d.target.dataset.key;r&&(c(r),p(r))},[c]);return i.useEffect(()=>{a!==u&&p(a)},[a,u]),t(F,{children:t("div",{css:[Or,l],onClick:s,children:e.map(d=>t("span",{css:zr(u===d.key),"data-key":d.key,children:d.title},d.key))})})},Zr=o`
  border-top: 1px solid ${S(`--${I}-grayBlue-08`)};
  width: 100%;
  height: 100%;
  padding-bottom: 40px;
  overflow-y: hidden;
  display: flex;
  flex-direction: column;
`,xa=o`
  padding: 16px 16px 8px 16px;
`,Gr=o`
  ${xa};
  padding-top: 0;
  padding-bottom: 0;
  height: 100%;
  overflow-y: auto;
  width: 100%;
  display: flex;
  flex-direction: column;
`,jr=o`
  width: 100%;
  display: inline-flex;
  flex-direction: column;

  &:not(:nth-of-type(1)) {
    margin-top: 8px;
  }
`,Ur=o`
  height: 38px;
  width: 100%;
  font-size: 14px;
  font-weight: 500;
  display: inline-flex;
  align-items: center;
`,qr=o`
  width: 100%;
  display: grid;
  grid-template-columns: repeat(3, 88px);
  gap: 16px 8px;
`,Qr=o`
  display: flex;
  flex: 1 1 auto;
  flex-direction: column;
  align-items: center;
  position: relative;
  width: 88px;
`,Yr=o`
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: ${S(`--${I}-grayBlue-09`)};
  cursor: grab;
  border-radius: 4px;
  color: ${S(`--${I}-grayBlue-04`)};
  transition: background-color 200ms ease-in-out;
  padding: 8px;
  position: relative;
  overflow: hidden;
  &:hover {
    background-color: ${S(`--${I}-grayBlue-08`)};
  }
`,Jr=o`
  font-size: 12px;
  width: 100%;
  color: ${S(`--${I}-grayBlue-03`)};
  text-overflow: ellipsis;
  box-sizing: border-box;
  padding: 4px 4px 0 4px;
  overflow: hidden;
  text-align: center;
  line-height: 14px;
`,Xr=o`
  width: 100%;
  height: 319px;
  display: flex;
  align-items: center;
  justify-content: center;
`,Kr=o`
  position: absolute;
  padding: 2px 8px;
  top: 0;
  left: 0;
  color: ${x("techPurple","03")};
  background-color: ${x("techPurple","08")};
  display: flex;
  align-items: center;
  justify-content: center;
`,Ca=i.memo(n=>{const{widgetName:e,widgetType:a,icon:l,displayName:c,isPremiumWidget:u}=n,p=y(Rt),s=y(Xn),d=y(tt),[,g]=Oi(()=>({type:"components",canDrag:()=>p,end:(r,h)=>{const C=h.getDropResult(),{draggedComponents:_}=r;zi(-1,"",[],0,0,0,0,0,0,0,0),Wi(_,!!(C!=null&&C.isDropOnCanvas),!0)},item:()=>{const r=Do(a,c);if(!r)return{draggedComponents:[],dragEffect:on.ADD,draggedDisplayName:"",unitWWhenDragged:0,columnNumberWhenDragged:Xt};const h=qe.getState();let C=To(h);return Mo.setSnapshot(C),Zi([r]),{draggedComponents:[r],dragEffect:on.ADD,draggedDisplayName:r.displayName,unitWWhenDragged:0,columnNumberWhenDragged:Xt}}}),[p]);return m("div",{css:Qr,ref:g,...s?{"data-onboarding-element":a}:{},children:[m("span",{css:Yr,...s?{"data-onboarding-icon":a}:{},children:[u&&$t&&!Jn(d)&&t("span",{css:Kr,children:t(Ao,{})}),l]}),t("span",{css:Jr,children:e})]})});Ca.displayName="ComponentItem";const ba=i.memo(n=>{const{sessionTitle:e,widgetCardInfos:a,sessionType:l}=n,c=y(Xn);return a.length>0?m("div",{css:jr,...c?{"data-onboarding-session":l}:{},children:[t("span",{css:Ur,children:e}),t("div",{css:qr,children:a.map(u=>t(Ca,{icon:u.icon,widgetType:u.widgetType,widgetName:u.widgetName,displayName:u.displayName,isPremiumWidget:u.isPremiumWidget},u.id))})]}):null});ba.displayName="ComponentSession";const el=o`
  width: 100%;
  padding: 16px 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
`,tl=o`
  width: 100%;
  padding: 16px 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
`,wa=o`
  line-height: 22px;
  width: 100%;
  font-size: 14px;
  font-weight: 500;
  align-items: center;
  margin: 0;
  padding: 0;
  color: ${x("grayBlue","02")};
`,nl=o`
  ${wa};
  text-align: center;
`,va=()=>{window.open("https://builder.illacloud.com/illacloud/deploy/app/ILAbx4p1C7QZ","_blank")},al=()=>{const{t:n}=R();return m("div",{css:el,children:[t("h6",{css:wa,children:n("editor.action.form.title.feedback")}),t(te,{leftIcon:t(Vn,{}),colorScheme:"grayBlue",variant:"outline",onClick:va,children:n("editor.action.form.option.tell_us")})]})},ol=()=>{const{t:n}=R();return m("div",{css:tl,children:[t("h6",{css:nl,children:n("editor.action.form.title.feedback")}),t(te,{leftIcon:t(Vn,{}),colorScheme:"grayBlue",variant:"outline",onClick:va,children:n("editor.action.form.option.tell_us")})]})};function il(n,e){if(!n||n.length===0)return e;const a=n.split("");let l=".*";a.forEach(s=>{l+=s.toLocaleLowerCase()+".*"});const c=RegExp(l),u=[],p=e==null?void 0:e.filter(s=>s.sessionTitle!==Po.COMMON);return p==null||p.forEach(s=>{const d=s.widgetCardInfos.filter(g=>{const r=g==null?void 0:g.keywords;return r?r.some(h=>h.toLocaleLowerCase().match(c)):g.widgetName.toLocaleLowerCase().match(c)});d.length>0&&u.push({...s,widgetCardInfos:d})}),u}const Sa=n=>{const{t:e}=R(),a=No(),{className:l,componentList:c=a}=n,[u,p]=i.useState(""),[s,d]=i.useState(c),g=i.useCallback(r=>{p(r);const h=il(r,c);d(h)},[c]);return m("div",{className:l,css:Zr,onClick:()=>{ne.switchFocus("widget_picker")},children:[t("div",{css:xa,children:t(Ka,{value:u,colorScheme:"purple",variant:"fill",placeholder:e("editor.widget_picker.search_placeholder"),onChange:g})}),t("div",{css:Gr,children:s&&s.length?s.map(r=>t(ba,{...r},"session-"+r.sessionTitle)).concat(t(al,{},"suggest")):t("div",{css:Xr,children:t(ol,{})})})]})};Sa.displayName="ComponentPanel";const sl=i.lazy(()=>U(()=>import("./index-33c07e65.js"),["assets/index-33c07e65.js","assets/index-2f1869ab.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js"])),rl=i.lazy(()=>U(()=>import("./index-d30fcabe.js"),["assets/index-d30fcabe.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/index-0e67f358.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/all-0a341a74.js","assets/hook-34b2061f.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),mn=[{key:"general",title:Me.t("editor.action.resource.db.title.general_option")},{key:"advanced",title:Me.t("editor.action.panel.label.advanced.advanced")}],fn=[{key:"Page",title:Me.t("editor.page.tab_title"),element:t(rl,{})},{key:"Inspect",title:Me.t("editor.inspect.tab_title"),element:t(sl,{})},{key:"Insert",title:Me.t("editor.widget_picker.tab_title"),element:t(Sa,{})}],Ia=i.createContext({}),ll=({children:n})=>{const[e,a]=i.useState({}),l=i.useCallback((c,u)=>{a(p=>({...p,[c]:u}))},[]);return t(Ia.Provider,{value:{showSQLModeTip:e,setShowSQLModeTip:l},children:n})},cl=["clickhouse","supabasedb","mysql","tidb","mariadb","postgresql","snowflake","neon","hydra","mssql","oracle","oracle9i"],dl=n=>cl.includes(n),pl=o`
  display: flex;
  flex-direction: row;
  align-items: center;
  padding: 0 16px;
  border-bottom: 1px solid ${S(`--${I}-grayBlue-08`)};
  min-height: 48px;
  justify-content: space-between;
  position: relative;
`,ul=o`
  width: 280px;
  position: absolute;
  left: calc(50% - 140px);
  .editable-text-container {
    justify-content: center;
    :hover {
      .text-container {
        padding-left: 0;
      }
    }
  }
  .input-container {
    text-align: center;
  }
`,gl=o`
  padding: 0 8px;
  display: inline-flex;
  flex-direction: row;
  align-items: center;
  height: 32px;
  margin-right: 8px;
  cursor: pointer;
  background: ${x("green","08")};
  color: ${x("green","03")};
  border-radius: 8px;
`,hl=o`
  padding: 0 8px;
  display: inline-flex;
  flex-direction: row;
  margin-right: 8px;
  cursor: pointer;
  align-items: center;
  height: 32px;
  background: ${x("orange","08")};
  color: ${x("orange","03")};
  border-radius: 8px;
`,yn=o`
  font-weight: 500;
  margin-left: 8px;
  margin-right: 20px;
  font-size: 14px;
  color: ${x("grayBlue","02")};
`;function xn(n){const e=n?o`
        transform: rotate(180deg);
      `:o`
        transform: rotate(0deg);
      `;return o`
    font-size: 12px;
    transition: transform 0.2s ease;
    ${e};
  `}const ml=o`
  width: auto;
  padding-left: 0;
  padding-right: 0;
`,fl=o`
  display: flex;
  gap: 8px;
`,Cn=ce,yl=["s3","smtp"],xl=n=>{if(!n||!yl.includes(n.actionType))return[!0,""];switch(n.actionType){case"smtp":const e=n.content;return[!Ro((e==null?void 0:e.attachment)||"","smtp"),Me.t("editor.action.panel.error.max_file")]}return[!0,""]},Cl=n=>{let e=n;if(!e)return e;switch(n==null?void 0:n.actionType){case"elasticsearch":let a=n.content;if(!Eo.includes(a.operation)){const{id:g="",...r}=a;e={...n,content:{...r}},a=r}if(!Bo.includes(a.operation)){const{body:g="",...r}=a;e={...e,content:{...r}},a=r}if(!Vo.includes(a.operation)){const{query:g="",...r}=a;e={...e,content:{...r}}}break;case"smtp":const l=n.content,{to:c,cc:u,bcc:p,attachment:s,...d}=l;e={...n,content:{...d,...c&&{to:c},...u&&{cc:u},...p&&{bcc:p},...s&&{attachment:s}}};break}return e},La=n=>{var Y,re,V,oe;const{onResultVisibleChange:e,openState:a,activeTab:l,handleChangeTab:c}=n,u=ae(),[p,s]=i.useState(!1),d=i.useContext(We),{setShowSQLModeTip:g}=i.useContext(Ia),r=y(se)??{},h=y(pe),C=Kn("action",h.actionType),L=!!y(z=>Ve(z)[r.displayName]||{}).isRunning,b=!Wt(r,h),w=W(),{t:M}=R(),[T,v]=xl(h),$=y(Ve),f=y(Ae),E=((Y=$[r.displayName])==null?void 0:Y.data)!==void 0||((re=$[r.displayName])==null?void 0:re.runResult)!==void 0,D=(oe=(V=$[r.displayName])==null?void 0:V.runResult)==null?void 0:oe.error,H=(()=>f?b?"save":"test_run":h!=null&&b?h.triggerMode==="manually"?"save":h.triggerMode==="automate"?"save_and_run":"save":"run")(),Z=i.useMemo(()=>r.actionType==="transformer"||r.actionType==="globalData"?[mn[0]]:mn,[r.actionType]);i.useEffect(()=>{(r.actionType==="transformer"||r.actionType==="globalData")&&c("general")},[c,r.actionType]),i.useEffect(()=>{switch(H){case"save":{P(A.SHOW,{element:"action_edit_save",parameter1:h.actionType});break}case"run":{P(A.SHOW,{element:"action_edit_run",parameter1:h.actionType});break}case"save_and_run":{P(A.SHOW,{element:"action_edit_save_run",parameter1:h.actionType});break}}},[h.actionType,H]);const k=i.useCallback(async z=>{if(z)try{await $o(z)}catch{dl(z.actionType)&&g(z.actionID,!0)}finally{e(!0)}},[e,g]),q=i.useCallback(z=>{z&&(w(Q.updateActionItemReducer(z)),k(z))},[w,k]),O=i.useCallback(async()=>{let z=Cl(h);switch(H){case"test_run":if(!T){u.error({content:v});return}q(z);break;case"run":if(P(A.CLICK,{element:"action_edit_run",parameter1:h.actionType,parameter2:h}),!T){u.error({content:v});return}k(z);break;case"save":if(h.actionType==="globalData"){w(X.setGlobalStateReducer({key:h.displayName,value:h.content.initialValue,oldKey:h.displayName}));return}if(f){z&&w(Q.updateActionItemReducer(z));return}P(A.CLICK,{element:"action_edit_save",parameter1:h.actionType,parameter2:h}),s(!0);try{await Ge(z),z&&w(Q.updateActionItemReducer(z))}catch{u.error({content:M("create_fail")})}s(!1);break;case"save_and_run":if(P(A.CLICK,{element:"action_edit_save_run",parameter1:h.actionType,parameter2:h}),!T){u.error({content:v});return}s(!0);try{await Ge(z),q(z)}catch{u.error({content:M("editor.action.panel.btn.save_fail")})}s(!1);break}},[h,v,T,w,f,u,k,H,M,q]),G=i.useMemo(()=>H==="run"||H==="test_run"?(h==null?void 0:h.actionType)!=="transformer"&&(h==null?void 0:h.actionType)!=="globalData":!0,[h==null?void 0:h.actionType,H]);if(h===void 0)return t(F,{});const ee=m("div",{css:gl,onClick:()=>{e(!a)},children:[t(_t,{fs:"16px",size:"16px"}),t("span",{css:yn,children:M("editor.action.panel.status.ran_successfully")}),t(ut,{css:xn(a)})]}),K=m("div",{css:hl,onClick:()=>{e(!a)},children:[t(It,{fs:"16px",size:"16px"}),t("span",{css:yn,children:M("editor.action.panel.status.ran_failed")}),t(ut,{css:xn(a)})]});return t(F,{children:m("div",{css:pl,children:[t(ya,{items:Z,activeKey:l,handleClickChangeTab:c,containerStyle:ml}),t("div",{css:ul,children:t(Fr,{displayName:r.displayName,updateDisplayNameByBlur:async z=>{const Ie={...r,displayName:z};if(r.actionType==="globalData"){if(j.isAlreadyGenerate(z)){u.error({content:M("editor.action.panel.error.duplicated")});return}j.addDisplayNames([z]),j.removeDisplayName(r.displayName),w(X.setGlobalStateReducer({key:z,value:r.content.initialValue,oldKey:r.displayName}));return}if(f){w(Q.updateActionDisplayNameReducer({newDisplayName:z,oldDisplayName:r.displayName,actionID:Ie.actionID}));return}s(!0);try{await Ge(Ie),w(Q.updateActionDisplayNameReducer({newDisplayName:z,oldDisplayName:r.displayName,actionID:Ie.actionID}))}catch{u.error({content:M("change_fail")})}s(!1)},onClick:()=>{P(A.RENAME,{element:"action_rename",parameter1:r.actionType,parameter2:"hover"})}},r.displayName)}),m("div",{css:fl,children:[E&&(D?K:ee),C&&t(Vt,{to:C,target:"_blank",children:t(te,{colorScheme:"grayBlue",leftIcon:t(Hn,{size:"14px"})})}),t(Oe,{position:"bottom-end",trigger:"click",dropList:m(Fe,{w:"184px",children:[t(Cn,{value:"duplicate",title:M("editor.action.action_list.contextMenu.duplicate"),onClick:()=>{zt(r)}},"duplicate"),t(Cn,{value:"delete",title:M("editor.action.action_list.contextMenu.delete"),deleted:!0,onClick:()=>{d.showDeleteDialog([r.displayName],"action")}},"delete")]}),children:t(te,{colorScheme:"grayBlue",leftIcon:t(Fn,{size:"14px"})})}),G&&t(te,{pos:"relative",className:`${h.displayName}-run`,colorScheme:"techPurple",variant:b?"fill":"light",size:"medium",loading:L||p,leftIcon:t(On,{}),onClick:O,children:M(`editor.action.panel.btn.${H}`)})]})]})})};La.displayName="ActionTitleBar";const bl=o`
  flex-grow: 1;
  height: 100%;
  overflow-x: auto;
  overflow-y: hidden;
  display: flex;
  flex-direction: column;
  position: relative;
`,wl=o`
  width: 100%;
  height: 100%;
  min-width: 877px;
  position: relative;
  display: flex;
  flex-direction: column;
  overflow-y: hidden;
`,vl=o`
  width: 100%;
  display: flex;
  flex-direction: column;
`,Sl=o`
  padding-bottom: 48px;
  width: 100%;
  height: calc(100% - 48px);
  overflow-y: auto;
  padding-top: 8px;
`,Xu=o`
  padding: 8px 0;
`,Il=o`
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
`,_a=()=>t("div",{css:Il,children:t(St,{colorScheme:"techPurple"})});_a.displayName="WidgetLoading";const ka=i.memo(_a),Ll=o`
  min-height: 48px;
  width: 100%;
  margin: 0;
  padding: 0 16px;
  display: flex;
  align-items: center;
  flex-direction: row;
`,_l=o`
  width: 184px;
`,kl=o`
  flex-grow: 1;
`,Al=o`
  margin: 8px 16px;
  width: 100%;
`,bn=o`
  min-width: 160px;
  font-size: 14px;
  font-weight: 500;
  text-align: right;
  color: ${S(`--${I}-grayBlue-02`)};
`,Dl=o`
  display: flex;
  flex-direction: row;
  align-items: center;
  min-height: 48px;
`,Tl=o`
  display: flex;
  flex-direction: row;
  align-items: center;
  min-height: 48px;
  padding: 0 0 0 16px;
`,Ml=n=>n?o`
      ${Dl}
    `:o`
      ${Tl}
    `,Aa=n=>{const{t:e}=R(),a=W(),{fullWidth:l}=n,c=y(pe),u=y(se);return m(F,{children:[c&&m("div",{css:Ll,children:[l?t(Yi,{labelName:e("editor.action.panel.label.transformer")}):t("span",{css:bn,children:e("editor.action.panel.label.transformer")}),t("div",{css:kl}),t(zn,{css:_l,forceEqualWidth:!0,size:"medium",colorScheme:"gray",value:c.transformer.enable,type:"button",options:[{value:!1,label:e("editor.action.panel.btn.disable")},{value:!0,label:e("editor.action.panel.btn.enable")}],onChange:p=>{let s=Fo;u&&u.transformer.enable===p?s=u.transformer||"":p&&(s=Oo),a(N.updateCachedAction({...c,transformer:s}))}})]}),c&&c.transformer.enable&&m("div",{css:Ml(!!l),children:[l?null:t("span",{css:bn}),t(Zt,{value:c.transformer.rawData,wrapperCss:Al,showLineNumbers:!0,canShowCompleteInfo:!0,height:"88px",expectValueType:Ho.STRING,lang:Gt.JAVASCRIPT,codeType:la.NO_METHOD_FUNCTION,modalTitle:e("editor.action.panel.label.transformer"),onChange:p=>{a(N.updateCachedAction({...c,transformer:{...c.transformer,rawData:p}}))}})]})]})};Aa.displayName="TransformerComponent";const Pl=o`
  display: flex;
  padding: 8px 0;
  flex-direction: column;
  gap: 10px;
`,Nl=o`
  color: ${x("grayBlue","02")};
  font-size: 14px;
  font-weight: 500;
  line-height: 22px;
`,$l=o`
  padding: 8px 16px;
  width: 100%;
`,Rl=n=>{const{mockData:e,enableForReleasedApp:a}=n,l=W(),{t:c}=R(),u=s=>{l(N.updateCachedActionMockConfigReducer({mockData:s}))},p=s=>{l(N.updateCachedActionMockConfigReducer({enableForReleasedApp:s}))};return m(F,{children:[m("div",{css:$l,children:[m("div",{css:Pl,children:[t("span",{css:Nl,children:c("editor.action.panel.option.mock.json")}),t(Zt,{value:e,showLineNumbers:!0,canShowCompleteInfo:!0,height:"88px",lang:Gt.JAVASCRIPT,codeType:la.NO_METHOD_FUNCTION,onChange:u})]}),t(eo,{checked:a,colorScheme:"techPurple",onChange:p,children:c("editor.action.panel.option.mock.on_deploy")})]}),t(Aa,{fullWidth:!0}),t(ve,{w:"100%",h:"8px",disp:"block"})]})},El=i.memo(Rl),Bl=o`
  border-top: 1px solid ${S(`--${I}-grayBlue-08`)};
  height: 39px;
  padding-top: 16px;
  padding-left: 16px;
  font-size: 14px;
  font-weight: 500;
  text-align: left;
  color: ${S(`--${I}-grayBlue-04`)};
`,Vl=o`
  width: 100%;
  display: flex;
  flex-direction: column;
`,Da=()=>{const{t:n}=R(),e=y(pe),a=W(),l=i.useCallback((p,s)=>{if(e!=null){const d=Kt(e.content||{}),g={[p]:s},r=en(g,d);a(N.updateCachedAction({...e,content:r}))}},[e,a]),c=i.useCallback(p=>{if(!Qn(p)||e==null)return;const s=Kt(e.content||{}),d=en(p,s);a(N.updateCachedAction({...e,content:d}))},[e,a]),u=i.useCallback((p,s)=>{},[]);return t(i.Suspense,{children:t(At,{renderInBody:!0,zIndex:10,children:m("div",{css:Vl,children:[t("div",{css:Bl,children:n("editor.action.panel.label.event_handler")}),e&&m(zo,{widgetType:e.actionType,widgetDisplayName:e.displayName,widgetParentDisplayName:"",widgetProps:e.content||{},handleUpdateDsl:l,handleUpdateMultiAttrDSL:c,handleUpdateOtherMultiAttrDSL:u,widgetOrAction:"ACTION",children:[t(tn,{config:Wo,displayName:e.displayName,parentAttrName:""}),t(tn,{config:Zo,displayName:e.displayName,parentAttrName:""})]})]})})})};Da.displayName="ActionEventHandler";const Hl=o`
  color: ${x("techPurple","03")};
`,Fl=o`
  width: 100%;
  display: flex;
  align-items: center;
`,Ol=o`
  flex-shrink: 0;
`,zl=o`
  margin-left: 8px;
  flex-shrink: 1;
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  flex-grow: 1;
`,Wl=({setGeneratorVisible:n,setEditorVisible:e})=>{const{t:a}=R(),l=W(),c=y(Re),u=y(pe),p=y(se),s=c.find(g=>g.resourceID===u.resourceID),d=c.map(g=>({label:m("div",{css:Fl,children:[t("span",{css:Ol,children:t(i.Suspense,{children:$e(g.resourceType,"14px")})}),t("span",{css:zl,children:g.resourceName})]}),value:g.resourceID}));return d.unshift({label:m(ve,{size:"8px",direction:"horizontal",alignItems:"center",css:Hl,children:[t(Lt,{size:"14px"}),a("editor.action.panel.option.resource.new")]}),value:"create"}),t(Be,{w:"360px",colorScheme:"techPurple",options:d,value:s?u.resourceID:a("editor.action.resource_choose.deleted"),onChange:g=>{if(g==="create"){n(!0);return}const r=c.find(h=>h.resourceID===g);r!=null&&l(N.updateCachedAction({...u,actionType:r.resourceType,resourceID:g,content:p.actionType===r.resourceType?p.content:ke(r.resourceType)}))},addAfter:t(kt,{style:s?{cursor:"pointer"}:{cursor:"not-allowed"},color:S(`--${I}-grayBlue-04`),onClick:g=>{g.stopPropagation(),s&&e(!0)}})})},Ut=()=>{const{t:n}=R(),e=W(),a=y(pe);return t(Be,{ml:"8px",colorScheme:"techPurple",value:a.triggerMode,w:"360px",onChange:l=>{e(N.updateCachedAction({...a,triggerMode:l}));let c={};l==="manually"&&(c={runtime:Qe.NONE,pages:[],delayWhenLoaded:"",displayLoadingPage:!1}),l==="automate"&&(c={runtime:Qe.APP_LOADED,pages:[],delayWhenLoaded:"",displayLoadingPage:!1}),e(N.updateCachedActionAdvancedConfigReducer(c))},onClick:()=>{P(A.CLICK,{element:"action_edit_auto_run"})},options:[{label:n("editor.action.panel.option.trigger.manually"),value:"manually"},{label:n("editor.action.panel.option.trigger.on_change"),value:"automate"}]})},Zl=o`
  display: flex;
  align-items: center;
  padding: 8px 16px;
  width: 100%;
  overflow-x: auto;
  flex-direction: row;
`,Gl=o`
  flex-grow: 1;
  font-size: 14px;
  font-weight: 500;
  color: ${S(`--${I}-grayBlue-02`)};
`,jl=o`
  justify-content: flex-end;
  flex-grow: 1;
  margin-left: 16px;
  display: flex;
  flex-shrink: 1;
  flex-direction: row;
`,Ul=o`
  border-bottom: 1px solid ${S(`--${I}-grayBlue-08`)};
`,ql=()=>{const{t:n}=R(),[e,a]=i.useState(!1),[l,c]=i.useState(!1),u=y(Re),p=y(pe),s=y(se),d=W(),g=(r,h)=>{a(!1),c(!1),h?d(he.updateResourceItemReducer(r)):(d(he.addResourceItemReducer(r)),d(N.updateCachedAction({...p,actionType:r.resourceType,resourceID:r.resourceID,content:s.actionType===r.resourceType?s.content:ke(r.resourceType)})))};return t(we,{basicTrack:be,pageName:de.EDITOR,children:t(ze,{allResource:u,createOrUpdateResourceCallback:g,children:m(At,{renderInBody:!0,zIndex:10,children:[m("div",{css:Zl,children:[t("span",{css:Gl,children:n("resources")}),m("div",{css:jl,children:[t(Wl,{setGeneratorVisible:c,setEditorVisible:a}),t(Ut,{})]})]}),t(ve,{w:"100%",h:"8px",css:Ul,disp:"block"}),t(Dt,{w:`${Go}px`,visible:e,footer:!1,closable:!0,withoutLine:!0,withoutPadding:!0,maskClosable:!1,onCancel:()=>{a(!1)},children:t(jo,{resourceID:p.resourceID,onBack:()=>{a(!1)}})}),t(ea,{visible:l,onClose:()=>{c(!1)}})]})})})},Ql=o`
  display: flex;
  align-items: center;
  padding: 8px 16px;
  width: 100%;
  overflow-x: auto;
  flex-direction: row;
`,Yl=o`
  border-bottom: 1px solid ${S(`--${I}-grayBlue-08`)};
`,Jl=o`
  flex-grow: 1;
  font-size: 14px;
  font-weight: 500;
  color: ${S(`--${I}-grayBlue-02`)};
`,Xl=o`
  justify-content: flex-end;
  flex-grow: 1;
  margin-left: 16px;
  display: flex;
  flex-shrink: 1;
  flex-direction: row;
`,Kl=o`
  width: 100%;
  display: flex;
  align-items: center;
`,ec=o`
  margin-left: 8px;
  flex-shrink: 1;
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  flex-grow: 1;
`,tc=()=>{const{t:n}=R(),e=W(),a=y(Pt),l=y(pe),c=y(se),u=a.find(s=>s.aiAgentID===l.resourceID),p=a.map(s=>({label:t(F,{children:m("div",{css:Kl,children:[Ye(s,"14px"),t("span",{css:ec,children:s.name})]})}),value:s.aiAgentID}));return m(At,{renderInBody:!0,zIndex:10,children:[m("div",{css:Ql,children:[t("span",{css:Jl,children:n("resources")}),m("div",{css:Xl,children:[t(Be,{w:"360px",colorScheme:"techPurple",value:u?l.resourceID:n("editor.action.resource_choose.deleted"),onChange:s=>{const d=a.find(g=>g.aiAgentID===s);d!=null&&e(N.updateCachedAction({...l,actionType:"aiagent",resourceID:s,content:{...c.content,virtualResource:d}}))},options:p}),t(Be,{ml:"8px",w:"360px",colorScheme:"techPurple",value:l.triggerMode,onChange:s=>{e(N.updateCachedAction({...l,triggerMode:s}));let d={};s==="manually"&&(d={runtime:Qe.NONE,pages:[],delayWhenLoaded:"",displayLoadingPage:!1}),s==="automate"&&(d={runtime:Qe.APP_LOADED,pages:[],delayWhenLoaded:"",displayLoadingPage:!1}),e(N.updateCachedActionAdvancedConfigReducer(d))},onClick:()=>{P(A.CLICK,{element:"action_edit_auto_run"})},options:[{label:n("editor.action.panel.option.trigger.manually"),value:"manually"},{label:n("editor.action.panel.option.trigger.on_change"),value:"automate"}]})]})]}),t(ve,{w:"100%",h:"8px",css:Yl,disp:"block"})]})},nc=o`
  display: flex;
  padding: 8px 16px;
  justify-content: space-between;
  align-items: center;
`,ac=o`
  color: ${x("grayBlue","02")};
  font-size: 14px;
  font-weight: 500;
  line-height: 22px;
`,oc=n=>{const e=W(),{t:a}=R(),l=c=>{e(N.updateCachedActionMockConfigReducer({enabled:c}))};return m("div",{css:nc,children:[t("span",{css:ac,children:a("editor.action.panel.option.mock.data_label")}),t(zn,{type:"button",options:[{label:a("editor.action.panel.option.mock.data_production"),value:!1},{label:a("editor.action.panel.option.mock.data_mock"),value:!0}],size:"medium",onChange:l,value:n.enableMock,colorScheme:"techPurple"})]})},ic=i.memo(oc),sc=["transformer","globalData"],rc=["transformer","globalData"],lc=o`
  display: flex;
  flex-direction: column;
`,Ta=o`
  border-bottom: 1px solid ${x("grayBlue","08")};
`,Ma=o`
  display: flex;
  padding: 8px 16px;
  justify-content: space-between;
  align-items: center;
`,Pa=o`
  color: ${x("grayBlue","02")};
  font-size: 14px;
  font-weight: 500;
  line-height: 22px;
`,cc=()=>{const{t:n}=R();return m(F,{children:[m("div",{css:Ma,children:[t("span",{css:Pa,children:n("editor.action.panel.option.trigger.label")}),t(Ut,{})]}),t(ve,{w:"100%",h:"8px",css:Ta,disp:"block"})]})},dc=({actionType:n})=>{const{t:e}=R();switch(n){case"aiagent":return t(tc,{});case"illadrive":return m(F,{children:[m("div",{css:Ma,children:[t("span",{css:Pa,children:e("editor.action.panel.option.trigger.label")}),t(Ut,{})]}),t(ve,{w:"100%",h:"8px",css:Ta,disp:"block"})]});case"transformer":case"globalData":return null;default:return t(ql,{})}},pc=({actionType:n,mockEnabled:e,children:a})=>n?m(F,{children:[!sc.includes(n)&&t(ic,{enableMock:!!e}),m("div",{css:lc,children:[e?t(cc,{}):t(dc,{actionType:n}),a,!rc.includes(n)&&t(Da,{})]})]}):null,uc=i.lazy(()=>U(()=>import("./index-296fbfc6.js"),["assets/index-296fbfc6.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js"])),gc=i.lazy(()=>U(()=>import("./index-3fa66db1.js"),["assets/index-3fa66db1.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-f4dfedf2.js","assets/index-5fb9a68f.js","assets/index-511dc243.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),hc=i.lazy(()=>U(()=>import("./index-ccd10f39.js"),["assets/index-ccd10f39.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-511dc243.js","assets/index-f4dfedf2.js","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-5fb9a68f.js","assets/index-654af204.js","assets/style-f9cb11da.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),mc=i.lazy(()=>U(()=>import("./index-68403fd5.js"),["assets/index-68403fd5.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-f4dfedf2.js","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-5fb9a68f.js","assets/index-511dc243.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),fc=i.lazy(()=>U(()=>import("./index-c89053a2.js"),["assets/index-c89053a2.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-f4dfedf2.js","assets/index-5fb9a68f.js","assets/index-511dc243.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),yc=i.lazy(()=>U(()=>import("./index-f1c26eaf.js"),["assets/index-f1c26eaf.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-511dc243.js","assets/index-f4dfedf2.js","assets/index-5fb9a68f.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),xc=i.lazy(()=>U(()=>import("./index-00ebe455.js"),["assets/index-00ebe455.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-f4dfedf2.js","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-5fb9a68f.js","assets/style-f9cb11da.js","assets/style-91620c64.js","assets/hook-34b2061f.js","assets/index-654af204.js","assets/index-511dc243.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js"])),Cc=i.lazy(()=>U(()=>import("./index-eb6ac370.js"),["assets/index-eb6ac370.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-511dc243.js","assets/index-f4dfedf2.js","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-5fb9a68f.js","assets/index-654af204.js","assets/style-f9cb11da.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),bc=i.lazy(()=>U(()=>import("./index-a73ba3d3.js"),["assets/index-a73ba3d3.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-654af204.js","assets/index-f4dfedf2.js","assets/index-5fb9a68f.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),wc=i.lazy(()=>U(()=>import("./index-572495dd.js"),["assets/index-572495dd.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-076eeca3.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-654af204.js","assets/style-e472ee1f.js","assets/index-511dc243.js","assets/index-f4dfedf2.js","assets/index-5fb9a68f.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),vc=i.lazy(()=>U(()=>import("./index-45319e3b.js"),["assets/index-45319e3b.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-076eeca3.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-654af204.js","assets/style-e472ee1f.js","assets/index-511dc243.js","assets/index-f4dfedf2.js","assets/index-5fb9a68f.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),Sc=i.lazy(()=>U(()=>import("./index-ccfa325c.js"),["assets/index-ccfa325c.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-511dc243.js","assets/index-f4dfedf2.js","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-5fb9a68f.js","assets/index-7a8c0aa8.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),Ic=i.lazy(()=>U(()=>import("./index-a635ad1b.js"),["assets/index-a635ad1b.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-f4dfedf2.js","assets/index-5fb9a68f.js","assets/index-511dc243.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),Lc=i.lazy(()=>U(()=>import("./index-6fba99b6.js"),["assets/index-6fba99b6.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-7a8c0aa8.js","assets/index-5fb9a68f.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),_c=i.lazy(()=>U(()=>import("./index-43063181.js"),["assets/index-43063181.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-f4dfedf2.js","assets/index-5fb9a68f.js","assets/index-7a8c0aa8.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),kc=i.lazy(()=>U(()=>import("./index-f7f47a44.js"),["assets/index-f7f47a44.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-f4dfedf2.js","assets/index-5fb9a68f.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),Ac=i.lazy(()=>U(()=>import("./index-ae726d01.js"),["assets/index-ae726d01.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-654af204.js","assets/style-e472ee1f.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),Dc=i.lazy(()=>U(()=>import("./index-3a866a7e.js"),["assets/index-3a866a7e.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-511dc243.js","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-f4dfedf2.js","assets/index-5fb9a68f.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),Tc=i.lazy(()=>U(()=>import("./index-075f4346.js"),["assets/index-075f4346.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-511dc243.js","assets/index-f4dfedf2.js","assets/index-5fb9a68f.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),Mc=i.lazy(()=>U(()=>import("./index-13cd3f0c.js"),["assets/index-13cd3f0c.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js"])),Pc=i.lazy(()=>U(()=>import("./index-3ea2ee19.js"),["assets/index-3ea2ee19.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-654af204.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/drive-6b05f117.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),Nc=i.lazy(()=>U(()=>import("./index-15fb8421.js"),["assets/index-15fb8421.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js"])),$c=i.lazy(()=>U(()=>import("./index-55273c54.js"),["assets/index-55273c54.js","assets/@illa-design-402f214a.js","assets/react-9b7e00e3.js","assets/@emotion-4f16718e.js","assets/index-2f1869ab.js","assets/codeMirror-vendor-eff8ab8d.js","assets/lodash-lib-6e94956b.js","assets/react-icons-vendor-2430ea65.js","assets/index-cbfab8c9.css","assets/panelFolder-5e4290ef.js","assets/drive-6b05f117.js","assets/index-511dc243.js","assets/index-9dcf4ab8.js","assets/index-65ed348a.js","assets/index-e7294a86.js","assets/clsx.m-925abe8b.js","assets/clsx.m-266f4de0.js","assets/index-f4dfedf2.js","assets/index-5fb9a68f.js","assets/hook-34b2061f.js","assets/renderComponentCanvasContainer-44ad78fe.js","assets/style-7ce959a8.js","assets/index-f466602f.js","assets/index-cf2bb556.js","assets/index-b8442d1a.js","assets/layoutInfoListener-bba65cc8.js","assets/objectWithoutPropertiesLoose-4f48578a.js","assets/popper-cd761d27.js","assets/clsx-85d7d0af.js","assets/objectWithoutPropertiesLoose-24430c43.js","assets/index-323e87cb.js","assets/style-bd23c0f2.js","assets/style-91620c64.js"])),Na=()=>{var r;const n=y(pe),e=y(se),[a,l]=i.useState(!1),[c,u]=i.useState("general"),p=i.useCallback(h=>{u(h),h==="advanced"&&P(A.CLICK,{element:"advanced_tab",parameter1:n==null?void 0:n.actionType,parameter2:n}),h==="general"&&P(A.CLICK,{element:"general_tab",parameter1:n==null?void 0:n.actionType})},[n]),s=i.useCallback(()=>(h,C,_)=>{P(h,{parameter1:n==null?void 0:n.actionType,parameter2:n,..._})},[n]),d=((r=n==null?void 0:n.config)==null?void 0:r.mockConfig)??Ce,g=i.useMemo(()=>{switch(n==null?void 0:n.actionType){case"clickhouse":case"supabasedb":case"mysql":case"tidb":case"mariadb":case"postgresql":case"snowflake":case"neon":case"hydra":return t(Lc,{});case"mssql":return t(Sc,{});case"oracle":case"oracle9i":return t(_c,{});case"restapi":return t(Ac,{});case"huggingface":return t(vc,{});case"hfendpoint":return t(wc,{});case"redis":case"upstash":return t(kc,{});case"mongodb":return t(Ic,{});case"transformer":return t(Mc,{});case"elasticsearch":return t(yc,{});case"dynamodb":return t(fc,{});case"s3":return t(Dc,{});case"smtp":return t(Tc,{});case"googlesheets":return t(Cc,{});case"firebase":return t(xc,{});case"graphql":return t(bc,{});case"appwrite":return t(hc,{});case"couchdb":return t(mc,{});case"airtable":return t(gc,{});case"aiagent":return t(Pc,{});case"globalData":return t(Nc,{});case"illadrive":return t($c,{});default:return t(F,{})}},[n]);return n?t("div",{css:bl,children:t(ll,{children:m("div",{css:wl,children:[t(La,{onResultVisibleChange:h=>{l(h)},openState:a,activeTab:c,handleChangeTab:p}),m(i.Suspense,{fallback:t(ka,{}),children:[c==="general"&&t("div",{css:Sl,children:t(pc,{actionType:n==null?void 0:n.actionType,mockEnabled:d==null?void 0:d.enabled,children:d!=null&&d.enabled?t(El,{enableForReleasedApp:d.enableForReleasedApp,mockData:d.mockData}):t("div",{css:vl,children:g})})}),c==="advanced"&&t(we,{basicTrack:s,pageName:Uo.PLACEHOLDER,children:t(uc,{})})]}),a&&t(fa,{visible:a,onClose:()=>{l(!1)}},e==null?void 0:e.actionID)]})})}):t(F,{})};Na.displayName="ActionPanel";const wn=320,Rc=()=>{const n=i.useRef(null),e=y(Yn);return m("div",{css:Fs(wn),onClick:()=>{ne.switchFocus("action")},ref:n,"data-onboarding-action":"actionEditor",children:[t(at,{resizeRef:n,minHeight:wn}),t(Wn,{direction:"horizontal"}),m("div",{css:Os,children:[t(we,{basicTrack:nn("editor_new"),pageName:de.EDITOR,children:t(ha,{})}),e.length>0?t(we,{pageName:de.EDITOR,basicTrack:nn("editor_resource_new"),children:t(Na,{})}):t(Ks,{})]})]})};Rc.displayName="ActionEditor";o`
  display: inline-flex;
  justify-content: center;
`;o`
  display: flex;
  width: 100%;
  padding: 13px 12px;
  gap: 10px;
`;const Ec=o`
  box-sizing: border-box;
  width: ${Et}px;
  flex: none;
  display: flex;
  flex-direction: column;
  height: 100%;
  border-left: 1px solid ${x("grayBlue","08")};
  background: ${x("white","01")};
  position: relative;
`,Bc=()=>{const[n,e]=i.useState("Insert"),a=y(Bt),l=y(qo),c=i.useRef(l),u=i.useRef(!1);return i.useEffect(()=>{u.current||(a.length>0?e("Inspect"):(n==="Page"&&e("Page"),n==="Inspect"&&e("Insert"))),c.current!==l&&(c.current=l),u.current=!1},[n,l,a]),m("div",{css:Ec,"data-onboarding-comp":"componentsManager",children:[t(ya,{items:fn,activeKey:n,handleClickChangeTab:s=>{switch(s){case"Page":ne.switchFocus("page_config");break;case"Inspect":ne.switchFocus("components_config");break;case"Insert":ne.switchFocus("widget_picker");break}e(s),u.current=!0,P(A.CLICK,{element:"right_tab",parameter2:s})}}),t(i.Suspense,{fallback:t(ka,{}),children:Wr(n,fn)})]})};Bc.displayName="ComponentsManager";const Vc=Ft`
  0% {
    transform: translate3d(0, -${Qo}px, 0);
  }
  100% {
    transform: translate3d(0, 0, 0);
  }
`,Hc=Ft`
  0% {
    transform: translate3d(-${ta}px, 0, 0);
  }
  100% {
    transform: translate3d(0, 0, 0);
  }
`,Fc=Ft`
  0% {
    transform: translate3d(${Et}px, 0, 0);
  }
  100% {
    transform: translate3d(0, 0, 0);
  }
`,Oc=o`
  ${ca};
  transform: translate3d(-${ta}px, 0, 0);
  animation: ${Hc} 300ms ease-in-out 200ms forwards;
`,zc=o`
  ${Ji};
  transform: translate3d(${Et}px, 0, 0);
  animation: ${Fc} 300ms ease-in-out 200ms forwards;
`,Wc=o`
  ${Xi};
  background: ${S(`--${I}-white-01`)};
  animation: ${Vc} 300ms ease-in-out;
  border-bottom: 1px solid ${S(`--${I}-grayBlue-08`)};
`,Zc=o`
  background: #fafafb;
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
`,Gc=()=>{const[n,e]=i.useState();return m("div",{css:Zc,children:[t("div",{css:Wc}),m("div",{css:Ki,children:[t("div",{css:Oc,onAnimationEnd:()=>{e(!0)}}),t("div",{css:es,children:n?t(St,{colorScheme:"techPurple"}):null}),t("div",{css:zc})]})]})};Gc.displayName="AppLoading";function Ze(n,e){let a="#999";switch(n){case"number":a="#164";break;case"boolean":a="#219";break;case"string":a="#219";break;case"undefined":a="#708";break;case"function":a="#05a";break;case"symbol":a="#00c";break;case"bigint":a="#170";break;case"object":a="#a50";break;default:a="#999";break}return o`
    color: ${a};
    padding-right: ${e?"4px":"0"};
  `}const jc=o`
  width: 100%;
  height: 100%;
  overflow: auto;
`,Uc=o`
  background-color: ${S(`--${I}-techPink-08`)};
`,qc=o`
  display: flex;
  justify-content: space-between;
  align-items: start;
  padding: 8px 16px;
  font-weight: 400;
  font-size: 14px;
  line-height: 22px;
  min-height: 38px;
  z-index: 1;
`,Qc=o`
  display: flex;
  align-items: start;
`,Yc=o`
  cursor: pointer;
  color: ${S(`--${I}-grayBlue-03`)};
  margin-right: 8px;
`,Jc=o`
  word-break: break-word;
`,Xc=o`
  color: ${S(`--${I}-grayBlue-03`)};
  text-decoration-line: underline;
  cursor: pointer;

  &:hover {
    color: ${S(`--${I}-grayBlue-02`)};
  }
`,Kc=o`
  flex-shrink: 0;
  color: ${S(`--${I}-red-03`)};
  margin-top: 3px;
`,ed=o`
  padding: 2px 4px;
  margin: 5px 4px;
`;function $a(n){return o`
    display: inline-flex;
    font-size: 8px;
    line-height: 0;
    cursor: pointer;
    transform-origin: center;
    transform: rotate(${n?90:0}deg);
    transition: transform 200ms;
  `}const td=o`
  padding-left: 56px;
  font-weight: 400;
  font-size: 14px;
  line-height: 22px;
`,nd=o`
  color: ${S(`--${I}-grayBlue-02`)};
  text-decoration-line: underline;
  cursor: pointer;
`,Ra={enter:{height:"unset",opacity:1,visibility:"visible",display:"inherit"},exit:{height:0,opacity:0,visibility:"hidden",transitionEnd:{display:"none"}}},vn=o`
  font-family: "Fira Code", monospace;
  padding-top: 4px;
  padding-bottom: 6px;
  font-size: 14px;
  line-height: 22px;
`,ad=o`
  display: inline-block;
  vertical-align: bottom;
  color: ${S(`--${I}-grayBlue-04`)};
  margin-left: 8px;
`,od=o`
  margin-right: 8px;
`;function id(n){return o`
    margin-left: ${n*16}px;
  `}const qt=n=>{const{name:e,value:a,level:l=0}=n,[c,u]=i.useState(!1),p=typeof a;if(gt(a)||Tt(a)){const s=Object.keys(a).filter(d=>!d.startsWith("$"));return m(F,{children:[m("div",{css:vn,children:[t("span",{css:[od,$a(c)],onClick:()=>{u(!c)},children:t(Ke,{})}),t("span",{css:Ze("string"),children:`"${e}"`}),":",m("label",{css:ad,children:[`${gt(a)?"{}":"[]"}`,"Â ",s.length,s.length>1?"keys":"key"]})]}),t(ge.div,{variants:Ra,role:"region",animate:c?"enter":"exit",initial:!1,transition:{duration:.2},children:s.map(d=>t(qt,{name:d,value:a[d],level:l+1},d))})]})}return m("div",{css:[vn,id(l+1)],children:[t("span",{css:Ze("string"),children:`"${e}"`}),":",t("span",{children:to(a)?t("span",{css:Ze(p),children:`"${a}"`}):t("span",{css:Ze(p),children:`${a}`})})]})};qt.displayName="JsonView";const sd=n=>{const{item:e,pathName:a}=n,l=W(),c=y(na),[u,p]=i.useState(!1),{displayName:s,attrPath:d}=Yo(a),g=i.useMemo(()=>{const h=ht(c,s);if(h)return ji(h==null?void 0:h.props,d)},[c,s,d]),r=i.useCallback(()=>{const h=ht(c,s);h&&l(N.updateSelectedComponent([h.displayName]))},[c,s,l]);return m("div",{css:Uc,children:[m("div",{css:qc,children:[m("div",{css:Qc,children:[t(no,{size:"16px",css:Kc}),t("span",{css:[ed,$a(u)],onClick:()=>{p(!u)},children:t(Ke,{})}),m("span",{css:Yc,onClick:r,children:["[",s,"]"]}),m("span",{css:Jc,children:["The value at ",d," is invalid"]})]}),t("div",{css:Xc,onClick:r,children:a})]}),m(ge.div,{css:td,variants:Ra,role:"region",animate:u?"enter":"exit",initial:!1,transition:{duration:.2},children:[m("div",{css:nd,children:[e==null?void 0:e.errorName,": ",e==null?void 0:e.errorMessage]}),t(qt,{name:d,value:g},d)]})]})};function rd(n){return o`
    position: relative;
    width: 100%;
    height: ${n}px;
    display: flex;
    flex-direction: column;
  `}const ld=o`
  height: 100%;
  overflow: auto;
  display: flex;
  flex-direction: column;
  position: relative;
`,cd=o`
  display: flex;
  justify-content: space-between;
  padding: 13px 16px 13px 12px;
  box-shadow: inset 0px -1px 1px #e5e6eb;
  font-weight: 500;
  font-size: 14px;
  color: ${S(`--${I}-grayBlue-02`)};
`,dd=o`
  width: 100%;
`,Sn=300,pd=n=>{var p;const e=W(),a=i.useRef(null),l=y(Jo),c=y(Xo),u=i.useCallback(()=>{e(N.updateDebuggerVisible(!c))},[c,e]);return m("div",{className:n.className,css:rd(Sn),ref:a,children:[t(at,{resizeRef:a,minHeight:Sn}),t(Wn,{direction:"horizontal"}),m("div",{css:cd,children:[t("span",{children:"Errors"}),t(Le,{onClick:u})]}),t("div",{css:ld,children:t("div",{css:dd,children:(p=Object.keys(l))==null?void 0:p.map((s,d)=>{const g=l[s];return Tt(g)&&g.length>0?g==null?void 0:g.map(r=>t(sd,{pathName:s,item:r},d)):null})})})]})};pd.displayName="Debugger";var J={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.Unidentified="Unidentified",e.Alt="Alt",e.AltGraph="AltGraph",e.CapsLock="CapsLock",e.Control="Control",e.Fn="Fn",e.FnLock="FnLock",e.Hyper="Hyper",e.Meta="Meta",e.NumLock="NumLock",e.ScrollLock="ScrollLock",e.Shift="Shift",e.Super="Super",e.Symbol="Symbol",e.SymbolLock="SymbolLock",e.Enter="Enter",e.Tab="Tab",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.End="End",e.Home="Home",e.PageDown="PageDown",e.PageUp="PageUp",e.Backspace="Backspace",e.Clear="Clear",e.Copy="Copy",e.CrSel="CrSel",e.Cut="Cut",e.Delete="Delete",e.EraseEof="EraseEof",e.ExSel="ExSel",e.Insert="Insert",e.Paste="Paste",e.Redo="Redo",e.Undo="Undo",e.Accept="Accept",e.Again="Again",e.Attn="Attn",e.Cancel="Cancel",e.ContextMenu="ContextMenu",e.Escape="Escape",e.Execute="Execute",e.Find="Find",e.Finish="Finish",e.Help="Help",e.Pause="Pause",e.Play="Play",e.Props="Props",e.Select="Select",e.ZoomIn="ZoomIn",e.ZoomOut="ZoomOut",e.BrightnessDown="BrightnessDown",e.BrightnessUp="BrightnessUp",e.Eject="Eject",e.LogOff="LogOff",e.Power="Power",e.PowerOff="PowerOff",e.PrintScreen="PrintScreen",e.Hibernate="Hibernate",e.Standby="Standby",e.WakeUp="WakeUp",e.AllCandidates="AllCandidates",e.Alphanumeric="Alphanumeric",e.CodeInput="CodeInput",e.Compose="Compose",e.Convert="Convert",e.Dead="Dead",e.FinalMode="FinalMode",e.GroupFirst="GroupFirst",e.GroupLast="GroupLast",e.GroupNext="GroupNext",e.GroupPrevious="GroupPrevious",e.ModeChange="ModeChange",e.NextCandidate="NextCandidate",e.NonConvert="NonConvert",e.PreviousCandidate="PreviousCandidate",e.Process="Process",e.SingleCandidate="SingleCandidate",e.HangulMode="HangulMode",e.HanjaMode="HanjaMode",e.JunjaMode="JunjaMode",e.Eisu="Eisu",e.Hankaku="Hankaku",e.Hiragana="Hiragana",e.HiraganaKatakana="HiraganaKatakana",e.KanaMode="KanaMode",e.KanjiMode="KanjiMode",e.Katakana="Katakana",e.Romaji="Romaji",e.Zenkaku="Zenkaku",e.ZenkakuHanaku="ZenkakuHanaku",e.F1="F1",e.F2="F2",e.F3="F3",e.F4="F4",e.F5="F5",e.F6="F6",e.F7="F7",e.F8="F8",e.F9="F9",e.F10="F10",e.F11="F11",e.F12="F12",e.F13="F13",e.F14="F14",e.F15="F15",e.F16="F16",e.F17="F17",e.F18="F18",e.F19="F19",e.F20="F20",e.Soft1="Soft1",e.Soft2="Soft2",e.Soft3="Soft3",e.Soft4="Soft4",e.AppSwitch="AppSwitch",e.Call="Call",e.Camera="Camera",e.CameraFocus="CameraFocus",e.EndCall="EndCall",e.GoBack="GoBack",e.GoHome="GoHome",e.HeadsetHook="HeadsetHook",e.LastNumberRedial="LastNumberRedial",e.Notification="Notification",e.MannerMode="MannerMode",e.VoiceDial="VoiceDial",e.ChannelDown="ChannelDown",e.ChannelUp="ChannelUp",e.MediaFastForward="MediaFastForward",e.MediaPause="MediaPause",e.MediaPlay="MediaPlay",e.MediaPlayPause="MediaPlayPause",e.MediaRecord="MediaRecord",e.MediaRewind="MediaRewind",e.MediaStop="MediaStop",e.MediaTrackNext="MediaTrackNext",e.MediaTrackPrevious="MediaTrackPrevious",e.AudioBalanceLeft="AudioBalanceLeft",e.AudioBalanceRight="AudioBalanceRight",e.AudioBassDown="AudioBassDown",e.AudioBassBoostDown="AudioBassBoostDown",e.AudioBassBoostToggle="AudioBassBoostToggle",e.AudioBassBoostUp="AudioBassBoostUp",e.AudioBassUp="AudioBassUp",e.AudioFaderFront="AudioFaderFront",e.AudioFaderRear="AudioFaderRear",e.AudioSurroundModeNext="AudioSurroundModeNext",e.AudioTrebleDown="AudioTrebleDown",e.AudioTrebleUp="AudioTrebleUp",e.AudioVolumeDown="AudioVolumeDown",e.AudioVolumeMute="AudioVolumeMute",e.AudioVolumeUp="AudioVolumeUp",e.MicrophoneToggle="MicrophoneToggle",e.MicrophoneVolumeDown="MicrophoneVolumeDown",e.MicrophoneVolumeMute="MicrophoneVolumeMute",e.MicrophoneVolumeUp="MicrophoneVolumeUp",e.TV="TV",e.TV3DMode="TV3DMode",e.TVAntennaCable="TVAntennaCable",e.TVAudioDescription="TVAudioDescription",e.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",e.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",e.TVContentsMenu="TVContentsMenu",e.TVDataService="TVDataService",e.TVInput="TVInput",e.TVInputComponent1="TVInputComponent1",e.TVInputComponent2="TVInputComponent2",e.TVInputComposite1="TVInputComposite1",e.TVInputComposite2="TVInputComposite2",e.TVInputHDMI1="TVInputHDMI1",e.TVInputHDMI2="TVInputHDMI2",e.TVInputHDMI3="TVInputHDMI3",e.TVInputHDMI4="TVInputHDMI4",e.TVInputVGA1="TVInputVGA1",e.TVMediaContext="TVMediaContext",e.TVNetwork="TVNetwork",e.TVNumberEntry="TVNumberEntry",e.TVPower="TVPower",e.TVRadioService="TVRadioService",e.TVSatellite="TVSatellite",e.TVSatelliteBS="TVSatelliteBS",e.TVSatelliteCS="TVSatelliteCS",e.TVSatelliteToggle="TVSatelliteToggle",e.TVTerrestrialAnalog="TVTerrestrialAnalog",e.TVTerrestrialDigital="TVTerrestrialDigital",e.TVTimer="TVTimer",e.AVRInput="AVRInput",e.AVRPower="AVRPower",e.ColorF0Red="ColorF0Red",e.ColorF1Green="ColorF1Green",e.ColorF2Yellow="ColorF2Yellow",e.ColorF3Blue="ColorF3Blue",e.ColorF4Grey="ColorF4Grey",e.ColorF5Brown="ColorF5Brown",e.ClosedCaptionToggle="ClosedCaptionToggle",e.Dimmer="Dimmer",e.DisplaySwap="DisplaySwap",e.DVR="DVR",e.Exit="Exit",e.FavoriteClear0="FavoriteClear0",e.FavoriteClear1="FavoriteClear1",e.FavoriteClear2="FavoriteClear2",e.FavoriteClear3="FavoriteClear3",e.FavoriteRecall0="FavoriteRecall0",e.FavoriteRecall1="FavoriteRecall1",e.FavoriteRecall2="FavoriteRecall2",e.FavoriteRecall3="FavoriteRecall3",e.FavoriteStore0="FavoriteStore0",e.FavoriteStore1="FavoriteStore1",e.FavoriteStore2="FavoriteStore2",e.FavoriteStore3="FavoriteStore3",e.Guide="Guide",e.GuideNextDay="GuideNextDay",e.GuidePreviousDay="GuidePreviousDay",e.Info="Info",e.InstantReplay="InstantReplay",e.Link="Link",e.ListProgram="ListProgram",e.LiveContent="LiveContent",e.Lock="Lock",e.MediaApps="MediaApps",e.MediaAudioTrack="MediaAudioTrack",e.MediaLast="MediaLast",e.MediaSkipBackward="MediaSkipBackward",e.MediaSkipForward="MediaSkipForward",e.MediaStepBackward="MediaStepBackward",e.MediaStepForward="MediaStepForward",e.MediaTopMenu="MediaTopMenu",e.NavigateIn="NavigateIn",e.NavigateNext="NavigateNext",e.NavigateOut="NavigateOut",e.NavigatePrevious="NavigatePrevious",e.NextFavoriteChannel="NextFavoriteChannel",e.NextUserProfile="NextUserProfile",e.OnDemand="OnDemand",e.Pairing="Pairing",e.PinPDown="PinPDown",e.PinPMove="PinPMove",e.PinPToggle="PinPToggle",e.PinPUp="PinPUp",e.PlaySpeedDown="PlaySpeedDown",e.PlaySpeedReset="PlaySpeedReset",e.PlaySpeedUp="PlaySpeedUp",e.RandomToggle="RandomToggle",e.RcLowBattery="RcLowBattery",e.RecordSpeedNext="RecordSpeedNext",e.RfBypass="RfBypass",e.ScanChannelsToggle="ScanChannelsToggle",e.ScreenModeNext="ScreenModeNext",e.Settings="Settings",e.SplitScreenToggle="SplitScreenToggle",e.STBInput="STBInput",e.STBPower="STBPower",e.Subtitle="Subtitle",e.Teletext="Teletext",e.VideoModeNext="VideoModeNext",e.Wink="Wink",e.ZoomToggle="ZoomToggle",e.SpeechCorrectionList="SpeechCorrectionList",e.SpeechInputToggle="SpeechInputToggle",e.Close="Close",e.New="New",e.Open="Open",e.Print="Print",e.Save="Save",e.SpellCheck="SpellCheck",e.MailForward="MailForward",e.MailReply="MailReply",e.MailSend="MailSend",e.LaunchCalculator="LaunchCalculator",e.LaunchCalendar="LaunchCalendar",e.LaunchContacts="LaunchContacts",e.LaunchMail="LaunchMail",e.LaunchMediaPlayer="LaunchMediaPlayer",e.LaunchMusicPlayer="LaunchMusicPlayer",e.LaunchMyComputer="LaunchMyComputer",e.LaunchPhone="LaunchPhone",e.LaunchScreenSaver="LaunchScreenSaver",e.LaunchSpreadsheet="LaunchSpreadsheet",e.LaunchWebBrowser="LaunchWebBrowser",e.LaunchWebCam="LaunchWebCam",e.LaunchWordProcessor="LaunchWordProcessor",e.LaunchApplication1="LaunchApplication1",e.LaunchApplication2="LaunchApplication2",e.LaunchApplication3="LaunchApplication3",e.LaunchApplication4="LaunchApplication4",e.LaunchApplication5="LaunchApplication5",e.LaunchApplication6="LaunchApplication6",e.LaunchApplication7="LaunchApplication7",e.LaunchApplication8="LaunchApplication8",e.LaunchApplication9="LaunchApplication9",e.LaunchApplication10="LaunchApplication10",e.LaunchApplication11="LaunchApplication11",e.LaunchApplication12="LaunchApplication12",e.LaunchApplication13="LaunchApplication13",e.LaunchApplication14="LaunchApplication14",e.LaunchApplication15="LaunchApplication15",e.LaunchApplication16="LaunchApplication16",e.BrowserBack="BrowserBack",e.BrowserFavorites="BrowserFavorites",e.BrowserForward="BrowserForward",e.BrowserHome="BrowserHome",e.BrowserRefresh="BrowserRefresh",e.BrowserSearch="BrowserSearch",e.BrowserStop="BrowserStop",e.Decimal="Decimal",e.Key11="Key11",e.Key12="Key12",e.Multiply="Multiply",e.Add="Add",e.Divide="Divide",e.Subtract="Subtract",e.Separator="Separator"}(n.Key||(n.Key={}))})(J);const Ku=({children:n})=>{var H,Z;const e=W(),{t:a}=R(),l=ae(),{appId:c}=Ht(),u=y(Rt),p=y(Bt),s=y(se),d=y(na),g=y(Ve),r=y(Ko),h=y(tt),C=Ot(),[_,L]=i.useState(!1),[b,w]=i.useState(!1),M=aa(h==null?void 0:h.myRole,oa(h),(H=h==null?void 0:h.totalTeamLicense)==null?void 0:H.teamLicensePurchased,(Z=h==null?void 0:h.totalTeamLicense)==null?void 0:Z.teamLicenseAllPaid),T=(k,q,O)=>{const G=ao();if(!_&&k.length>0){const ee=k.join(", ").toString();L(!0);const K=G.show({blockOkHide:!0,blockCancelHide:!0,title:a("editor.component.delete_title",{displayName:ee}),children:a("editor.component.delete_content",{displayName:ee}),cancelText:a("editor.component.cancel"),okText:a("editor.component.delete"),okButtonProps:{colorScheme:"red"},closable:!1,onCancel:()=>{L(!1),G.update(K,{visible:!1})},onOk:()=>{switch(q){case"page":{P(A.CLICK,{element:"delete_page_modal_delete"}),e(X.deletePageNodeReducer({displayName:k[0],originPageSortedKey:(O==null?void 0:O.originPageSortedKey)||[]}));break}case"widget":{P(A.CLICK,{element:"component_delete_modal_delete",parameter3:(O==null?void 0:O.source)||"left_delete"}),e(X.deleteComponentNodeReducer({displayNames:k,source:(O==null?void 0:O.source)||"left_delete"})),e(N.clearSelectedComponent());break}case"action":{L(!1),G.update(K,{okLoading:!0});for(let Y=0;Y<k.length;Y++){const re=ti(qe.getState(),k[Y]),V=ni(qe.getState());re&&Gi(re),V.includes(k[Y])&&(e(X.deleteGlobalStateByKeyReducer({key:k[Y]})),j.removeDisplayName(k[Y]))}P(A.CLICK,{element:"action_delete_modal_delete"}),G.update(K,{okLoading:!1}),G.update(K,{visible:!1});return}case"subpage":{e(X.deleteSubPageViewNodeReducer({pageName:O.parentPageName,subPagePath:k[0]}));break}case"pageView":{e(X.deleteSectionViewReducer({viewDisplayName:O.viewDisplayName,parentNodeName:O.parentNodeName,originPageSortedKey:O.originPageSortedKey}));break}case"globalData":{e(X.deleteGlobalStateByKeyReducer({key:k[0]})),j.removeDisplayName(k[0]);break}}L(!1),G.update(K,{visible:!1})},afterOpen:()=>{q==="page"&&P(A.SHOW,{element:"delete_page_modal"}),q==="widget"&&P(A.SHOW,{element:"component_delete_modal",parameter3:(O==null?void 0:O.source)||""}),q==="action"&&P(A.SHOW,{element:"action_delete_modal"})}})}},v=i.useCallback(()=>{switch(ne.getFocus()){case"none":break;case"data_component":break;case"data_action":break;case"data_page":break;case"data_global_state":break;case"action":break;case"widget_picker":break;case"components_config":break;case"page_config":break;case"canvas":if(d){const k=g.root;if(!k)return;const q=k.pageSortedKey[k.currentPageIndex],O=ht(d,q);if(!O)return;let G="";if(O.childrenNode.find(K=>{const Y=g[K];if(Y&&Y.viewSortedKey&&Y.currentViewIndex>=0&&d[K].showName==="bodySection"){const{currentViewIndex:re,viewSortedKey:V}=Y;G=V[re]}}),!G)return;const ee=Array.isArray(d[G].childrenNode)?d[G].childrenNode:[];P(A.SELECT,{element:"component",parameter1:"keyboard"}),e(N.updateSelectedComponent(ee))}}},[d,e,g]),$=()=>{switch(ne.getFocus()){case"data_page":break;case"data_global_state":break;case"none":break;case"canvas":case"data_component":p!=null&&p.length>0&&fe.copyComponentNodeByDisplayName(p);break;case"data_action":case"action":s!=null&&fe.copyActionByActionID(s.actionID);break}},f=()=>{switch(ne.getFocus()){case"data_page":break;case"data_global_state":break;case"none":break;case"canvas":case"data_component":p!=null&&p.length>0&&fe.copyComponentNodeByDisplayName(p);break;case"data_action":case"action":s!=null&&fe.copyActionByActionID(s.actionID);break}fe.paste("keyboard")},E=i.useCallback(k=>{k==="keydown"?e(N.updateShowDot(!0)):k==="keyup"&&e(N.updateShowDot(!1))},[e]),D=i.useCallback(()=>{r&&e(N.updateShowDot(!1))},[e,r]),B=i.useCallback(async()=>{if(!M)C({modalType:"upgrade",from:"app_edit_keyboard_history"});else if(c){if(b)return;w(!0);try{await ei(c),l.success({content:a("editor.history.message.suc.save")})}catch(k){ia(k)?l.error({content:a("editor.history.message.fail.save")}):l.error({content:a("network_error")})}finally{w(!1)}}},[c,M,l,b,a,C]);return ue(`${me()?J.Key.Meta:J.Key.Control}+s`,k=>{k.repeat||l.success({content:a("dont_need_save")})},{enableOnFormTags:!0,enableOnContentEditable:!0,preventDefault:!0,enabled:u},[B]),ue(J.Key.Backspace,k=>{if(!k.repeat)switch(ne.getFocus()){case"data_page":break;case"data_global_state":break;case"none":break;case"canvas":case"data_component":T(p.map(q=>q),"widget",{source:"keyboard"});break;case"data_action":case"action":s!=null&&s.displayName&&T([s.displayName],"action",{source:"keyboard"});break}},{enabled:u},[T,p,s]),ue(`${me()?J.Key.Meta:J.Key.Control}+a`,k=>{k.repeat||v()},{preventDefault:!0,enabled:u},[v]),ue(`${me()?J.Key.Meta:J.Key.Control}+c`,k=>{k.repeat||$()},{preventDefault:!1,enabled:u},[$]),ue(`${me()?J.Key.Meta:J.Key.Control}+v`,k=>{k.repeat||fe.paste("keyboard")},{preventDefault:!1,enabled:u},[$]),ue(`${me()?J.Key.Meta:J.Key.Control}+d`,k=>{k.repeat||f()},{preventDefault:!0,enabled:u},[f]),ue(`${me()?J.Key.Meta:J.Key.Control}`,k=>{k.repeat||E(k.type)},{keydown:!0,keyup:!0,preventDefault:!1,enabled:u},[E]),ue(`${me()?J.Key.Meta:J.Key.Control}+z`,k=>{k.repeat||an.popFromUndoStack()},{enabled:u},[u]),ue(`${me()?J.Key.Meta:J.Key.Control}+${J.Key.Shift}+z`,k=>{k.repeat||an.popFromRedoStack()},{enabled:u},[u]),i.useEffect(()=>(u&&window.addEventListener("blur",D),()=>{u&&window.removeEventListener("blur",D)}),[D,e,u]),t(We.Provider,{value:{showDeleteDialog:T},children:n})},ud=n=>{switch(n){case"small":return o`
        height: 32px;
      `;default:case"default":return o`
        height: 48px;
      `}},gd=n=>{switch(n){case"small":return null;default:case"default":return o`
        &:not(:first-of-type) {
          border-top: 1px solid ${S(`--${I}-grayBlue-08`)};
        }
      `}},hd=n=>{const e=ud(n),a=gd(n);return o`
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    ${e};
    ${a};
    padding: 0 16px;
    padding-right: 16px;
  `},md=n=>{switch(n){case"small":return o`
        color: ${x("grayBlue","03")};
        font-size: 12px;
        font-weight: 500;
        font-family: "Inter", serif;
      `;case"default":default:return o`
        color: ${x("grayBlue","02")};
        font-weight: 500;
        font-size: 14px;
      `}},fd=n=>o`
    ${md(n)};
    overflow: hidden;
    text-overflow: ellipsis;
  `,yd=n=>{switch(n){case"small":return o`
        color: ${S(`--${I}-grayBlue-04`)};
      `;case"default":default:return o`
        color: ${S(`--${I}-grayBlue-05`)};
      `}};function xd(n,e){const a=yd(e),l=n?"":o`
        transform: rotate(180deg);
      `;return o`
    transition: transform 200ms;
    transform-origin: center;
    font-size: 16px;
    ${a};
    ${l}
  `}const In=o`
  font-size: 14px;
  color: ${S(`--${I}-grayBlue-02`)};
  position: relative;
  height: auto;
  padding-bottom: 4px;
`,Je={enter:{height:"auto",overflowY:"hidden",transitionEnd:{overflowY:"visible"}},exit:{height:0,overflowY:"hidden",transitionEnd:{overflowY:"hidden"}}},Cd=o`
  font-size: 16px;
  padding: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: ${S(`--${I}-grayBlue-04`)};
  :hover {
    color: ${S(`--${I}-grayBlue-02`)};
  }
  :active {
    color: ${S(`--${I}-grayBlue-02`)};
  }
`,De=i.memo(n=>{const{title:e,size:a="default",children:l,customIcon:c,destroyChildrenWhenClose:u=!1,isOpened:p=!0,saveToggleState:s,onIllaFocus:d}=n,[g,r]=i.useState(p),h=i.useRef(null),C=i.useCallback(_=>{var b;const L=_.target;(b=h.current)!=null&&b.contains(L)&&(s==null||s(!g),r(!g))},[g,s]);return m(F,{children:[m("div",{css:hd(a),onClick:C,ref:h,children:[t("span",{css:fd(a),children:e}),c||t("div",{css:Cd,children:t(ut,{css:xd(g,a)})})]}),u?t(Ee,{initial:!1,children:g&&t(ge.div,{css:In,variants:Je,animate:g?"enter":"exit",transition:{duration:.2},initial:"exit",exit:"exit",onClick:d,children:l})}):t(Ee,{children:t(ge.div,{css:In,variants:Je,animate:g?"enter":"exit",transition:{duration:.2},exit:"exit",onClick:d,children:l})})]})});De.displayName="PanelBar";const bd=n=>i.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},i.createElement("path",{d:"M5 5.5L2.5 8L5 10.5",stroke:"#1D2129"}),i.createElement("path",{d:"M11 5.5L13.5 8L11 10.5",stroke:"#1D2129"}),i.createElement("path",{d:"M7 11L9.00001 4.99997",stroke:"#1D2129"})),wd=n=>{const{displayName:e,actionType:a}=n,{t:l}=R(),c=i.useContext(We),u=()=>{c.showDeleteDialog([e],a)},p=()=>{switch(a){case"action":{const d=et(qe.getState()).find(g=>g.displayName===e);d&&zt(d);break}case"widget":{fe.copyComponentNodeByDisplayName([e]),fe.paste("duplicate");break}}};return t(Oe,{dropList:m(Fe,{w:"200px",children:[t(ce,{value:"duplicate",title:l("editor.action.action_list.contextMenu.duplicate"),onClick:p}),t(ce,{value:"delete",title:l("editor.action.action_list.contextMenu.delete"),deleted:!0,onClick:u})]}),children:t(Se,{inactiveColor:x("grayBlue","02"),children:t(Fn,{})})})};o`
  font-weight: 600;
  cursor: pointer;
  color: ${S(`--${I}-grayBlue-02`)};
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  max-width: 160px;
  vertical-align: bottom;
  display: inline-block;
`;o`
  display: inline-block;
  vertical-align: bottom;
  color: ${S(`--${I}-grayBlue-04`)};
`;const vd=o`
  font-family: "Fira Code", monospace;
  height: 0;
`,Sd=o`
  display: inline-block;
  color: ${S(`--${I}-grayBlue-02`)};
`;function Id(n){let e=o``;switch(n){case"number":{e=o`
        color: #164;
      `;break}case"boolean":{e=o`
        color: #219;
      `;break}case"string":{e=o`
        color: #219;
      `;break}case"undefined":{e=o`
        color: #708;
      `;break}case"symbol":{e=o`
        color: #00c;
      `;break}case"bigint":{e=o`
        color: #170;
      `;break}}return o`
    ${e};
    word-break: break-all;
  `}o`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  width: 16px;
  height: 16px;
  font-size: 12px;
  margin-left: 4px;
  position: relative;
  color: ${x("grayBlue","04")};
`;o`
  display: flex;
  align-items: center;
  gap: 4px;
  width: calc(100% - 16px);
`;const Ld=o`
  font-size: 12px;
  font-weight: 500;
  color: ${x("grayBlue","02")};
  cursor: pointer;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`,_d=o`
  font-size: 12px;
  color: ${x("grayBlue","04")};
`,kd=n=>o`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-left: ${n*16}px;
  font-family: "Fira Code", monospace;
  :hover {
    .global-state-edit-icon-hot-spot {
      visibility: visible;
    }
    #copy-icon-hot-spot {
      visibility: visible;
    }
  }
  #copy-icon-hot-spot {
    visibility: hidden;
  }
`,Ad=(n,e)=>o`
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-left: ${e*16}px;
  background-color: ${n?x("techPurple","08"):""};
  font-size: 12px;
  font-family: "Fira Code", monospace;
  :hover {
    .global-state-edit-icon-hot-spot {
      visibility: visible;
    }
    #copy-icon-hot-spot {
      visibility: visible;
    }
  }
  :last-child {
    padding-bottom: 4px;
  }
  #copy-icon-hot-spot {
    visibility: hidden;
  }
`,Dd=o`
  display: flex;
  align-items: center;
  flex-wrap: wrap;
`,Td=n=>o`
  font-size: 8px;
  line-height: 0;
  cursor: pointer;
  transform-origin: center;
  transform: rotate(${n?90:0}deg);
  transition: transform 200ms;
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex: none;
`,Md=o`
  display: flex;
  align-items: center;
  justify-content: space-between;
`,Ea=i.memo(n=>{const{title:e,data:a,level:l,parentKey:c,isChild:u}=n,p=y(ai),s=c===e?c:`${c}/${e}`,d=p.includes(s),g=W(),r=Object.keys(a);return m(F,{children:[m("div",{css:kd(l),onClick:()=>{g(d?N.removeExpandedKey(s):N.setExpandedKey(p.concat(s)))},children:[m("div",{css:Md,children:[t("span",{css:Td(d),children:t(Ke,{})}),m("label",{css:Ld,children:[u?e:`{{${je(Ue(`${c}.${e}`))}}}`,"Â "]}),t("label",{css:_d,children:Array.isArray(a)?`[]${r.length} items`:`{}${r.length} keys`})]}),t(Se,{onClick:h=>{h.stopPropagation(),oo(`{{${je(Ue(`${c}.${e}`))}}}`)},id:"copy-icon-hot-spot",children:t(Zn,{})})]}),t(Ee,{children:d&&t(ge.div,{css:vd,variants:Je,animate:d?"enter":"exit",transition:{duration:.2},exit:"exit",children:r.map(h=>t(Qt,{name:h,value:a[h],itemKey:e+h,level:l+1,parentKey:je(Ue(`${c}.${e}`))},h))})})]})});Ea.displayName="WorkSpaceTreeItem";const Pd=n=>{switch(typeof n){case"string":return`"${n.length>1024?n.slice(0,qi)+"...":n}"`;default:return`${n}`}},Qt=i.memo(n=>{const{name:e,value:a,level:l=0,parentKey:c}=n,u=()=>{ms(`{{${je(Ue(`${c}.${e}`))}}}`)};return gt(a)||Tt(a)?t(Ea,{title:e,data:a,level:l,parentKey:c,isChild:l+1>1}):m("div",{css:Ad(!1,l+1),children:[m("div",{css:Dd,children:[m("label",{css:Sd,children:[l<1?`{{${c}.${e}}}`:e,"Â "]}),t("label",{css:Id(typeof a),children:Pd(a)})]}),t(Se,{onClick:u,id:"copy-icon-hot-spot",children:t(Zn,{})})]})});Qt.displayName="WorkSpaceTreeNode";const Nd=(n,e)=>o`
  width: 100%;
  background-color: ${n?x("techPurple","08"):x("white","01")};
  cursor: pointer;
  font-family: "Fira Code", monospace;
  :hover {
    background-color: ${x("techPurple","08")};
    #action-bar {
      visibility: visible;
    }
    #expand-icon {
      visibility: ${e?"visible":"hidden"};
    }
  }
  #action-bar {
    visibility: ${n?"visible":"hidden"};
  }
`,$d=(n=0)=>o`
  padding-left: ${n*16+(n-1>=0?n-1:0)*4}px;
  padding-right: 16px;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
`,Rd=o`
  display: flex;
  align-items: center;
`,Ed=o`
  width: 4px;
  height: 100%;
  flex: none;
`,Bd=o`
  display: flex;
  align-items: center;
  gap: 4px;
`,Vd=o`
  font-size: 12px;
  font-weight: 500;
  line-height: 24px;
  color: ${x("grayBlue","02")};
`,Hd=(n,e,a)=>o`
  font-size: 8px;
  line-height: 0;
  cursor: pointer;
  transform-origin: center;
  transform: rotate(${n?90:0}deg);
  transition: transform 200ms;
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex: none;
  visibility: ${e&&a?"visible":"hidden"};
`,Fd=o`
  display: flex;
  align-items: center;
  visibility: hidden;
`,Od=o`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 4px;
`,zd=o`
  font-family: "Fira Code", monospace;
  height: 0;
`,Wd=n=>{switch(n){case 0:return"header";case 1:return"body";case 2:return"footer";default:return"container"}},ie=n=>{var v,$;const{title:e,fakeTitle:a,type:l,level:c,canExpand:u,haveMoreAction:p,value:s,onClick:d,dataType:g,selectedDisplayNames:r}=n,[h,C]=i.useState(!1),_=y(oi),L=(u??!1)&&((_==null?void 0:_[e])??!1),b=(r==null?void 0:r.includes(e))??!1,w=W(),M=()=>{d==null||d(e,l??"")},T=f=>{f.stopPropagation(),w(L?N.removeExpandWidgetReducer([e]):N.addExpandedWidgetReducer([e]))};return m(F,{children:[t("div",{css:Nd(b,!!u),onClick:M,id:`${e}-baseDataItemContainer`,children:m("div",{css:$d(c),children:[m("div",{css:Rd,children:[t("span",{css:Hd(L,!!u,b),onClick:T,id:"expand-icon",children:t(Ke,{})}),!!l&&c>=1&&t("div",{css:Ed}),m("div",{css:Bd,children:[!!l&&ii(l,"16px"),t("span",{css:Vd,children:a??e})]})]}),m("div",{css:Fd,id:"action-bar",children:[(g==="widget"&&s.$widgetType.endsWith("_WIDGET")||g!=="widget")&&t(Se,{onClick:()=>C(!0),children:t(bd,{})}),p&&t(wd,{displayName:e,actionType:g})]})]})}),g==="widget"&&Array.isArray(s.$childrenNode)&&t(Ee,{children:L&&t(ge.div,{css:zd,variants:Je,animate:L?"enter":"exit",transition:{duration:.2},exit:"exit",children:s.$childrenNode.map((f,E)=>s.$widgetType==="CONTAINER_WIDGET"?s.viewList[E]?t(ie,{title:f.displayName,fakeTitle:s.viewList[E].label,value:f,level:c+1,dataType:"widget",type:f.$widgetType,canExpand:f.$childrenNode.length>0,haveMoreAction:f.$widgetType.endsWith("_WIDGET"),selectedDisplayNames:r,onClick:d},f.displayName):null:s.$widgetType==="MODAL_WIDGET"||s.$widgetType==="FORM_WIDGET"?t(ie,{title:f.displayName,fakeTitle:Wd(E),value:f,level:c+1,dataType:"widget",type:f.$widgetType,canExpand:f.$childrenNode.length>0,haveMoreAction:f.$widgetType.endsWith("_WIDGET"),selectedDisplayNames:r,onClick:d},f.displayName):s.$widgetType==="LIST_WIDGET"||s.$widgetType==="GRID_LIST_WIDGET"?t(ie,{title:f.displayName,fakeTitle:"list template",value:f,level:c+1,dataType:"widget",type:f.$widgetType,canExpand:f.$childrenNode.length>0,haveMoreAction:f.$widgetType.endsWith("_WIDGET"),selectedDisplayNames:r,onClick:d},f.displayName):t(ie,{title:f.displayName,value:f,level:c+1,dataType:"widget",type:f.$widgetType,canExpand:f.$childrenNode.length>0,haveMoreAction:f.$widgetType.endsWith("_WIDGET"),selectedDisplayNames:r,onClick:d},f.displayName))})}),h&&t(Qi,{title:e,bodyContent:t("div",{css:Od,children:Object.keys(s).filter(f=>!f.startsWith("$")).map(f=>t(Qt,{name:f,value:s[f],itemKey:f,level:0,parentKey:e},f))}),onClose:()=>{C(!1)},docLink:Kn(g,l),defaultPosition:{x:((v=document.querySelector(`#${e}-baseDataItemContainer`))==null?void 0:v.getBoundingClientRect().right)??0,y:(($=document.querySelector(`#${e}-baseDataItemContainer`))==null?void 0:$.getBoundingClientRect().top)??0,width:320,height:214}})]})},Ba=()=>{const{t:n}=R(),e=W(),a=y(si),l=y(et),c=y(se),u=i.useCallback(p=>{const s=l.find(d=>d.displayName===p);s&&e(N.changeSelectedAction(s))},[l,e]);return t(De,{title:`${n("editor.data_work_space.actions_title")}(${Object.keys(a).length})`,onIllaFocus:()=>{ne.switchFocus("data_action")},destroyChildrenWhenClose:!0,children:Object.keys(a).map(p=>t(ie,{title:p,level:0,value:a[p],haveMoreAction:!0,selectedDisplayNames:[(c==null?void 0:c.displayName)??""],onClick:u,dataType:"action",type:a[p].actionType},p))})};Ba.displayName="ActionSpaceTree";const Zd=o`
  font-family: "Fira Code", monospace;
`,Te=n=>{const{title:e,children:a}=n;return t(De,{title:e,size:"small",destroyChildrenWhenClose:!0,children:t("div",{css:Zd,children:a})})},Va=()=>{const{t:n}=R(),e=W(),a=y(ri),l=y(li),c=y(ci),u=y(di),p=y(pi),s=y(ui),d=y(Bt),g=i.useCallback((r,h)=>{const C={displayName:r,type:"component",clickPosition:[]};h==="CANVAS"&&(r=gi(r),C.type="inner_container",C.clickPosition=[0,0]),ne.switchFocus("data_component",C),h==="MODAL_WIDGET"&&e(mt.updateModalDisplayReducer({displayName:r,display:!0})),r&&(e(N.updateSelectedComponent([r])),hi(r),setTimeout(()=>{const _=document.querySelector(`[data-displayname="${r}"]`);_==null||_.scrollIntoView({behavior:"smooth",block:"center"})},160))},[e]);return m(De,{title:n("editor.data_work_space.components_title"),destroyChildrenWhenClose:!0,children:[s.length>0&&t(F,{children:t(Te,{title:n("editor.data_work_space.component_layer.floating"),children:s.map(r=>t(ie,{title:r.displayName,value:r,level:0,dataType:"widget",type:r.$widgetType,canExpand:!0,haveMoreAction:!0,onClick:g,selectedDisplayNames:d},r.displayName))})}),t(Te,{title:n("editor.page.label_name.body"),children:p.map(r=>t(ie,{title:r.displayName,value:r,level:0,dataType:"widget",type:r.$widgetType,canExpand:r.$childrenNode.length>0,haveMoreAction:!0,onClick:g,selectedDisplayNames:d},r.displayName))}),u.length>0&&t(F,{children:t(Te,{title:n("editor.page.label_name.header"),children:u.map(r=>t(ie,{title:r.displayName,value:r,level:0,dataType:"widget",type:r.$widgetType,canExpand:r.$childrenNode.length>0,onClick:g,selectedDisplayNames:d},r.displayName))})}),l.length>0&&t(F,{children:t(Te,{title:n("editor.page.label_name.left_panel"),children:l.map(r=>t(ie,{title:r.displayName,value:r,level:0,dataType:"widget",type:r.$widgetType,canExpand:r.$childrenNode.length>0,haveMoreAction:!0,onClick:g,selectedDisplayNames:d},r.displayName))})}),c.length>0&&t(F,{children:t(Te,{title:n("editor.page.label_name.right_panel"),children:c.map(r=>t(ie,{title:r.displayName,value:r,level:0,dataType:"widget",type:r.$widgetType,canExpand:r.$childrenNode.length>0,haveMoreAction:!0,onClick:g,selectedDisplayNames:d},r.displayName))})}),a.length>0&&t(F,{children:t(Te,{title:n("editor.page.label_name.footer"),children:a.map(r=>t(ie,{title:r.displayName,value:r,level:0,dataType:"widget",type:r.$widgetType,canExpand:r.$childrenNode.length>0,haveMoreAction:!0,onClick:g,selectedDisplayNames:d},r.displayName))})})]})};Va.displayName="ComponentSpaceTree";const Ha=()=>{const{t:n}=R(),e=y(mi);return t(De,{title:`${n("editor.data_work_space.globals_title")}(${Object.keys(e).length})`,onIllaFocus:()=>{ne.switchFocus("data_global_state")},destroyChildrenWhenClose:!0,children:Object.keys(e).map(a=>t(ie,{title:a,level:0,value:e[a],dataType:"globalData"},a))})};Ha.displayName="GlobalsSpaceTree";const Gd=[{title:"lodash@4.17.21",alias:"_",docLink:"https://lodash.com/docs/4.17.15"},{title:"uuid@8.3.2",alias:"uuid",docLink:"https://www.npmjs.com/package/uuid"},{title:"dayjs@1.11.7",alias:"dayjs",docLink:"https://day.js.org/docs/en/parse/parse"},{title:"numbro@2.4.0",alias:"numbro",docLink:"https://numbrojs.com/"},{title:"papaparse@5.4.1",alias:"papa",docLink:"https://www.papaparse.com/docs"}],jd=o`
  display: flex;
  flex-direction: column;
  padding: 0 16px;
`,Ud=o`
  display: flex;
  width: 100%;
  justify-content: space-between;
  align-items: center;
`,qd=o`
  color: ${x("grayBlue","02")};
  font-size: 12px;
  font-weight: 500;
  line-height: 24px;
`,Qd=o`
  display: flex;
  align-items: center;
`,Yd=o`
  color: ${x("grayBlue","04")};
  font-size: 12px;
  font-weight: 450;
  line-height: 16px;
  padding: 0;
  margin: 0;
`,Jd=o`
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-family: "Fira Code", monospace;
`,Xd=n=>{const{title:e,alias:a,docLink:l}=n;return m("div",{css:jd,children:[m("div",{css:Ud,children:[t("span",{css:qd,children:e}),t("div",{css:Qd,children:t(Vt,{to:l,target:"_blank",children:t(Se,{children:t(Hn,{})})})})]}),t("p",{css:Yd,children:a??e})]})},Kd=()=>{const{t:n}=R();return t(F,{children:t(De,{title:`${n("editor.data_work_space.library")}`,destroyChildrenWhenClose:!0,children:t("div",{css:Jd,children:Gd.map(e=>t(Xd,{title:e.title,docLink:e.docLink,alias:e.alias},e.title))})})})},ep=n=>i.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.17002 2.54684C7.06715 2.47827 6.93314 2.47827 6.83027 2.54684L2.45527 5.46351C2.37007 5.52031 2.3189 5.61593 2.3189 5.71833V11.375C2.3189 11.5442 2.45601 11.6813 2.62515 11.6813H11.3751C11.5443 11.6813 11.6814 11.5442 11.6814 11.375V5.71833C11.6814 5.61593 11.6302 5.52031 11.545 5.46351L7.17002 2.54684ZM6.1993 1.60039C6.68425 1.27708 7.31604 1.27708 7.80099 1.60039L12.176 4.51705C12.5776 4.78482 12.8189 5.23561 12.8189 5.71833V11.375C12.8189 12.1724 12.1725 12.8188 11.3751 12.8188H2.62515C1.82778 12.8188 1.1814 12.1724 1.1814 11.375V5.71833C1.1814 5.23561 1.42265 4.78482 1.8243 4.51705L6.1993 1.60039ZM4.37515 9.93129C4.37515 9.61718 4.62978 9.36254 4.9439 9.36254H9.0564C9.37051 9.36254 9.62515 9.61718 9.62515 9.93129C9.62515 10.2454 9.37051 10.5 9.0564 10.5H4.9439C4.62978 10.5 4.37515 10.2454 4.37515 9.93129Z",fill:"black"})),tp=n=>i.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},i.createElement("mask",{id:"path-1-inside-1_12757_47884",fill:"white"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.54404 5.5C2.46929 5.66287 2.40161 5.82967 2.34141 6C2.12031 6.62556 2 7.29873 2 8C2 8.70127 2.12031 9.37444 2.34141 10C2.40161 10.1703 2.46929 10.3371 2.54404 10.5C3.49205 12.5655 5.57851 14 8 14C10.4215 14 12.5079 12.5655 13.456 10.5C13.5307 10.3371 13.5984 10.1703 13.6586 10C13.8797 9.37444 14 8.70127 14 8C14 7.29873 13.8797 6.62556 13.6586 6C13.5984 5.82967 13.5307 5.66287 13.456 5.5C12.5079 3.43447 10.4215 2 8 2C5.57851 2 3.49205 3.43447 2.54404 5.5ZM7.32292 12.9545C5.76057 12.743 4.42623 11.8097 3.66861 10.5H5.97365C6.15025 10.9766 6.3577 11.407 6.56237 11.7774C6.82511 12.2528 7.08782 12.6376 7.28578 12.9048C7.29843 12.9218 7.31081 12.9384 7.32292 12.9545ZM8.67708 12.9545C10.2394 12.743 11.5738 11.8097 12.3314 10.5H10.0264C9.84975 10.9766 9.6423 11.407 9.43763 11.7774C9.17489 12.2528 8.91218 12.6376 8.71422 12.9048C8.70157 12.9218 8.68919 12.9384 8.67708 12.9545ZM10.326 9.5H12.7714C12.9197 9.02758 13 8.52403 13 8C13 7.47597 12.9197 6.97242 12.7714 6.5H10.326C10.4341 6.97376 10.5 7.47701 10.5 8C10.5 8.52299 10.4341 9.02624 10.326 9.5ZM9.29621 6.5C9.42173 6.97365 9.5 7.47834 9.5 8C9.5 8.52166 9.42173 9.02635 9.29621 9.5H6.70379C6.57827 9.02635 6.5 8.52166 6.5 8C6.5 7.47834 6.57827 6.97365 6.70379 6.5H9.29621ZM10.0264 5.5H12.3314C11.5738 4.19032 10.2394 3.25701 8.67708 3.04547C8.68919 3.06158 8.70157 3.07817 8.71422 3.09523C8.91218 3.36235 9.17489 3.74718 9.43763 4.22264C9.6423 4.59301 9.84975 5.02339 10.0264 5.5ZM7.32292 3.04547C5.76057 3.25701 4.42623 4.19032 3.66861 5.5H5.97365C6.15025 5.02339 6.3577 4.59301 6.56237 4.22264C6.82511 3.74718 7.08782 3.36235 7.28578 3.09523C7.29843 3.07817 7.31081 3.06158 7.32292 3.04547ZM7.04968 5.5C7.17108 5.2148 7.30364 4.94876 7.43763 4.7063C7.63699 4.34552 7.83636 4.04261 8 3.81332C8.16364 4.04261 8.36301 4.34552 8.56237 4.7063C8.69636 4.94876 8.82892 5.2148 8.95032 5.5H7.04968ZM5.67398 6.5H3.22862C3.08028 6.97242 3 7.47597 3 8C3 8.52403 3.08028 9.02758 3.22862 9.5H5.67398C5.56593 9.02624 5.5 8.52299 5.5 8C5.5 7.47701 5.56593 6.97376 5.67398 6.5ZM7.04968 10.5H8.95032C8.82892 10.7852 8.69636 11.0512 8.56237 11.2937C8.36301 11.6545 8.16364 11.9574 8 12.1867C7.83636 11.9574 7.63699 11.6545 7.43763 11.2937C7.30364 11.0512 7.17108 10.7852 7.04968 10.5Z"})),i.createElement("path",{d:"M2.34141 6L1.39857 5.66675L2.34141 6ZM2.54404 5.5L1.6352 5.08287L1.6352 5.08287L2.54404 5.5ZM2.34141 10L3.28425 9.66675L3.28425 9.66675L2.34141 10ZM2.54404 10.5L1.6352 10.9171H1.6352L2.54404 10.5ZM13.456 10.5L12.5471 10.0829L13.456 10.5ZM13.6586 10L14.6014 10.3332V10.3332L13.6586 10ZM13.6586 6L14.6014 5.66675V5.66675L13.6586 6ZM13.456 5.5L12.5471 5.91713V5.91713L13.456 5.5ZM3.66861 10.5V9.5H1.93487L2.80301 11.0007L3.66861 10.5ZM7.32292 12.9545L7.18875 13.9455L9.56031 14.2666L8.12225 12.3536L7.32292 12.9545ZM5.97365 10.5L6.91134 10.1525L6.66955 9.5H5.97365V10.5ZM6.56237 11.7774L5.68712 12.261H5.68712L6.56237 11.7774ZM7.28578 12.9048L6.48235 13.5002L6.48236 13.5002L7.28578 12.9048ZM8.67708 12.9545L7.87775 12.3536L6.43969 14.2666L8.81125 13.9455L8.67708 12.9545ZM12.3314 10.5L13.197 11.0007L14.0651 9.5H12.3314V10.5ZM10.0264 10.5V9.5H9.33045L9.08866 10.1525L10.0264 10.5ZM9.43763 11.7774L10.3129 12.261H10.3129L9.43763 11.7774ZM8.71422 12.9048L9.51764 13.5002L9.51765 13.5002L8.71422 12.9048ZM12.7714 9.5V10.5H13.5055L13.7255 9.79958L12.7714 9.5ZM10.326 9.5L9.35106 9.27764L9.07227 10.5H10.326V9.5ZM12.7714 6.5L13.7255 6.20042L13.5055 5.5H12.7714V6.5ZM10.326 6.5V5.5H9.07227L9.35106 6.72236L10.326 6.5ZM9.29621 6.5L10.2628 6.24384L10.0657 5.5H9.29621V6.5ZM9.29621 9.5V10.5H10.0657L10.2628 9.75616L9.29621 9.5ZM6.70379 9.5L5.73715 9.75616L5.93427 10.5H6.70379V9.5ZM6.70379 6.5V5.5H5.93427L5.73715 6.24384L6.70379 6.5ZM10.0264 5.5L9.08866 5.84746L9.33045 6.5H10.0264V5.5ZM12.3314 5.5V6.5H14.0651L13.197 4.99927L12.3314 5.5ZM8.67708 3.04547L8.81125 2.05451L6.43972 1.7334L7.87774 3.64635L8.67708 3.04547ZM8.71422 3.09523L7.91078 3.69062L7.91078 3.69062L8.71422 3.09523ZM9.43763 4.22264L10.3129 3.73897L10.3129 3.73897L9.43763 4.22264ZM7.32292 3.04547L8.12226 3.64635L9.56028 1.7334L7.18875 2.05451L7.32292 3.04547ZM3.66861 5.5L2.80301 4.99927L1.93487 6.5H3.66861V5.5ZM5.97365 5.5V6.5H6.66955L6.91134 5.84746L5.97365 5.5ZM6.56237 4.22264L5.68712 3.73897L5.68712 3.73897L6.56237 4.22264ZM7.28578 3.09523L8.08922 3.69062L8.08922 3.69062L7.28578 3.09523ZM7.43763 4.7063L8.31288 5.18996L8.31288 5.18996L7.43763 4.7063ZM7.04968 5.5L6.12957 5.10833L5.53716 6.5H7.04968V5.5ZM8 3.81332L8.81398 3.23242L8 2.09185L7.18602 3.23242L8 3.81332ZM8.56237 4.7063L7.68712 5.18996L7.68712 5.18996L8.56237 4.7063ZM8.95032 5.5V6.5H10.4628L9.87043 5.10833L8.95032 5.5ZM3.22862 6.5V5.5H2.49448L2.27455 6.20042L3.22862 6.5ZM5.67398 6.5L6.64894 6.72236L6.92773 5.5H5.67398V6.5ZM3.22862 9.5L2.27455 9.79958L2.49448 10.5H3.22862V9.5ZM5.67398 9.5V10.5H6.92773L6.64894 9.27764L5.67398 9.5ZM8.95032 10.5L9.87043 10.8917L10.4628 9.5H8.95032V10.5ZM7.04968 10.5V9.5H5.53716L6.12957 10.8917L7.04968 10.5ZM8.56237 11.2937L9.43763 11.7774L8.56237 11.2937ZM8 12.1867L7.18602 12.7676L8 13.9082L8.81398 12.7676L8 12.1867ZM7.43763 11.2937L6.56237 11.7774L7.43763 11.2937ZM3.28425 6.33325C3.33434 6.19153 3.39066 6.05272 3.45289 5.91713L1.6352 5.08287C1.54792 5.27303 1.46889 5.46781 1.39857 5.66675L3.28425 6.33325ZM3 8C3 7.41382 3.10045 6.85326 3.28425 6.33325L1.39857 5.66675C1.14016 6.39785 1 7.18364 1 8H3ZM3.28425 9.66675C3.10045 9.14674 3 8.58618 3 8H1C1 8.81636 1.14016 9.60215 1.39857 10.3332L3.28425 9.66675ZM3.45289 10.0829C3.39066 9.94728 3.33434 9.80847 3.28425 9.66675L1.39857 10.3332C1.46889 10.5322 1.54792 10.727 1.6352 10.9171L3.45289 10.0829ZM8 13C5.98362 13 4.24392 11.8064 3.45289 10.0829L1.6352 10.9171C2.74018 13.3247 5.17339 15 8 15V13ZM12.5471 10.0829C11.7561 11.8064 10.0164 13 8 13V15C10.8266 15 13.2598 13.3247 14.3648 10.9171L12.5471 10.0829ZM12.7157 9.66675C12.6657 9.80847 12.6093 9.94728 12.5471 10.0829L14.3648 10.9171C14.4521 10.727 14.5311 10.5322 14.6014 10.3332L12.7157 9.66675ZM13 8C13 8.58618 12.8995 9.14674 12.7157 9.66675L14.6014 10.3332C14.8598 9.60215 15 8.81636 15 8H13ZM12.7157 6.33325C12.8995 6.85326 13 7.41382 13 8H15C15 7.18364 14.8598 6.39785 14.6014 5.66675L12.7157 6.33325ZM12.5471 5.91713C12.6093 6.05272 12.6657 6.19153 12.7157 6.33325L14.6014 5.66675C14.5311 5.46782 14.4521 5.27303 14.3648 5.08287L12.5471 5.91713ZM8 3C10.0164 3 11.7561 4.19362 12.5471 5.91713L14.3648 5.08287C13.2598 2.67532 10.8266 1 8 1V3ZM3.45289 5.91713C4.24392 4.19362 5.98362 3 8 3V1C5.17339 1 2.74018 2.67532 1.6352 5.08287L3.45289 5.91713ZM2.80301 11.0007C3.71094 12.5702 5.31097 13.6912 7.18875 13.9455L7.4571 11.9636C6.21017 11.7947 5.14152 11.0491 4.53421 9.99927L2.80301 11.0007ZM5.97365 9.5H3.66861V11.5H5.97365V9.5ZM7.43763 11.2937C7.25283 10.9593 7.06772 10.5746 6.91134 10.1525L5.03595 10.8475C5.23279 11.3787 5.46258 11.8547 5.68712 12.261L7.43763 11.2937ZM8.08922 12.3094C7.91218 12.0705 7.67489 11.7231 7.43763 11.2937L5.68712 12.261C5.97532 12.7826 6.26347 13.2048 6.48235 13.5002L8.08922 12.3094ZM8.12225 12.3536C8.11149 12.3393 8.10046 12.3246 8.08921 12.3094L6.48236 13.5002C6.49639 13.5191 6.51014 13.5375 6.52359 13.5554L8.12225 12.3536ZM8.81125 13.9455C10.689 13.6912 12.2891 12.5702 13.197 11.0007L11.4658 9.99927C10.8585 11.0491 9.78983 11.7947 8.5429 11.9636L8.81125 13.9455ZM12.3314 9.5H10.0264V11.5H12.3314V9.5ZM9.08866 10.1525C8.93228 10.5746 8.74717 10.9593 8.56237 11.2937L10.3129 12.261C10.5374 11.8547 10.7672 11.3787 10.964 10.8475L9.08866 10.1525ZM8.56237 11.2937C8.32511 11.7231 8.08782 12.0705 7.91078 12.3094L9.51765 13.5002C9.73653 13.2048 10.0247 12.7826 10.3129 12.261L8.56237 11.2937ZM7.91079 12.3094C7.89954 12.3246 7.88851 12.3393 7.87775 12.3536L9.47641 13.5554C9.48986 13.5375 9.50361 13.5191 9.51764 13.5002L7.91079 12.3094ZM12.7714 8.5H10.326V10.5H12.7714V8.5ZM12 8C12 8.42128 11.9355 8.82386 11.8173 9.20042L13.7255 9.79958C13.9039 9.23131 14 8.62678 14 8H12ZM11.8173 6.79958C11.9355 7.17614 12 7.57872 12 8H14C14 7.37322 13.9039 6.76869 13.7255 6.20042L11.8173 6.79958ZM10.326 7.5H12.7714V5.5H10.326V7.5ZM9.35106 6.72236C9.44465 7.13272 9.5 7.56103 9.5 8H11.5C11.5 7.393 11.4235 6.81481 11.301 6.27764L9.35106 6.72236ZM9.5 8C9.5 8.43897 9.44465 8.86728 9.35106 9.27764L11.301 9.72236C11.4235 9.18519 11.5 8.607 11.5 8H9.5ZM10.5 8C10.5 7.37862 10.4068 6.78722 10.2628 6.24384L8.32958 6.75616C8.43662 7.16008 8.5 7.57806 8.5 8H10.5ZM10.2628 9.75616C10.4068 9.21278 10.5 8.62138 10.5 8H8.5C8.5 8.42194 8.43662 8.83992 8.32958 9.24384L10.2628 9.75616ZM9.29621 8.5H6.70379V10.5H9.29621V8.5ZM5.5 8C5.5 8.62138 5.59316 9.21278 5.73715 9.75616L7.67042 9.24384C7.56338 8.83992 7.5 8.42194 7.5 8H5.5ZM5.73715 6.24384C5.59316 6.78722 5.5 7.37862 5.5 8H7.5C7.5 7.57806 7.56338 7.16008 7.67042 6.75616L5.73715 6.24384ZM6.70379 7.5H9.29621V5.5H6.70379V7.5ZM10.0264 6.5H12.3314V4.5H10.0264V6.5ZM13.197 4.99927C12.2891 3.42975 10.689 2.30876 8.81125 2.05451L8.5429 4.03642C9.78983 4.20526 10.8585 4.95089 11.4658 6.00073L13.197 4.99927ZM7.87774 3.64635C7.8885 3.66067 7.89952 3.67542 7.91078 3.69062L9.51765 2.49983C9.50363 2.48091 9.48987 2.46249 9.47641 2.44458L7.87774 3.64635ZM7.91078 3.69062C8.08782 3.92952 8.32511 4.27693 8.56237 4.7063L10.3129 3.73897C10.0247 3.21744 9.73653 2.79519 9.51765 2.49983L7.91078 3.69062ZM8.56237 4.7063C8.74717 5.04072 8.93228 5.42544 9.08866 5.84746L10.964 5.15254C10.7672 4.62134 10.5374 4.1453 10.3129 3.73897L8.56237 4.7063ZM7.18875 2.05451C5.31097 2.30876 3.71094 3.42975 2.80301 4.99927L4.53421 6.00073C5.14152 4.95089 6.21017 4.20526 7.4571 4.03642L7.18875 2.05451ZM3.66861 6.5H5.97365V4.5H3.66861V6.5ZM6.91134 5.84746C7.06772 5.42544 7.25283 5.04072 7.43763 4.7063L5.68712 3.73897C5.46258 4.1453 5.23279 4.62134 5.03595 5.15254L6.91134 5.84746ZM7.43763 4.7063C7.67489 4.27693 7.91218 3.92952 8.08922 3.69062L6.48235 2.49983C6.26347 2.79519 5.97532 3.21744 5.68712 3.73897L7.43763 4.7063ZM8.08922 3.69062C8.10048 3.67542 8.1115 3.66067 8.12226 3.64635L6.52359 2.44458C6.51013 2.46249 6.49637 2.48091 6.48235 2.49983L8.08922 3.69062ZM6.56237 4.22263C6.41381 4.49147 6.26583 4.78824 6.12957 5.10833L7.96978 5.89167C8.07633 5.64137 8.19347 5.40606 8.31288 5.18996L6.56237 4.22263ZM7.18602 3.23242C7.00402 3.48746 6.78327 3.82289 6.56237 4.22264L8.31288 5.18996C8.49071 4.86815 8.66871 4.59777 8.81398 4.39422L7.18602 3.23242ZM9.43763 4.22264C9.21673 3.82289 8.99598 3.48746 8.81398 3.23242L7.18602 4.39422C7.33129 4.59777 7.50929 4.86815 7.68712 5.18996L9.43763 4.22264ZM9.87043 5.10833C9.73417 4.78824 9.58619 4.49147 9.43763 4.22263L7.68712 5.18996C7.80653 5.40606 7.92367 5.64137 8.03022 5.89167L9.87043 5.10833ZM7.04968 6.5H8.95032V4.5H7.04968V6.5ZM3.22862 7.5H5.67398V5.5H3.22862V7.5ZM4 8C4 7.57872 4.06445 7.17614 4.18269 6.79958L2.27455 6.20042C2.09611 6.76869 2 7.37322 2 8H4ZM4.18269 9.20042C4.06445 8.82386 4 8.42128 4 8H2C2 8.62678 2.09611 9.23131 2.27455 9.79958L4.18269 9.20042ZM5.67398 8.5H3.22862V10.5H5.67398V8.5ZM6.64894 9.27764C6.55535 8.86728 6.5 8.43897 6.5 8H4.5C4.5 8.607 4.5765 9.18519 4.69901 9.72236L6.64894 9.27764ZM6.5 8C6.5 7.56103 6.55535 7.13272 6.64894 6.72236L4.69901 6.27764C4.5765 6.81481 4.5 7.393 4.5 8H6.5ZM8.95032 9.5H7.04968V11.5H8.95032V9.5ZM9.43763 11.7774C9.58619 11.5085 9.73417 11.2118 9.87043 10.8917L8.03022 10.1083C7.92367 10.3586 7.80653 10.5939 7.68712 10.81L9.43763 11.7774ZM8.81398 12.7676C8.99598 12.5125 9.21673 12.1771 9.43763 11.7774L7.68712 10.81C7.50929 11.1318 7.33129 11.4022 7.18602 11.6058L8.81398 12.7676ZM6.56237 11.7774C6.78327 12.1771 7.00401 12.5125 7.18602 12.7676L8.81398 11.6058C8.66871 11.4022 8.49071 11.1318 8.31288 10.81L6.56237 11.7774ZM6.12957 10.8917C6.26583 11.2118 6.41381 11.5085 6.56237 11.7774L8.31288 10.81C8.19347 10.5939 8.07633 10.3586 7.96978 10.1083L6.12957 10.8917Z",fill:"#1D2129",mask:"url(#path-1-inside-1_12757_47884)"})),Fa=n=>{const{pageDisplayName:e,isParentPage:a,parentPageName:l,openRenameModal:c}=n,{t:u}=R(),p=y(fi),s=W(),d=i.useContext(We);i.useEffect(()=>{P(A.SHOW,{element:"manage_page"})},[]);const g=i.useCallback(()=>{e&&(P(A.CLICK,{element:"set_home_page"}),a&&s(X.updateRootNodePropsReducer({homepageDisplayName:e})),!a&&l&&s(X.updateDefaultSubPagePathReducer({pageName:l,subPagePath:e})))},[s,a,e,l]),r=i.useCallback(()=>{a&&p.length>1&&(P(A.CLICK,{element:"delete_page"}),d.showDeleteDialog([e],"page",{originPageSortedKey:p})),!a&&l&&d.showDeleteDialog([e],"subpage",{parentPageName:l})},[a,e,p,l,d]),h=i.useCallback(()=>{c()},[c]);return m(Fe,{minW:"184px",children:[t(ce,{value:"setHomePage",title:u(a?"editor.page.label_name.set_as_homepage":"editor.page.label_name.set_as_default_subpage"),onClick:g}),t(ce,{value:"RenameURL",title:u(a?"widget.page.label.rename_page_url":"widget.page.label.rename_url"),onClick:h}),t(ce,{value:"delete",title:u("editor.inspect.header.action_menu.delete"),deleted:!0,onClick:r})]})};Fa.displayName="ActionMenu";const np=n=>{switch(n){case"big":return o`
        font-size: 14px;
        color: ${S(`--${I}-grayBlue-02`)};
      `;case"small":return o`
        font-size: 12px;
        color: ${S(`--${I}-grayBlue-03`)};
      `}};function ap(n,e){const a=e?null:o`
        border-bottom: 1px dashed ${S(`--${I}-grayBlue-03`)};
      `;return o`
    font-weight: 500;
    height: 22px;
    line-height: 22px;
    ${a};
    ${np(n)};
  `}const Oa=n=>{const{tooltip:e,labelName:a,size:l}=n;return t(Gn,{trigger:"hover",position:"left",content:e,disabled:!e,children:t("span",{css:ap(l,!e),children:a})})};Oa.displayName="PageLabel";const op=o`
  min-height: 40px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 16px;
  width: 100%;
`,ip=n=>{const{children:e}=n;return t("div",{css:op,children:e})},sp=o`
  padding: 8px 0px;
`,rp=n=>{const{children:e}=n;return t("div",{css:sp,children:e})},lp=o`
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: ${S(`--${I}-white-01`)};
  box-shadow: 0px 2px 16px rgba(0, 0, 0, 0.16);
  border-radius: 8px;
  overflow: hidden;
  position: relative;
  padding-bottom: 8px;
`,cp=o`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  width: 240px;
`,dp=o`
  width: 24px;
  height: 24px;
  font-size: 14px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: ${S(`--${I}-grayBlue-02`)};
  cursor: pointer;
`,pp=o`
  font-weight: 500;
  font-size: 16px;
  color: ${S(`--${I}-grayBlue-04`)};
  max-width: 200px;
  overflow: hidden;
  text-overflow: ellipsis;
`,up=n=>{const{onCloseModal:e,path:a,handleUpdateItem:l,isParentPage:c}=n,{t:u}=R();return m("div",{css:lp,children:[m("div",{css:cp,children:[t("span",{css:pp,children:u(c?"widget.page.label.rename_page_url":"editor.page.label_name.edit_view")}),t("div",{css:dp,onClick:e,children:t(Le,{})})]}),m(ip,{children:[t(Oa,{labelName:u("editor.page.label_name.view_path"),size:"big",tooltip:u("editor.page.tooltips.view_path")}),t(rp,{children:t(He,{w:"160px",value:a,colorScheme:"techPurple",onChange:l})})]})]})},gp=(n,e)=>o`
  padding-left: ${e>1?e*16+8:16}px;
  padding-right: 16px;
  background-color: ${n?x("techPurple","08"):"transparent"};
  cursor: pointer;
  :hover {
    .icon-area {
      transform: translateX(0);
    }
  }
`,hp=o`
  font-size: 12px;
  color: ${x("grayBlue","02")};
  font-weight: 500;
`,mp=o`
  font-size: 12px;
  color: ${x("grayBlue","04")};
  font-weight: 500;
`,fp=o`
  display: flex;
  align-items: center;
  gap: 8px;
  flex: none;
`,za=o`
  font-size: 12px;
  width: 12px;
  height: 12px;
  flex: none;
`,yp=o`
  flex: none;
  display: flex;
  align-items: center;
  transition: all 0.2s ease-in-out;
  transform: translateX(48px);
`,ct=o`
  flex: none;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 6px;
`,Ln=o`
  ${za};
  color: ${x("grayBlue","04")};
`,xp=o`
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 24px;
  overflow: hidden;
`,Yt=n=>{const{isHomePage:e,pageName:a,level:l=1,parentPageName:c,subPagePaths:u,currentPagePath:p,currentSubPagePath:s}=n,d=!s&&p===a,g=p===c&&a===s,r=W(),[h,C]=i.useState(!1),[_,L]=i.useState(!1),[b,w]=i.useState(a),M=ae(),{t:T}=R(),v=i.useCallback(()=>{r(c?mt.updateCurrentPagePathReducer({pageDisplayName:c,subPagePath:a}):mt.updateCurrentPagePathReducer({pageDisplayName:a}))},[r,a,c]),$=i.useCallback(()=>{if(c)r(X.updateSubPagePathReducer({pageName:c,subPagePath:b,oldSubPagePath:a}));else{if(!Nt(b)){M.error({content:T("editor.display_name.validate_error",{displayName:b})}),w(a);return}r(X.updateComponentDisplayNameReducer({displayName:a,newDisplayName:b}))}},[b,r,M,a,c,T]),f=i.useCallback(()=>{C(!0)},[]),E=i.useCallback(()=>{c||r(X.addSubPageReducer({pageName:a}))},[r,a,c]);return m(F,{children:[t(Gn,{withoutPadding:!0,colorScheme:"white",popupVisible:h,content:t(up,{path:b,onCloseModal:()=>{C(!1)},handleUpdateItem:w,isParentPage:l===1}),trigger:"focus",showArrow:!1,position:"right",clickOutsideToClose:!0,onVisibleChange:D=>{D&&P(A.SHOW,{element:"edit_view_show"}),D||(C(!1),$())},children:t("span",{children:t(Oe,{position:"bottom-end",trigger:"contextmenu",popupVisible:_,dropList:t(Fa,{pageDisplayName:a,isParentPage:l===1,parentPageName:c,openRenameModal:f}),onVisibleChange:L,children:t("div",{css:gp(d||g,l),onClick:v,children:m("div",{css:xp,children:[m("div",{css:fp,children:[!c&&t(tp,{}),c&&m("span",{css:mp,children:["/",c]}),m("span",{css:hp,children:["/",a]})]}),m("div",{css:yp,className:"icon-area",children:[e&&t("div",{css:ct,children:t(ep,{css:za})}),t("div",{css:ct,onClick:()=>{L(!0)},children:t(io,{css:Ln})}),l===1&&t("div",{css:ct,onClick:E,children:t(jn,{css:Ln})})]})]})})})})}),u&&Array.from(u).map(D=>t(Yt,{level:l+1,parentPageName:a,isHomePage:!1,pageName:D,currentPagePath:p,currentSubPagePath:s},D))]})};Yt.displayName="DataWorkspace-PageItem";const Cp=i.memo(Yt),bp=o`
  padding-bottom: 8px;
`,wp=()=>{const{t:n}=R(),e=y(yi),{currentPageIndex:a,homepageDisplayName:l,pageSortedKey:c=[],currentSubPagePath:u}=e,p=c[a],s=W(),d=i.useCallback(r=>{r.stopPropagation(),P(A.CLICK,{element:"add_page"});const h=xi();s(X.addPageNodeWithSortOrderReducer(h))},[s]),g=y(Ci);return t(De,{title:n("editor.data_work_space.pages_title"),destroyChildrenWhenClose:!0,customIcon:t(Se,{onClick:d,children:t(jn,{})}),onIllaFocus:()=>{ne.switchFocus("data_page")},children:t("div",{css:bp,children:Object.keys(g).map((r,h)=>t(Cp,{isHomePage:l?l===r:h===0,pageName:r,level:1,subPagePaths:g[r],currentPagePath:p,currentSubPagePath:u},r))})})},vp=()=>t("div",{css:ca,children:m("div",{css:jc,children:[t(wp,{}),t(Va,{}),t(Ba,{}),t(Ha,{}),t(Kd,{})]})});vp.displayName="DataWorkspace";const Sp=o`
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 24px 16px 20px;
  border-bottom: 1px solid ${x("grayBlue","08")};
`,Ip=o`
  margin: 0;
  padding: 0;
  color: ${x("grayBlue","02")};
  font-weight: 500;
  line-height: 22px;
  font-size: 14px;
`,Lp=({handleCloseModal:n})=>{const{t:e}=R();return m("div",{css:Sp,children:[t("h3",{css:Ip,children:e("editor.action.panel.titlemissing_resource.missing_resources")}),t(Se,{onClick:n,children:t(Le,{})})]})},ot=i.createContext({}),_p=n=>{const{children:e,...a}=n;return t(ot.Provider,{value:a,children:e})},kp=o`
  padding: 24px;
  display: flex;
  justify-content: space-between;
  gap: 8px;
`,Ap=({handleCancelModal:n,handleConfirmModal:e,isSaving:a,canSave:l})=>{const{t:c}=R();return m("div",{css:kp,children:[t(te,{colorScheme:"grayBlue",fullWidth:!0,onClick:n,children:c("editor.action.panel.button.missing_resource.cancel")}),t(te,{colorScheme:"black",fullWidth:!0,onClick:e,loading:a,disabled:!l,children:c("editor.action.panel.button.missing_resource.save")})]})},Dp=o`
  color: ${x("techPurple","03")};
`,_n=o`
  width: 100%;
  display: flex;
  align-items: center;
`,kn=o`
  flex-shrink: 0;
`,An=o`
  margin-left: 8px;
  flex-shrink: 1;
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  flex-grow: 1;
`,Tp=n=>o`
  width: ${n};
  height: ${n};
  flex-shrink: 0;
  border-radius: 4px;
`,Xe=["clickhouse","supabasedb","mysql","tidb","mariadb","postgresql","snowflake","neon","hydra"],Mp=(n,e)=>{const a=Xe.includes(e);return n.filter(l=>a?Xe.includes(l.resourceType):l.resourceType===e)},Pp=({resourceID:n,resourceType:e,changeResourceID:a})=>{const{t:l}=R(),{resourceList:c,aiAgentList:u,addResourceCallback:p}=i.useContext(ot),{track:s}=i.useContext(nt),d=Mp(c,e),[g,r]=i.useState(!1),h=Xe.includes(e),C=e==="aiagent",_=(b,w)=>{r(!1),w||(p(b),a(b.resourceID))},L=C?u.map(b=>({label:m("div",{css:_n,children:[t("span",{css:kn,children:t("img",{src:b==null?void 0:b.icon,css:Tp("14px")})}),t("span",{css:An,children:b.name})]}),value:b.aiAgentID})):d.map(b=>({label:m("div",{css:_n,children:[t("span",{css:kn,children:t(i.Suspense,{children:$e(b.resourceType,"14px")})}),t("span",{css:An,children:b.resourceName})]}),value:b.resourceID}));return C||L.unshift({label:m(ve,{size:"8px",direction:"horizontal",alignItems:"center",css:Dp,children:[t(Lt,{size:"16px"}),l("editor.action.panel.option.resource.new")]}),value:"create"}),m(F,{children:[t(Be,{w:"100%",colorScheme:"techPurple",options:L,value:n||l("editor.action.panel.label.placeholder.missing_resource.choose_a_resource"),onChange:b=>{if(b==="create"&&!C){s(A.CLICK,{element:"replacement_dropdown_create_new"}),r(!0);return}a(b)},onClick:()=>{s(A.CLICK,{element:"replacement_dropdown"})}}),g&&t(ze,{allResource:c,createOrUpdateResourceCallback:_,children:t(ea,{visible:g,onClose:()=>{r(!1)},defaultConfig:{defaultResourceType:e,defaultStep:h?"select":"createResource",canBack:!1},filterResourceType:b=>h?Xe.includes(b):!0})})]})},Np=o`
  display: flex;
  flex-direction: column;
  padding: 16px 24px;
`,Wa=o`
  display: flex;
  align-items: center;
  justify-content: space-between;
`,le=n=>o`
  padding: 9px 0%;
  width: ${n};
  overflow: hidden;
  white-space: nowrap;
  margin: 0;
  text-overflow: ellipsis;
`,Dn=o`
  text-overflow: ellipsis;
  font-size: 14px;
  font-weight: 500;
  color: ${x("grayBlue","02")};
`,$p=n=>o`
  display: flex;
  align-items: center;
  gap: 8px;
  color: ${n==="missing"?x("orange","03"):x("green","03")};
`,Rp=o`
  font-size: 12px;
  font-weight: 400;
  line-height: 22px;
`,Ep=n=>{switch(n){case"missing":return t(Un,{});case"completed":return t(_t,{})}},Bp=n=>{const{actionIDs:e,resourceType:a,replacementResourceID:l,status:c,tutorialHref:u,index:p,handleChangePlaceInfo:s}=n,{actionIDMapAction:d}=i.useContext(ot),{t:g}=R(),{track:r}=i.useContext(nt),h=e.map(b=>d[b].displayName).join(" "),C=b=>{switch(b){case"missing":return g("editor.action.panel.label.option.missing_resource.missing");case"completed":return g("editor.action.panel.label.option.missing_resource.completed")}},_=()=>{r(A.CLICK,{element:"watch_tutorial"}),window.open(u,"_blank","width=800px,height=500px")},L=b=>{s(p,b,e)};return m("div",{css:Wa,children:[t("div",{css:le("128px"),children:t("span",{css:Dn,children:h})}),t("div",{css:le("104px"),children:t("span",{css:Dn,children:a})}),t("div",{css:le("224px"),children:t(Pp,{resourceID:l,changeResourceID:L,resourceType:a})}),t("div",{css:le("96px"),children:m("div",{css:$p(c),children:[Ep(c),t("span",{css:Rp,children:C(c)})]})}),t("div",{css:le("96px"),children:t(te,{leftIcon:t(so,{}),onClick:_,variant:"outline",colorScheme:"grayBlue",children:g("editor.action.panel.label.option.missing_resource.watch")})})]})},Vp=n=>{const{handleCancelModal:e}=n,{actionIDMapAction:a,missingActionsMap:l,resourceIDMapResource:c,agentIDMapAgent:u,updateActions:p}=i.useContext(ot),{track:s}=i.useContext(nt),[d,g]=i.useState(!1),[r,h]=i.useState(new Map),{t:C}=R(),_=(w,M,T)=>{h(v=>{const $=new Map(v);return $.set(w,{resourceID:M,actionIDs:T}),$})},L=Array.from(r.values()),b=async()=>{if(L.length===0)return;g(!0);const w={};L.forEach(({actionIDs:v,resourceID:$})=>{v.forEach(f=>{w[f]={actionID:f,resourceID:$}})});const M=Object.values(w).map(v=>a[v.actionID]).map(v=>{if(v.actionType==="aiagent"){const E=w[v.actionID].resourceID;return{...v,resourceID:E,content:{...v.content,virtualResource:u[E]}}}const $=w[v.actionID].resourceID,f=c[$].resourceType;return{...v,actionType:f,resourceID:$}}),T=Object.values(l).map(v=>v.actionIDs).flat();s(A.CLICK,{element:"missing_resource_configure_modal_save",parameter1:T.length===M.length}),await p(M),h(new Map),e(),g(!1)};return m(F,{children:[m("div",{css:Np,children:[m("header",{css:Wa,children:[t("p",{css:le("128px"),children:C("editor.action.panel.label.missing_resource.affected_actions")}),t("p",{css:le("104px"),children:C("editor.action.panel.label.missing_resource.type")}),t("p",{css:le("224px"),children:C("editor.action.panel.label.missing_resource.replacement")}),t("p",{css:le("96px"),children:C("editor.action.panel.label.missing_resource.status")}),t("p",{css:le("96px"),children:C("editor.action.panel.label.missing_resource.tutorial")})]}),Object.keys(l).map(w=>{var T;const M=l[w];return t(Bp,{index:w,actionIDs:M.actionIDs,tutorialHref:M.tutorialHref,resourceType:M.resourceType,replacementResourceID:(T=r.get(w))==null?void 0:T.resourceID,status:r.get(w)?"completed":"missing",handleChangePlaceInfo:_},w)})]}),t(Ap,{handleCancelModal:e,handleConfirmModal:b,isSaving:d,canSave:L.length>0})]})},Hp=({shown:n,changeShown:e})=>{const{track:a}=i.useContext(nt),l=()=>{e(!1),a(A.CLICK,{element:"missing_resource_configure_modal_cancel"})};return ra.createPortal(m(Dt,{visible:n,w:"800px",autoFocus:!1,footer:!1,onCancel:l,withoutPadding:!0,maskClosable:!1,afterOpen:()=>{a(A.SHOW,{element:"missing_resource_configure_modal"})},children:[t(Lp,{handleCloseModal:l}),t(Vp,{handleCancelModal:l})]}),document.body)},Fp=n=>{const{shown:e,changeShown:a}=n,l=y(bi),c=y(wi),u=y(Re),p=y(Pt),s=y(vi),d=y(Si),g=W(),r=async C=>{await Ii(C),g(Q.batchUpdateActionItemReducer(C))},h=C=>{g(he.addResourceItemReducer(C))};return e&&ra.createPortal(t(we,{basicTrack:be,pageName:de.EDITOR,children:t(_p,{resourceIDMapResource:l,actionIDMapAction:s,missingActionsMap:c,resourceList:u,aiAgentList:p,agentIDMapAgent:d,updateActions:r,addResourceCallback:h,children:t(Hp,{shown:e,changeShown:a})})}),document.body)},Op=i.memo(Fp);o`
  padding: 1px 8px;
  box-sizing: content-box;
`;o`
  display: inline-flex;
  align-items: center;
  gap: 4px;
  text-align: right;
  font-size: 14px;
  font-style: normal;
  font-weight: 500;
  line-height: 22px;
  text-transform: capitalize;
`;o`
  width: 12px;
  height: 12px;
  display: flex;
  justify-content: center;
  align-items: center;
`;const zp=n=>i.createElement("svg",{width:8,height:8,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.41817 1.09961C4.52862 1.09961 4.61812 1.18922 4.61812 1.29968L4.61726 3.3446L6.45369 2.74829C6.55874 2.71416 6.6715 2.77154 6.70564 2.87659L6.95296 3.63745C6.98709 3.7425 6.92959 3.8554 6.82454 3.88953L4.9742 4.48962L6.19942 6.17627C6.26434 6.26563 6.24459 6.39065 6.15523 6.45557L5.50801 6.92578C5.41865 6.9907 5.29351 6.97095 5.22859 6.88159L3.96223 5.13757L2.68904 6.89075C2.62412 6.98011 2.49898 6.99999 2.40962 6.93506L1.7624 6.46484C1.67304 6.39992 1.65329 6.27479 1.71821 6.18542L2.97322 4.45569L1.16853 3.86963C1.06348 3.8355 1.00598 3.72273 1.04011 3.61768L1.28731 2.85681C1.32144 2.75176 1.43421 2.69426 1.53926 2.72839L3.41719 3.33765L3.41817 1.29968C3.41817 1.18922 3.50766 1.09961 3.61812 1.09961H4.41817Z",fill:"#787E85"}));o`
  font-size: 14px;
  color: ${x("grayBlue","02")};
  margin-left: 8px;
`;o`
  font-size: 14px;
  color: ${x("grayBlue","04")};
  font-weight: 400;
  margin-left: 192px;
  padding: 0 24px 8px 24px;
  line-height: 22px;
  min-height: 30px;
  white-space: normal;
`;o`
  display: flex;
  flex-direction: row;
  justify-content: end;
  min-width: 176px;
  width: 176px;
`;function Wp(n,e){let a=o``;return e&&(a=o`
      margin-left: 4px;
    `),o`
    font-size: 14px;
    color: ${n};
    font-weight: 500;
    ${a};
  `}o`
  display: flex;
  margin-left: 16px;
  margin-right: 24px;
  flex-direction: row;
  width: 100%;
  align-items: center;
  gap: 8px;
`;const Zp=o`
  padding: 24px 24px 0;
  width: 100%;
`;o`
  width: 100vw;
  height: 100vh;
  position: fixed;
  top: 0;
  left: 0;
  z-index: ${ro.modal};
  display: flex;
  align-items: center;
  justify-content: center;
`;o`
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
  background-color: ${x("white","05")};
  backdrop-filter: blur(5px);
  z-index: -1;
`;const Gp=o`
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 16px 16px;
  width: 486px;
  position: relative;
`,jp=o`
  font-weight: 600;
  font-size: 16px;
  line-height: 24px;
  color: ${x("grayBlue","02")};
  margin: 0;
  text-align: center;
`,Up=o`
  position: absolute;
  right: 0;
  top: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 12px;
`,qp=o`
  display: grid;
  gap: 32px;
  padding-bottom: 24px;
`,Qp=o`
  display: grid;
  gap: 24px;
`,Tn=o`
  display: grid;
  gap: 8px;
`,Mn=o``;o`
  &:disabled {
    -webkit-text-fill-color: ${x("grayBlue","05")};
  }
`;const Pn=o`
  font-size: 14px;
  line-height: 22px;
  font-weight: 500;
  color: ${S(`--${I}-grayBlue-02`)};
`;o`
  color: ${S(`--${I}-grayBlue-04`)};
`;o`
  position: relative;
  font-size: 14px;
  padding-left: 24px;
  line-height: 22px;
  color: ${S(`--${I}-orange-03`)};
`;o`
  position: absolute;
  font-size: 16px;
  line-height: 0;
  top: 3px;
  left: 0;
`;const Za=n=>{var M;const{appInfo:e,visible:a,onVisibleChange:l,onSaveEvent:c,onCloseEvent:u}=n,{control:p,formState:s,handleSubmit:d,reset:g}=fs({mode:"onSubmit",criteriaMode:"firstError",defaultValues:{appName:(e==null?void 0:e.appName)??"",description:((M=e==null?void 0:e.config)==null?void 0:M.description)??""}}),{isSubmitting:r,isDirty:h}=ys({control:p}),{t:C}=R(),{appId:_}=Ht(),L=W(),b=ae(),w=i.useCallback(async T=>{try{c();const v=await Li(e.appId,{description:T.description,appName:T.appName});v.data.appId===_&&L(ft.updateAppInfoReducer(v.data)),g({appName:T.appName,description:T.description}),b.success({content:C("dashboard.app.rename_success")})}catch{b.error({content:C("dashboard.app.rename_fail")})}l(!1)},[l,c,e.appId,L,_,g,b,C]);return t(Dt,{maskClosable:!0,withoutPadding:!0,w:"528px",visible:a,footer:!1,onCancel:()=>{u(),l(!1)},children:m("div",{css:Zp,children:[m("header",{css:Gp,children:[t("h3",{css:jp,children:C("new_dashboard.app_setting.app_setting")}),t("span",{css:Up,onClick:()=>{u(),l(!1)},children:t(Le,{})})]}),m("form",{css:qp,autoComplete:"off",onSubmit:d(w),children:[m("section",{css:Qp,children:[m("section",{css:Tn,children:[m("label",{css:Pn,children:[C("new_dashboard.app_setting.app_name"),t("span",{css:Wp(x("red","03")),children:"*"})]}),t("div",{css:Mn,children:t(ln,{name:"appName",control:p,render:({field:T})=>t(He,{...T,colorScheme:"techPurple",error:!!(s!=null&&s.errors.appName),placeholder:C("new_dashboard.app_setting.placeholder.app_name")}),rules:{required:C("page.user.sign_up.error_message.username.require"),maxLength:{value:280,message:C("page.user.sign_up.error_message.username.length")}}})})]}),m("section",{css:Tn,children:[t("label",{css:Pn,children:C("new_dashboard.app_setting.description")}),t("div",{css:Mn,children:t(ln,{name:"description",control:p,render:({field:T})=>t(lo,{...T,showWordLimit:!0,maxLength:180,autoSize:{minRows:6},colorScheme:"techPurple",error:!!(s!=null&&s.errors.description),placeholder:C("new_dashboard.app_setting.placeholder.description")})})})]})]}),t(te,{colorScheme:"techPurple",loading:r,disabled:!h,fullWidth:!0,children:C("save")})]})]})})};Za.displayName="AppSettingModal";o`
  margin-top: 20px;
`;const Yp=o`
  font-weight: 500;
  line-height: 18px;
  color: ${x("grayBlue","02")};
`,Jp=o`
  display: inline-flex;
  gap: 8px;
  cursor: pointer;
  height: 18px;
  align-items: center;
  color: ${x("grayBlue","02")};
  & > svg {
    display: none;
  }
  &:hover > svg {
    display: block;
    align-self: flex-start;
  }
`,Xp=n=>{const{appInfo:e}=n,[a,l]=i.useState(!1);return m(F,{children:[m("div",{css:Jp,onMouseEnter:()=>{P(A.HOVER,{element:"app_rename"})},onClick:()=>{l(!0),P(A.SHOW,{element:"app_setting_modal",parameter5:e.appId})},children:[t("span",{css:Yp,children:e.appName}),t(kt,{size:"16px"})]}),t(Za,{appInfo:e,visible:a,onVisibleChange:p=>{l(p)},onSaveEvent:()=>{P(A.CLICK,{element:"app_setting_modal_save",parameter5:e.appId})},onCloseEvent:()=>{P(A.CLICK,{element:"app_setting_modal_close",parameter5:e.appId})}})]})},Kp=n=>i.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},i.createElement("path",{d:"M7.9998 10.5L2.66667 10.4997C2.48986 10.4997 2.32029 10.4339 2.19526 10.3167C2.07024 10.1995 2 10.0405 2 9.87473V6.50309V3.62787C2 3.46211 2.07024 3.30314 2.19526 3.18593C2.32029 3.06872 2.48986 3.00287 2.66667 3.00287L13.3293 3C13.5061 3 13.6757 3.06585 13.8007 3.18306C13.9257 3.30027 13.996 3.45924 13.996 3.625V9.87186C13.996 10.0376 13.9257 10.1966 13.8007 10.3138C13.6757 10.431 13.5061 10.4969 13.3293 10.4969L7.9998 10.5ZM7.9998 10.5L7.9998 13M7.9998 13H9.9998M7.9998 13H5.9998",stroke:"#1D2129",strokeLinecap:"round"})),eu=n=>i.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},i.createElement("line",{x1:2.5,y1:5.5,x2:13.5,y2:5.5,stroke:"#1D2129",strokeLinecap:"round"}),i.createElement("line",{x1:2.5,y1:10.5,x2:13.5,y2:10.5,stroke:"#1D2129",strokeLinecap:"round"}),i.createElement("circle",{cx:9.5,cy:5.5,r:1,fill:"white",stroke:"#1D2129"}),i.createElement("circle",{cx:6.5,cy:10.5,r:1,fill:"white",stroke:"#1D2129"})),tu=n=>i.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},i.createElement("path",{d:"M5 13V3M11 13V3M14 3.625C14 3.45924 13.9298 3.30027 13.8047 3.18306C13.6797 3.06585 13.5101 3 13.3333 3H2.66667C2.48986 3 2.32029 3.06585 2.19526 3.18306C2.07024 3.30027 2 3.45924 2 3.625V12.375C2 12.5408 2.07024 12.6997 2.19526 12.8169C2.32029 12.9342 2.48986 13 2.66667 13H13.3333C13.5101 13 13.6797 12.9342 13.8047 12.8169C13.9298 12.6997 14 12.5408 14 12.375V3.625Z",stroke:"#1D2129"})),nu=n=>i.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},i.createElement("circle",{cx:8,cy:10,r:1,fill:"#1D2129"}),i.createElement("rect",{x:4,y:3,width:8,height:10,rx:1,stroke:"#1D2129"})),Nn=n=>!(n!=null&&n<yt+xt+Ct),$n=n=>!(n!=null&&n<bt+wt+vt),au=()=>{const{viewportWidth:n,viewportHeight:e}=y(sa),[a,l]=i.useState(n),[c,u]=i.useState(e),p=W(),{t:s}=R(),d=ae(),g=$n(a)?a:n,r=Nn(c)?c:e,h=i.useCallback(()=>{p(X.updateViewportSizeReducer({viewportWidth:g,viewportHeight:r,viewportSizeType:"custom"}))},[p,r,g]),C=i.useCallback(T=>{l(T)},[]),_=i.useCallback(T=>{u(T)},[]),L=i.useCallback(()=>{const T=Nn(c);if(P(A.BLUR,{element:"custom_size_input",parameter2:"h",parameter3:c}),!T){d.error({content:s("frame_size.invalid_tips",{size:yt+xt+Ct})});return}h()},[c,d,h,s]),b=i.useCallback(()=>{const T=$n(a);if(P(A.BLUR,{element:"custom_size_input",parameter2:"w",parameter3:a}),!T){d.error({content:s("frame_size.invalid_tips",{size:bt+wt+vt})});return}h()},[a,d,h,s]),w=i.useCallback(()=>{P(A.FOCUS,{element:"custom_size_input",parameter2:"w"})},[]),M=i.useCallback(()=>{P(A.FOCUS,{element:"custom_size_input",parameter2:"h"})},[]);return m("div",{css:ts,children:[m("div",{css:sn,children:[t("span",{children:"W"}),t(Le,{css:rn}),t("span",{children:"H:"})]}),m("div",{css:sn,children:[t(Jt,{w:"100px",colorScheme:"techPurple",value:a,placeholder:"--",onChange:C,onBlur:b,onFocus:w,min:bt+wt+vt,suffix:"px",hideControl:!0}),t(Le,{css:rn}),t(Jt,{w:"100px",colorScheme:"techPurple",value:c,placeholder:"--",suffix:"px",hideControl:!0,onChange:_,onBlur:L,onFocus:M,min:yt+xt+Ct})]})]})},ou=o`
  display: flex;
  pointer-events: auto;
  position: relative;
  align-items: center;
  height: 32px;
`,iu=o`
  display: flex;
  flex-direction: row;
  align-items: center;
`,su=o`
  width: 32px;
  height: 32px;
  display: flex;
  cursor: pointer;
`,ru=o`
  margin: auto;
  height: 100%;
  display: flex;
  & > svg {
    width: 16px;
    height: 16px;
    margin: auto;
  }
`,lu=n=>n?o`
      box-shadow: inset 0px -2px 0px ${x("grayBlue","02")};
    `:o``,cu=[{type:"fluid",Icon:tu},{type:"desktop",Icon:Kp},{type:"tablet",Icon:nu},{type:"custom",Icon:eu}],du={fluid:{viewportWidth:void 0,viewportHeight:void 0},desktop:{viewportWidth:1280,viewportHeight:void 0},tablet:{viewportWidth:1080,viewportHeight:void 0}},pu={hidden:{height:0,opacity:0,visibility:"hidden",transitionEnd:{display:"none"}},shown:{height:"unset",opacity:1,visibility:"visible",display:"inherit"}},Ga=()=>{const{viewportSizeType:n,viewportWidth:e,viewportHeight:a}=y(sa),l=W(),c=n==="custom",u=n??"fluid";i.useEffect(()=>{P(A.SELECT,{element:"preview_size",parameter2:u})},[u]);const p=i.useCallback(({viewportWidth:d,viewportHeight:g,viewportSizeType:r})=>{l(X.updateViewportSizeReducer({viewportWidth:d,viewportHeight:g,viewportSizeType:r}))},[l]),s=i.useCallback(d=>{const g=d.currentTarget.dataset.key,r=g!=="custom"?du[g]:{viewportHeight:a,viewportWidth:e};P(A.CLICK,{element:"preview_size",parameter2:g}),p({...r,viewportSizeType:g})},[p,a,e]);return m("div",{css:ou,children:[t("div",{css:iu,children:cu.map(d=>{const{Icon:g,type:r}=d;return t("span",{"data-key":r,css:su,onClick:s,children:t("span",{css:[ru,lu(u===r)],children:t(g,{})})},r)})}),t(ge.div,{initial:"hidden",animate:c?"shown":"hidden",variants:pu,transition:{duration:.5,ease:"easeInOut"},children:t(au,{})})]})};Ga.displayName="AppSizeButtonGroup";o`
  width: 32px;
  height: 32px;
  line-height: 32px;
  text-align: center;
  border-radius: 50%;
  display: inline-block;
  flex-shrink: 0;
`;o`
  line-height: 22px;
  height: 22px;
  align-self: center;
  font-family: "Inter";
  font-size: 14px;
  text-align: left;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`;o`
  display: flex;
  position: relative;
  gap: 8px;
`;o`
  width: 32px;
  height: 32px;
  line-height: 32px;
  text-align: center;
  border-radius: 50%;
  background-color: ${S(`--${I}-grayBlue-05`)};
  color: ${S(`--${I}-white-01`)};
  border: 1px solid ${S(`--${I}-white-01`)};
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  & span {
    margin: 8px;
    font-size: 12px;
    line-height: 16px;
    vertical-align: middle;
  }
`;o`
  position: absolute;
  top: 3px;
  right: 0;
  width: 172px;
  max-height: 240px;
  overflow: auto;
  background-color: ${S(`--${I}-white-01`)};
  border-radius: 8px;
  border: 1px solid ${S(`--${I}-grayBlue-08`)};
  box-shadow: 0px 4px 16px rgba(0, 0, 0, 0.08);
  padding: 16px;
  z-index: 10;
`;o`
  position: relative;

  &:before {
    border-radius: 1px;
    background: ${x("white","06")};
    width: 1px;
    height: 12px;
    content: "";
    position: absolute;
    left: 0;
  }
`;o`
  padding: 8px 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
`;o`
  display: flex;
  align-items: center;
  gap: 8px;
`;o`
  display: flex;
`;o`
  font-weight: 500;
  line-height: 22px;
`;o`
  font-size: 12px;
  font-weight: 400;
  line-height: 20px;
  color: ${x("grayBlue","04")};
`;const uu=n=>{const{t:e}=R(),{loading:a,isPublic:l,isGuideMode:c,canUseBillingFeature:u,onClickDeploy:p,disPrivate:s,onClickDeployMenu:d}=n;return t(te,{loading:a,colorScheme:"techPurple",size:"medium",leftIcon:t(On,{}),onClick:p,children:e(c?"editor.tutorial.panel.tutorial.modal.fork":"deploy")})};o`
  display: inline-block;
  width: 1px;
  height: 16px;
  margin: 0 16px;
  background-color: ${x("grayBlue","08")};
`;const dt=o`
  width: 24px;
  height: 24px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-right: 2px;
  border-radius: 4px;
  cursor: pointer;

  &:hover {
    background: ${x("grayBlue","09")};
  }
`;function pt(n){return o`
    flex: none;
    width: 16px;
    height: 16px;
    font-size: 16px;
    color: ${n?x("grayBlue","03"):x("grayBlue","05")};
  `}const gu=()=>{const n=W(),e=y(_i),a=y(ki),l=y(Ai),c=i.useCallback(()=>{P(A.CLICK,{element:"panel_show",parameter2:"left",parameter3:e?"hidden":"show"}),n(N.updateLeftPanel(!e))},[n,e]),u=i.useCallback(()=>{P(A.CLICK,{element:"panel_show",parameter2:"right",parameter3:a?"hidden":"show"}),n(N.updateRightPanel(!a))},[n,a]),p=i.useCallback(()=>{P(A.CLICK,{element:"panel_show",parameter2:"bottom",parameter3:l?"hidden":"show"}),n(N.updateBottomPanel(!l))},[l,n]);return m("div",{style:{pointerEvents:"auto"},children:[t("span",{css:dt,onClick:c,children:t(co,{_css:pt(e)})}),t("span",{css:dt,onClick:p,children:t(po,{_css:pt(l)})}),t("span",{css:dt,onClick:u,children:t(uo,{_css:pt(a)})})]})},hu=n=>{var k,q;const{className:e}=n,{t:a}=R(),l=W(),c=ae(),{teamIdentifier:u}=Ht(),p=y(Di),s=y(Ti),d=y(Rt),g=y(Mi),r=y(Ae),h=y(tt),C=y(Pi),_=Bn(),L=Ot(),[b,w]=i.useState(!1),[M,T]=i.useState(!1),v=aa(h.myRole,oa(h),(k=h==null?void 0:h.totalTeamLicense)==null?void 0:k.teamLicensePurchased,(q=h==null?void 0:h.totalTeamLicense)==null?void 0:q.teamLicenseAllPaid),$=i.useCallback(async(O,G,ee,K)=>{w(!0);try{await Ni(O,G),l(ft.updateAppDeployedReducer(!0)),l(ft.updateAppPublicReducer(G)),window.open(`${$i(window.customDomain)}/${u}/deploy/app/${O}`,"_blank"),ee==null||ee()}catch(Y){c.error({content:a("editor.deploy.fail")}),K==null||K(Y)}finally{w(!1)}},[l,u,c,a]),f=i.useCallback(async O=>{w(!0);const G=await Ri(O);await $(G,!1),w(!1)},[$]),E=async()=>{if(r)await f(p.appName);else{if(P(A.CLICK,{element:"deploy"}),C){P(A.SHOW,{element:"missing_resource_confirm_modal"}),_.show({children:m("div",{css:ps,children:[m("div",{css:us,children:[t(Un,{color:x("orange","03")}),t("h6",{css:gs,children:a("editor.action.panel.title.missing_resource.missing_resources")})]}),t("p",{css:hs,children:a("editor.action.panel.desc.missing_resource.some_resources_of_th")})]}),okText:a("editor.action.panel.button.missing_resource.deploy"),cancelText:a("editor.action.panel.button.missing_resource.configure"),maskClosable:!1,okButtonProps:{colorScheme:"black"},w:"320px",minW:"320px",onOk:async()=>{P(A.CLICK,{element:"missing_resource_confirm_modal_deploy"}),await $(p.appId,p.config.public)},onCancel(){P(A.CLICK,{element:"missing_resource_confirm_modal_configure"}),T(!0)}});return}await $(p.appId,p.config.public)}},D=i.useCallback(async O=>{O==="public"&&!v?L({modalType:"upgrade",from:"app_edit_deploy_public"}):(P(A.REQUEST,{element:"invite_modal_public_switch",parameter1:"deploy",parameter2:"trigger",parameter4:p.config.public?"on":"off",parameter5:p.appId}),await $(p.appId,O==="public",()=>{P(A.REQUEST,{element:"invite_modal_public_switch",parameter1:"deploy",parameter2:"suc",parameter4:p.config.public?"on":"off",parameter5:p.appId})},G=>{var ee;P(A.REQUEST,{element:"invite_modal_public_switch",parameter1:"deploy",parameter2:"failed",parameter3:ia(G)?(ee=G==null?void 0:G.data)==null?void 0:ee.errorFlag:"unknown",parameter4:p.config.public?"on":"off",parameter5:p.appId})}))},[p.appId,p.config.public,v,$,L]),B=i.useCallback(()=>{d?(P(A.CLICK,{element:"preview"}),l(N.updateIllaMode("preview"))):(P(A.CLICK,{element:"exit_preview"}),l(N.updateIllaMode("edit")))},[l,d]),H=t(te,{colorScheme:"grayBlue",leftIcon:d?t(go,{}):t(ho,{}),variant:"fill",bdRadius:"8px",onClick:B,children:a(d?"preview.button_text":"exit_preview")}),Z=Ei(h,h.myRole,p.config.public,p.config.publishedToMarketplace,p.deployed);return i.useEffect(()=>{!r&&Z&&P(A.SHOW,{element:"invite_entry"})},[Z,r]),m("div",{className:e,css:ns,children:[m("div",{css:as,children:[t(Vt,{to:Bi(window.customDomain),children:t(Vi,{width:"34px",css:os})}),m("div",{css:is,children:[t(Xp,{appInfo:p}),s?t("div",{css:ss,children:a("edit_at")+" "+Hi(p==null?void 0:p.updatedAt)}):m("div",{css:rs,children:[t(zp,{}),m("span",{children:[" ",a("edit_failed")]})]})]})]}),m("div",{css:ls(),children:[d&&t(gu,{}),g&&t(Ga,{})]}),t("div",{css:cs,children:d?m("div",{css:ds,children:[$t,H,t(uu,{disPrivate:p.config.publishedToMarketplace,loading:b,isPublic:p.config.public,isGuideMode:r,canUseBillingFeature:v,onClickDeploy:E,onClickDeployMenu:D})]}):H}),t(Op,{shown:M,changeShown:T})]})};hu.displayName="PageNavBar";export{Rc as A,Fu as B,Bc as C,vp as D,Hu as E,Vu as F,Bu as G,Oa as H,rp as I,De as J,Fr as K,ip as L,Op as M,Ts as O,hu as P,Ju as R,Ku as S,Aa as T,pd as a,Gc as b,Xu as c,$u as d,Nu as e,Mu as f,Pu as g,Tu as h,Du as i,Cs as j,Ia as k,ws as l,Ru as m,Is as n,Eu as o,_s as p,Yu as q,Qu as r,qu as s,Uu as t,ju as u,Gu as v,Zu as w,Wu as x,zu as y,Ou as z};
//# sourceMappingURL=index-e89bb2f6.js.map
