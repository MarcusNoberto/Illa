import{k as l,o as N,c1 as j}from"./@illa-design-402f214a.js";import{r as d}from"./react-9b7e00e3.js";import{aE as I}from"./index-2f1869ab.js";import{h as q,I as D}from"./utils-c87ab5dc.js";import{L as F}from"./index-94227886.js";import{T as _}from"./index-5f69abbc.js";import{a as z,b as B}from"./style-7ce959a8.js";import"./@emotion-4f16718e.js";import"./codeMirror-vendor-eff8ab8d.js";import"./lodash-lib-6e94956b.js";import"./react-icons-vendor-2430ea65.js";const A=T=>{const{startTime:s,endTime:i,format:V,startPlaceholder:R,endPlaceholder:P,minuteStep:W,showClear:k,disabled:a,colorScheme:c,handleOnChange:m,getValidateMessage:n,handleUpdateMultiExecutionResult:M,displayName:p}=T,y=e=>{new Promise(h=>{const f=n(e==null?void 0:e[0]),u=n(e==null?void 0:e[1]);M([{displayName:p,value:{value:[(e==null?void 0:e[0])||"",(e==null?void 0:e[1])||""],startTime:(e==null?void 0:e[0])||"",endTime:(e==null?void 0:e[1])||"",validateMessage:f||u}}]),h(!0)}).then(()=>{m==null||m()})},E=()=>{const e=n(void 0),h=n(void 0);M([{displayName:p,value:{value:["",""],startTime:"",endTime:"",validateMessage:e||h}}])},g=[R??"",P??""],b=d.useMemo(()=>!s&&!i?["",""]:[s,i],[s,i]);return l(j,{w:"100%",colorScheme:c,format:V,value:b,disabled:a,placeholder:g,allowClear:k,step:{minute:W},onClear:E,onChange:y})};A.displayName="WrappedTimeRange";const G=T=>{const{startTime:s,endTime:i,startPlaceholder:V,endPlaceholder:R,showClear:P,disabled:W,colorScheme:k,displayName:a,labelPosition:c,labelFull:m,label:n,labelAlign:M,labelWidth:p=33,labelCaption:y,labelWidthUnit:E,required:g,labelHidden:b,tooltipText:e,validateMessage:h,customRule:f,hideValidationMessage:u,updateComponentHeight:L,triggerEventHandler:x,updateComponentRuntimeProps:S,deleteComponentRuntimeProps:H,handleUpdateMultiExecutionResult:o}=T,w=d.useCallback(t=>{if(!u){const r=q({value:t,required:g,customRule:f});return r&&r.length>0?r:""}return""},[f,u,g]),C=d.useCallback(t=>{const r=w(t);return o([{displayName:a,value:{validateMessage:r}}]),r},[a,w,o]);d.useEffect(()=>(S({setStartTime:t=>{o([{displayName:a,value:{value:[t,i],startTime:t}}])},setEndTime:t=>{o([{displayName:a,value:{value:[s,t],endTime:t}}])},clearValue:()=>{o([{displayName:a,value:{value:["",""],startTime:"",endTime:""}}])},validate:()=>{if(!s||!i)return C(void 0);const t=C(s);if(t)return t;const r=C(i);if(r)return r},clearValidation:()=>{o([{displayName:a,value:{validateMessage:""}}])}}),()=>{H()}),[a,s,i,V,R,P,W,k,S,H,C,o]),d.useEffect(()=>{o([{displayName:a,value:{value:[s,i]}}])},[s,i,o,a]);const U=d.useCallback(()=>{x("change")},[x]);return N(I,{updateComponentHeight:L,children:[l(_,{tooltipText:e,tooltipDisabled:!e,children:N("div",{css:z(c),children:[l(F,{labelFull:m,label:n,labelAlign:M,labelWidth:p,labelCaption:y,labelWidthUnit:E,labelPosition:c,required:g,labelHidden:b,hasTooltip:!!e}),l(A,{...T,getValidateMessage:w,handleOnChange:U})]})}),!u&&l("div",{css:B(p,c,b||!n),children:l(D,{validateMessage:h})})]})};G.displayName="TimeRangeWidget";export{G as TimeRangeWidget,A as WrappedTimeRange,G as default};
//# sourceMappingURL=timeRange-4b9fb06b.js.map
