import{k as S}from"./@illa-design-1f43bb6c.js";import{r as c}from"./react-9b7e00e3.js";import{b as h,ci as $,g_ as M,g$ as b}from"./index-4dce6ee8.js";import T from"./index-8cb9ad80.js";import{g as i,t as x}from"./lodash-lib-6e94956b.js";import"./@emotion-08a6282b.js";import"./codeMirror-vendor-320207e2.js";import"./react-icons-vendor-2430ea65.js";import"./index-03ca7e7b.js";import"./index-6f32d056.js";import"./index-5be17f9b.js";import"./clsx.m-925abe8b.js";import"./clsx.m-266f4de0.js";import"./util-386d549a.js";import"./index-934389e2.js";import"./style-ee1caa0e.js";import"./style-6680c91c.js";const y=(t,r,o)=>{if(t===""||t==null)return"";const n=`${t.substring(`{{${o}.${r}.map((currentRow) => ( `.length,t.length-4)}`;return t.includes("currentRow")?M(n):t},g=(t,r,o)=>{const n=b(t);return n===""?n:`{{${o}.${r}.map((currentRow) => ( ${n}))}}`},D=t=>{const{parentAttrName:r,handleUpdateDsl:o,value:n,widgetDisplayName:s}=t,p=h(e=>{const u=$(e);return i(u,s,{})}),d=c.useMemo(()=>i(p,"dataSourceMode","select")==="dynamic",[p]),l=c.useMemo(()=>i(p,`${r}.fromCurrentRow`,{}),[p,r]),a=c.useMemo(()=>d?"dataSourceJS":"dataSource",[d]),f=c.useCallback((e,u)=>{const m=u.includes("currentRow"),C=m?g(u,a,s):u,R=x(e).at(-1);o(e,C),o(`${r}.fromCurrentRow`,{...l,[R]:m})},[a,l,o,r,s]),w=c.useCallback(e=>e.includes("currentRow")?g(e,a,s):e,[a,s]);return S(T,{...t,value:y(n,a,s),wrappedCodeFunc:w,handleUpdateDsl:f})};D.displayName="TableMappedValueInputSetter";export{D as default};
//# sourceMappingURL=tableMappedValueInputSetter-47b9a671.js.map
