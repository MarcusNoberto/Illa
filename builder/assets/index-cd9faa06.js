import{k as t,B as j,F as A,n as C,o as h,cw as W}from"./@illa-design-1f43bb6c.js";import{u,eH as r,hT as N,hL as D,is as b,it as T,iu as n,b as E,bA as $,fv as z,e as X,be as O,iv as R,iw as q,ix as H,iy as Q,iz as K,iA as Z,iB as ee,iC as te,iD as ie}from"./index-4dce6ee8.js";import{r as g}from"./react-9b7e00e3.js";import{F as P,R as le,S as ae,a as oe}from"./panelFolder-f2333d4f.js";import{S as I}from"./index-01ad6233.js";import{T as ne}from"./index-cd7c17cc.js";import{a as _}from"./@emotion-08a6282b.js";import{a as p,C as re}from"./index-03ca7e7b.js";import{I as s}from"./index-2c4267bb.js";import"./codeMirror-vendor-320207e2.js";import"./lodash-lib-6e94956b.js";import"./react-icons-vendor-2430ea65.js";import"./drive-584d85d3.js";import"./hook-302a78fc.js";import"./renderComponentCanvasContainer-2e4cd54a.js";import"./style-49f23046.js";import"./index-d48f7e94.js";import"./index-cf2bb556.js";import"./index-2fdfc937.js";import"./layoutInfoListener-bd63c738.js";import"./objectWithoutPropertiesLoose-4f48578a.js";import"./popper-a04e2b11.js";import"./objectWithoutPropertiesLoose-e3246981.js";import"./clsx-06f54762.js";import"./index-934389e2.js";import"./style-51b259bb.js";import"./style-af69883e.js";import"./index-6f32d056.js";import"./index-5be17f9b.js";import"./clsx.m-925abe8b.js";import"./clsx.m-266f4de0.js";import"./index-b9f5fd51.js";const de=()=>{const{handleOptionsValueChange:i}=g.useContext(S),{currentFolderPath:e,setFolderOperateVisible:l}=g.useContext(P),{t:a}=u();return t(j,{colorScheme:"techPurple",onClick:()=>{i("path",`/${e}`),l(!1)},children:t("span",{children:a("drive.upload.select.confirm_button")})})},S=g.createContext({}),pe=({children:i,handleOptionsValueChange:e})=>{const{t:l}=u(),[a,o]=g.useState(le),[c,f]=g.useState(!1),[m,y]=g.useState(!1);return t(S.Provider,{value:{handleOptionsValueChange:e},children:t(P.Provider,{value:{subTitle:l("drive.upload.modal.select_folder"),currentFolderPath:a,folderOperateVisible:c,createFolderVisible:m,setCreateFolderVisible:y,setCurrentFolderPath:o,setFolderOperateVisible:f,operateChildren:t(de,{})},children:i})})},se=_`
  padding: 8px 0;
`,w=i=>{const{t:e}=u(),l=i.commandArgs,{handleOptionsValueChange:a}=i;return t(A,{children:t(s,{title:e("editor.action.panel.label.drive.file_ids"),tips:e("editor.action.panel.label.tips.drive.file_ids"),placeholder:e("editor.action.panel.label.placeholder.drive.file_ids"),lineNumbers:!0,mode:p.JAVASCRIPT,value:l.fileIDs,onChange:o=>a("fileIDs",o),expectedType:r.ARRAY})})};w.displayName="DeleteMultiplePart";const V=i=>{const{t:e}=u(),l=i.commandArgs,{handleOptionsValueChange:a}=i;return t(A,{children:t(s,{title:e("editor.action.panel.label.drive.file_id"),tips:e("editor.action.panel.label.tips.drive.file_id"),placeholder:e("editor.action.panel.label.placeholder.drive.file_id"),lineNumbers:!0,mode:p.JAVASCRIPT,value:l.fileID,onChange:o=>a("fileID",o),expectedType:r.STRING})})};V.displayName="DeleteOnePart";const U=i=>{const{t:e}=u(),l=i.commandArgs,{handleOptionsValueChange:a}=i;return t(A,{children:t(s,{title:e("editor.action.panel.label.drive.file_ids"),tips:e("editor.action.panel.label.tips.drive.file_ids"),placeholder:e("editor.action.panel.label.placeholder.drive.file_ids"),lineNumbers:!0,mode:p.JAVASCRIPT,value:l.fileIDs,onChange:o=>a("fileIDs",o),expectedType:r.ARRAY})})};U.displayName="DownloadMultiplePart";const F=i=>{const{t:e}=u(),l=i.commandArgs,{handleOptionsValueChange:a}=i;return t(A,{children:t(s,{title:e("editor.action.panel.label.drive.file_id"),tips:e("editor.action.panel.label.tips.drive.file_id"),placeholder:e("editor.action.panel.label.placeholder.drive.file_id"),lineNumbers:!0,mode:p.JAVASCRIPT,value:l.fileID,onChange:o=>a("fileID",o),expectedType:r.STRING})})};F.displayName="DownloadOnePart";const ce=_`
  width: 100%;
  display: flex;
  padding: 8px 16px;
  flex-direction: column;
  justify-content: center;
  align-items: flex-end;
  gap: 8px;
`,me=_`
  display: flex;
  padding: 1px 8px;
  justify-content: center;
  align-items: center;
  gap: 4px;
  cursor: pointer;
  & > span {
    color: ${C("grayBlue","02")};
    font-size: 14px;
    font-style: normal;
    font-weight: 500;
    line-height: 22px;
    text-transform: capitalize;
  }
`,ue=_`
  width: 16px;
  height: 16px;
`,ve=_`
  display: flex;
  width: 100%;
  justify-content: space-between;
  align-items: center;
`,he=_`
  font-size: 14px;
  white-space: pre-line;
  padding-left: 16px;
  min-height: 30px;
  padding-bottom: 8px;
  display: flex;
  align-items: stretch;
  color: ${C("grayBlue","04")};
  align-self: flex-start;
`,_e=_`
  width: 100%;
  display: flex;
  position: relative;
  padding-left: 160px;
  padding-right: 16px;
  flex-direction: column;
`,fe=_`
  width: 100%;
  margin: 0 0 8px 16px;
`,be=_`
  display: flex;
  width: 160px;
  justify-content: flex-end;
  align-items: center;
  gap: 4px;
  flex-shrink: 0;
`,x=({value:i})=>{const{t:e}=u(),{setFolderOperateVisible:l}=g.useContext(P),{handleOptionsValueChange:a}=g.useContext(S);return h("div",{css:ce,children:[h("div",{css:ve,children:[t("span",{css:be,children:e("editor.action.panel.label.drive.folder")}),h("div",{css:me,onClick:()=>l(!0),children:[t("span",{css:ue,children:t(ae,{})}),t("span",{children:e("drive.upload.select.select_entry")})]})]}),h("div",{css:_e,children:[t(re,{singleLine:!0,wrapperCss:fe,lang:p.JAVASCRIPT,value:i,onChange:o=>a("path",o),expectValueType:r.STRING,modalTitle:e("editor.action.panel.label.drive.folder")}),t("div",{css:he,children:t("span",{children:e("editor.action.panel.label.tips.drive.folder")})})]})]})},Ae=_`
  width: 100%;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
`,ye=i=>_`
    width: 16px;
    height: 16px;
    color: ${i?C("techPurple","03"):C("grayBlue","04")};
    cursor: pointer;
    z-index: 1;
    margin-right: 16px;
    :hover {
      cursor: pointer;
      color: ${C("techPurple","03")};
    }
  `,L=i=>{const{attrName:e,value:l,isFx:a,options:o,label:c,handleOptionsValueChange:f}=i,m=()=>{f(`${e}Fx`,!a)};return h("div",{css:Ae,children:[a?t(s,{title:c,value:l,onChange:y=>f(e,y),expectedType:r.STRING}):t(I,{title:c,componentType:"select",value:l,onChange:y=>f(e,y),options:o}),t(W,{onClick:m,css:ye(a)})]})};L.displayName="BaseFxSelect";const Te=_`
  width: 100%;
  display: flex;
  justify-content: flex-end;
  align-items: center;
`,M=({sortByeOptions:i,commandArgs:e,handleOptionsValueChange:l})=>{const{t:a}=u(),o=[N.ascend,N.descend];return h("div",{css:Te,children:[t(L,{attrName:"sortedBy",label:a("editor.action.panel.label.drive.sort_by"),isFx:e.sortedByFx,value:e.sortedBy,options:i,handleOptionsValueChange:l}),t(L,{attrName:"sortedType",label:a("editor.action.panel.label.drive.sort_direction"),isFx:e.sortedTypeFx,value:e.sortedType,options:o,handleOptionsValueChange:l})]})},B=i=>{const{t:e}=u(),l=i.commandArgs,{handleOptionsValueChange:a}=i,o=l.filterType,c=l.expirationType,f=["id","lastModifiedAt","lastModifiedBy","name","contentType","size"],m=[{label:e("editor.inspect.setter_option.drive_builder.expired_time.never"),value:D.PERSISTENT},{label:e("editor.inspect.setter_option.drive_builder.expired_time.customer"),value:D.CUSTOM}],y=[{label:e("editor.action.panel.label.option.drive.file_type.none"),value:b.NONE},{label:e("editor.action.panel.label.option.drive.file_type.by_id"),value:b.BY_ID},{label:e("editor.action.panel.label.option.drive.file_type.by_name"),value:b.BY_NAME}];return h(A,{children:[t(I,{title:e("editor.action.panel.label.drive.filter_type"),tips:e("editor.action.panel.label.tips.drive.filter_type"),value:l.filterType,componentType:"select",type:"button",forceEqualWidth:!0,onChange:d=>a("filterType",d),options:y}),o===b.BY_NAME&&t(s,{title:e("editor.action.panel.label.drive.file_name"),tips:e("editor.action.panel.label.tips.drive.file_name"),placeholder:e("editor.action.panel.label.placeholder.drive.file_name"),lineNumbers:!0,mode:p.JAVASCRIPT,value:l.search,onChange:d=>a("search",d),expectedType:r.STRING}),o===b.BY_ID&&t(s,{title:e("editor.action.panel.label.drive.file_id"),tips:e("editor.action.panel.label.tips.drive.file_id"),placeholder:e("editor.action.panel.label.placeholder.drive.file_id"),lineNumbers:!0,mode:p.JAVASCRIPT,value:l.fileID,onChange:d=>a("fileID",d),expectedType:r.STRING}),t(x,{value:l.path}),t(I,{title:e("editor.inspect.setter_label.drive_builder.expired_time"),tips:e("editor.inspect.setter_tips.drive_builder.expired_time"),value:l.expirationType,componentType:"radio-group",type:"button",forceEqualWidth:!0,onChange:d=>a("expirationType",d),radioOptions:m}),c===D.CUSTOM&&t(s,{title:e("editor.inspect.setter_label.drive_builder.time"),tips:e("editor.inspect.setter_tips.drive_builder.time"),mode:p.JAVASCRIPT,value:l.expiry,onChange:d=>a("expiry",d),expectedType:r.NUMBER}),t(I,{title:e("editor.inspect.setter_label.drive_builder.turn_on_hotlink"),tips:e("editor.inspect.setter_tips.drive_builder.turn_on_hotlink"),value:l.hotlinkProtection,componentType:"switch",onChange:d=>a("hotlinkProtection",d)}),t(s,{title:e("editor.action.panel.label.drive.limit"),tips:e("editor.action.panel.label.tips.drive.limit"),placeholder:e("editor.action.panel.label.placeholder.drive.limit"),lineNumbers:!0,mode:p.JAVASCRIPT,value:l.limit,onChange:d=>a("limit",d),expectedType:r.NUMBER}),t(s,{title:e("editor.action.panel.label.drive.page"),tips:e("editor.action.panel.label.tips.drive.page"),placeholder:e("editor.action.panel.label.placeholder.drive.page"),lineNumbers:!0,mode:p.JAVASCRIPT,value:l.page,onChange:d=>a("page",d),expectedType:r.NUMBER}),t(M,{sortByeOptions:f,commandArgs:l,handleOptionsValueChange:a})]})};B.displayName="ListAllPart";const J=i=>{const{t:e}=u(),l=i.commandArgs,{handleOptionsValueChange:a}=i,o=l.filterType,c=["id","lastModifiedAt","lastModifiedBy","name","fileNum","folderNum"],f=[{label:e("editor.action.panel.label.option.drive.file_type.none"),value:b.NONE},{label:e("editor.action.panel.label.option.drive.file_type.by_id"),value:b.BY_ID},{label:e("editor.action.panel.label.option.drive.file_type.by_name"),value:b.BY_NAME}];return h(A,{children:[t(I,{title:e("editor.action.panel.label.drive.filter_type"),tips:e("editor.action.panel.label.tips.drive.filter_type"),value:l.filterType,componentType:"select",type:"button",forceEqualWidth:!0,onChange:m=>a("filterType",m),options:f}),o===b.BY_ID&&t(s,{title:e("editor.action.panel.label.drive.folder_name"),tips:e("editor.action.panel.label.tips.drive.folder_name"),lineNumbers:!0,mode:p.JAVASCRIPT,value:l.folderID,onChange:m=>a("fileID",m),expectedType:r.STRING}),o===b.BY_NAME&&t(s,{title:e("editor.action.panel.label.drive.file_name"),tips:e("editor.action.panel.label.tips.drive.file_name"),placeholder:e("editor.action.panel.label.placeholder.drive.file_name"),lineNumbers:!0,mode:p.JAVASCRIPT,value:l.search,onChange:m=>a("search",m),expectedType:r.STRING}),t(x,{value:l.path}),t(s,{title:e("editor.action.panel.label.drive.limit"),tips:e("editor.action.panel.label.tips.drive.limit"),placeholder:e("editor.action.panel.label.placeholder.drive.limit"),lineNumbers:!0,mode:p.JAVASCRIPT,value:l.limit,onChange:m=>a("limit",m),expectedType:r.NUMBER}),t(s,{title:e("editor.action.panel.label.drive.page"),tips:e("editor.action.panel.label.tips.drive.page"),placeholder:e("editor.action.panel.label.placeholder.drive.page"),lineNumbers:!0,mode:p.JAVASCRIPT,value:l.page,onChange:m=>a("page",m),expectedType:r.NUMBER}),t(M,{sortByeOptions:c,commandArgs:l,handleOptionsValueChange:a})]})};J.displayName="ListFolders";const k=i=>{const{t:e}=u(),l=i.commandArgs,{handleOptionsValueChange:a}=i;return h(A,{children:[t(s,{title:e("editor.action.panel.label.drive.file_id"),tips:e("editor.action.panel.label.tips.drive.file_id"),placeholder:e("editor.action.panel.label.placeholder.drive.file_id"),lineNumbers:!0,mode:p.JAVASCRIPT,value:l.fileID,onChange:o=>a("fileID",o),expectedType:r.STRING}),t(s,{title:e("editor.action.panel.label.drive.target_file_name"),tips:e("editor.action.panel.label.tips.drive.target_file_name"),placeholder:e("editor.action.panel.label.placeholder.drive.target_file_name"),lineNumbers:!0,mode:p.JAVASCRIPT,value:l.fileName,onChange:o=>a("fileName",o),expectedType:r.STRING})]})};k.displayName="UpdatePart";const Y=i=>{const{t:e}=u(),l=i.commandArgs,{handleOptionsValueChange:a}=i;return h(A,{children:[t(I,{title:e("editor.action.panel.label.drive.overwrite"),tips:e("editor.action.panel.label.tips.drive.overwrite"),value:l.overwriteDuplicate,componentType:"switch",onChange:o=>a("overwriteDuplicate",o)}),t(s,{title:e("editor.action.panel.label.drive.file_name_array"),tips:e("editor.action.panel.label.drive.file_name_array"),placeholder:e("editor.action.panel.label.drive.file_name_array"),mode:p.JAVASCRIPT,value:l.fileNameArray,onChange:o=>a("fileNameArray",o),expectedType:r.ARRAY}),t(s,{title:e("editor.action.panel.label.drive.file_data_array"),tips:e("editor.action.panel.label.tips.drive.file_data_array"),placeholder:e("editor.action.panel.label.placeholder.drive.file_data_array"),mode:p.JAVASCRIPT,value:l.fileDataArray,onChange:o=>a("fileDataArray",o),expectedType:r.ARRAY}),t(s,{title:e("editor.action.panel.label.drive.file_type_array"),tips:e("editor.action.panel.label.tips.drive.file_type_array"),placeholder:e("editor.action.panel.label.placeholder.file_type_array"),mode:p.JAVASCRIPT,value:l.fileTypeArray,onChange:o=>a("fileTypeArray",o),expectedType:r.ARRAY}),t(x,{value:l.path})]})};Y.displayName="UploadMultiplePart";const G=i=>{const{t:e}=u(),l=i.commandArgs,{handleOptionsValueChange:a}=i,o=[{label:e("editor.inspect.setter_option.file_download.auto"),value:T.AUTO},{label:e("editor.inspect.setter_option.file_download.plain_text"),value:T.TXT},{label:e("editor.inspect.setter_option.file_download.jpeg"),value:T.JPEG},{label:e("editor.inspect.setter_option.file_download.png"),value:T.PNG},{label:e("editor.inspect.setter_option.file_download.svg"),value:T.SVG},{label:e("editor.inspect.setter_option.file_download.json"),value:T.JSON},{label:e("editor.inspect.setter_option.file_download.csv"),value:T.CSV},{label:e("editor.inspect.setter_option.file_download.tsv"),value:T.TSV},{label:e("editor.inspect.setter_option.file_download.excel"),value:T.XLSX}];return h(A,{children:[t(I,{title:e("editor.action.panel.label.drive.overwrite"),tips:e("editor.action.panel.label.tips.drive.overwrite"),value:l.overwriteDuplicate,componentType:"switch",onChange:c=>a("overwriteDuplicate",c)}),t(s,{title:e("editor.inspect.setter_label.file_download.file_name"),tips:e("editor.inspect.setter_tips.file_download.file_name"),placeholder:e("editor.inspect.setter.placeholder.file_download.file_name"),mode:p.JAVASCRIPT,value:l.fileName,onChange:c=>a("fileName",c),expectedType:r.STRING}),t(s,{title:e("editor.inspect.setter_label.drive_builder.fileData"),tips:e("editor.inspect.setter_tips.drive_builder.fileData"),placeholder:e("editor.inspect.setter.placeholder.drive_builder.fileData"),mode:p.JAVASCRIPT,value:l.fileData,onChange:c=>a("fileData",c),expectedType:r.STRING}),t(I,{title:e("editor.inspect.setter_label.file_download.file_type"),tips:e("editor.inspect.setter_tips.file_download.file_type"),value:l.fileType,onChange:c=>a("fileType",c),componentType:"select",options:o}),t(x,{value:l.path})]})};G.displayName="UploadPart";const ge=(i,e)=>{switch(i.operation){case n.LIST:return t(B,{handleOptionsValueChange:e,commandArgs:i.commandArgs});case n.LIST_FOLDERS:return t(J,{handleOptionsValueChange:e,commandArgs:i.commandArgs});case n.DOWNLOAD_ONE:return t(F,{handleOptionsValueChange:e,commandArgs:i.commandArgs});case n.DOWNLOAD_MULTIPLE:return t(U,{commandArgs:i.commandArgs,handleOptionsValueChange:e});case n.DELETE_ONE:return t(V,{handleOptionsValueChange:e,commandArgs:i.commandArgs});case n.DELETE_MULTIPLE:return t(w,{commandArgs:i.commandArgs,handleOptionsValueChange:e});case n.UPLOAD:return t(G,{handleOptionsValueChange:e,commandArgs:i.commandArgs});case n.UPLOAD_MULTIPLE:return t(Y,{commandArgs:i.commandArgs,handleOptionsValueChange:e});case n.UPDATE:return t(k,{handleOptionsValueChange:e,commandArgs:i.commandArgs});default:return t(A,{})}},Ie=()=>{const{t:i}=u(),e=E($),l=E(z),a=X();let o=e.content;const c=g.useCallback((d,v)=>{a(O.updateCachedAction({...e,content:{...e.content,commandArgs:{...e.content.commandArgs,[d]:v}}}))},[e,a]),f=ge(o,c),m=d=>{let v=R;if(e.resourceID===l.resourceID&&l.content.operation===d)v=l.content.commandArgs;else switch(d){case n.LIST:v=R;break;case n.LIST_FOLDERS:v=ie;break;case n.DOWNLOAD_ONE:v=te;break;case n.DOWNLOAD_MULTIPLE:v=ee;break;case n.DELETE_ONE:v=Z;break;case n.DELETE_MULTIPLE:v=K;break;case n.UPLOAD:v=Q;break;case n.UPLOAD_MULTIPLE:v=H;case n.UPDATE:v=q;break}a(O.updateCachedAction({...e,content:{...e.content,operation:d,commandArgs:v}}))},y=[{label:i("editor.action.panel.label.option.drive.method.list"),value:n.LIST},{label:i("editor.action.panel.label.option.drive.method.download"),value:n.DOWNLOAD_ONE},{label:i("editor.action.panel.label.option.drive.method.download_multi_file"),value:n.DOWNLOAD_MULTIPLE},{label:i("editor.action.panel.label.option.drive.method.delete"),value:n.DELETE_ONE},{label:i("editor.action.panel.label.option.drive.method.delete_multi_file"),value:n.DELETE_MULTIPLE},{label:i("editor.action.panel.label.option.drive.method.upload_file"),value:n.UPLOAD},{label:i("editor.action.panel.label.option.drive.method.upload_multi_file"),value:n.UPLOAD_MULTIPLE},{label:i("editor.action.panel.label.option.drive.method.update"),value:n.UPDATE}];return h(pe,{handleOptionsValueChange:c,children:[h("div",{css:se,children:[t(I,{title:i("editor.action.panel.label.drive.method"),tips:i("editor.action.panel.label.tips.drive.method"),componentType:"select",value:o.operation,showSearch:!0,onChange:m,options:y}),f,t(ne,{})]}),t(oe,{})]})};Ie.displayName="ILLADrivePanel";export{Ie as default};
//# sourceMappingURL=index-cd9faa06.js.map
