import{k as r,F as y,o as G}from"./@illa-design-1f43bb6c.js";import{b5 as t,eH as e,u as R,e as J,b as I,fv as O,bA as D,hW as v,i2 as V,be as C}from"./index-4dce6ee8.js";import{r as b}from"./react-9b7e00e3.js";import{a as k}from"./index-03ca7e7b.js";import{I as d}from"./index-2c4267bb.js";import{S as N}from"./index-01ad6233.js";import{c as j,T as H}from"./index-cd7c17cc.js";import"./@emotion-08a6282b.js";import"./codeMirror-vendor-320207e2.js";import"./lodash-lib-6e94956b.js";import"./react-icons-vendor-2430ea65.js";import"./index-6f32d056.js";import"./index-5be17f9b.js";import"./clsx.m-925abe8b.js";import"./clsx.m-266f4de0.js";import"./index-b9f5fd51.js";import"./hook-302a78fc.js";import"./renderComponentCanvasContainer-2e4cd54a.js";import"./style-49f23046.js";import"./index-d48f7e94.js";import"./index-cf2bb556.js";import"./index-2fdfc937.js";import"./layoutInfoListener-bd63c738.js";import"./drive-584d85d3.js";import"./objectWithoutPropertiesLoose-4f48578a.js";import"./popper-a04e2b11.js";import"./objectWithoutPropertiesLoose-e3246981.js";import"./clsx-06f54762.js";import"./index-934389e2.js";import"./style-51b259bb.js";import"./style-af69883e.js";const q=[{title:t.t("editor.action.panel.dynamo.label.key"),name:"key",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.condition_expression"),name:"conditionExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.attribute_name"),name:"expressionAttributeNames",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.attribute_value"),name:"expressionAttributeValues",expectedType:e.OBJECT}],M=[{title:t.t("editor.action.panel.dynamo.label.key"),name:"key",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.projection_expression"),name:"projectionExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.attribute_name"),name:"expressionAttributeNames",expectedType:e.OBJECT}],U=[{title:t.t("editor.action.panel.dynamo.label.item"),name:"item",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.condition_expression"),name:"conditionExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.attribute_name"),name:"expressionAttributeNames",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.attribute_value"),name:"expressionAttributeValues",expectedType:e.OBJECT}],L=[{title:t.t("editor.action.panel.dynamo.label.index"),name:"indexName",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.key_condition"),name:"keyConditionExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.projection_expression"),name:"projectionExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.filter_expression"),name:"filterExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.attribute_name"),name:"expressionAttributeNames",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.attribute_value"),name:"expressionAttributeValues",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.limit"),name:"limit",expectedType:e.NUMBER},{title:t.t("editor.action.panel.dynamo.label.select"),name:"select",expectedType:e.STRING}],Q=[{title:t.t("editor.action.panel.dynamo.label.index"),name:"indexName",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.projection_expression"),name:"projectionExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.filter_expression"),name:"filterExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.attribute_name"),name:"expressionAttributeNames",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.attribute_value"),name:"expressionAttributeValues",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.limit"),name:"limit",expectedType:e.NUMBER},{title:t.t("editor.action.panel.dynamo.label.select"),name:"select",expectedType:e.STRING}],F=[{title:t.t("editor.action.panel.dynamo.label.key"),name:"key",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.update_expression"),name:"updateExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.condition_expression"),name:"conditionExpression",expectedType:e.STRING},{title:t.t("editor.action.panel.dynamo.label.attribute_name"),name:"expressionAttributeNames",expectedType:e.OBJECT},{title:t.t("editor.action.panel.dynamo.label.attribute_value"),name:"expressionAttributeValues",expectedType:e.OBJECT}],g=o=>{const s=o.structParams,{handleValueChange:m}=o;return r(y,{children:q.map(i=>{const{title:n,name:a,expectedType:p}=i;return r(d,{lineNumbers:!0,style:{maxHeight:"88px"},value:s[a],onChange:c=>m(c,a),expectedType:p,title:n},a)})})};g.displayName="DeleteItemPanel";const E=o=>{const s=o.structParams,{handleValueChange:m}=o;return r(y,{children:M.map(i=>{const{title:n,name:a,expectedType:p}=i;return r(d,{lineNumbers:!0,style:{maxHeight:"88px"},value:s[a],onChange:c=>m(c,a),expectedType:p,title:n},a)})})};E.displayName="GetItemPanel";const S=o=>{const s=o.structParams,{handleValueChange:m}=o;return r(y,{children:U.map(i=>{const{title:n,name:a,expectedType:p}=i;return r(d,{lineNumbers:!0,style:{maxHeight:"88px"},value:s[a],onChange:c=>m(c,a),expectedType:p,title:n},a)})})};S.displayName="PutItemPanel";const h=o=>{const{handleValueChange:s}=o,m=o.structParams;return r(y,{children:L.map(i=>{const{title:n,name:a,expectedType:p}=i;return r(d,{lineNumbers:!0,style:{maxHeight:"88px"},value:m[a],onChange:c=>s(c,a),expectedType:p,title:n},a)})})};h.displayName="QueryPanel";const _=o=>{const s=o.structParams,{handleValueChange:m}=o;return r(y,{children:Q.map(i=>{const{title:n,name:a,expectedType:p}=i;return r(d,{lineNumbers:!0,style:{maxHeight:"88px"},value:s[a],onChange:c=>m(c,a),expectedType:p,title:n},a)})})};_.displayName="ScanPanel";const A=o=>{const s=o.structParams,{handleValueChange:m}=o;return r(y,{children:F.map(i=>{const{title:n,name:a,expectedType:p}=i;return r(d,{lineNumbers:!0,style:{maxHeight:"88px"},value:s[a],onChange:c=>m(c,a),expectedType:p,title:n},a)})})};A.displayName="UpdateItemPanel";const w={query:h,scan:_,getItem:E,putItem:S,updateItem:A,deleteItem:g},P=["query","scan","getItem","putItem","updateItem","deleteItem"],W=()=>{const{t:o}=R(),s=J(),m=I(O),i=I(D),n=i.content,{content:a}=m,[p,c]=b.useState();b.useEffect(()=>{i.resourceID!=null&&v(i.resourceID).then(({data:l})=>{c((l==null?void 0:l.Schema)??{})})},[i.resourceID]);const x=b.useCallback((l,T)=>{let u;T==="method"?l===a.method?u={...a}:u={...n,method:l,structParams:{...V[l]}}:u={...n,[T]:l},s(C.updateCachedAction({...i,content:u}))},[i,n,s,a]),f=b.useCallback((l,T)=>{const{structParams:u}=n;s(C.updateCachedAction({...i,content:{...n,structParams:{...u,[T]:l}}}))},[i,n,s]),B=w[n.method]??h;return G("div",{css:j,children:[r(N,{title:o("editor.action.panel.dynamo.label.method"),componentType:"select",onChange:l=>x(l,"method"),value:n.method,options:P}),r(d,{title:o("editor.action.panel.dynamo.label.table"),lineNumbers:!1,expectedType:e.STRING,sqlScheme:p,mode:k.SQL,value:n.table,onChange:l=>x(l,"table")}),r(N,{title:"",componentType:"checkbox",value:n.useJson,onChange:l=>x(l,"useJson"),options:P,checkoutTitle:o("editor.action.panel.dynamo.label.json_input")}),n.useJson?r(d,{title:o("editor.action.panel.dynamo.label.parameters"),style:{height:"88px"},lineNumbers:!0,expectedType:e.STRING,value:n.parameters,placeholder:o("editor.action.panel.dynamo.placeholder.parameters"),onChange:l=>x(l,"parameters")}):r(B,{structParams:n.structParams,handleValueChange:f}),r(H,{})]})};W.displayName="DynamoDBPanel";export{W as default,P as dynamoDBSelectOptions};
//# sourceMappingURL=index-3e15dd4c.js.map
